(self.webpackChunktp_sala_de_juego=self.webpackChunktp_sala_de_juego||[]).push([[179],{8255:je=>{function me(x){return Promise.resolve().then(()=>{var y=new Error("Cannot find module '"+x+"'");throw y.code="MODULE_NOT_FOUND",y})}me.keys=()=>[],me.resolve=me,me.id=8255,je.exports=me},3018:(je,me,x)=>{"use strict";x.d(me,{deG:()=>Cd,tb:()=>__,AFp:()=>m_,ip1:()=>Zp,CZH:()=>Ga,hGG:()=>F_,z2F:()=>ag,sBO:()=>Yw,Sil:()=>$a,_Vd:()=>Es,EJc:()=>Xp,SBq:()=>so,qLn:()=>_u,vpe:()=>qr,gxx:()=>ku,tBr:()=>hu,XFs:()=>Be,OlP:()=>on,zs3:()=>Nt,ZZ4:()=>Cl,aQg:()=>vp,soG:()=>Bf,YKP:()=>Tf,v3s:()=>p1,h0i:()=>Cs,PXZ:()=>M_,R0b:()=>fi,FiY:()=>qi,Lbi:()=>v_,g9A:()=>y_,Qsj:()=>DI,FYo:()=>bl,JOm:()=>Qi,Tiy:()=>gp,q3G:()=>Kt,tp0:()=>Xo,EAV:()=>R_,Rgc:()=>Df,dDg:()=>$f,DyG:()=>Dd,q4F:()=>mp,GfV:()=>$w,s_b:()=>Ep,ifc:()=>Jt,eFA:()=>og,G48:()=>UA,Gpc:()=>oe,X6Q:()=>aD,_c5:()=>TD,VLi:()=>oD,c2e:()=>b_,zSh:()=>Lu,wAp:()=>Ge,vHH:()=>De,EiD:()=>fm,mCW:()=>wc,qzn:()=>Tr,JVY:()=>ab,pB0:()=>lb,eBb:()=>KT,L6k:()=>ub,LAX:()=>gu,cg1:()=>up,Tjo:()=>CD,kL8:()=>pw,yhl:()=>pu,dqk:()=>R,sIi:()=>So,CqO:()=>zh,QGY:()=>va,F4k:()=>_a,RDi:()=>ec,AaK:()=>k,z3N:()=>Ci,qOj:()=>Wc,TTD:()=>_0,_Bn:()=>uv,xp6:()=>zb,uIk:()=>kh,ekj:()=>Mr,Suo:()=>Hp,Xpm:()=>Wl,lG2:()=>f0,Yz7:()=>hn,cJS:()=>$o,oAB:()=>ld,Yjl:()=>d0,Y36:()=>Tn,_UZ:()=>Ku,qZA:()=>$h,TgZ:()=>tf,EpF:()=>Mi,n5z:()=>$0,Ikx:()=>hf,LFG:()=>yn,$8M:()=>Hi,NdJ:()=>nf,CRH:()=>Vf,oxw:()=>xy,ALo:()=>Ts,lcZ:()=>Qv,Q6J:()=>no,s9C:()=>Xh,iGM:()=>n_,MAs:()=>Dy,CHM:()=>jg,LSH:()=>Wi,kYT:()=>Kl,YNc:()=>Uh,W1O:()=>i_,_uU:()=>nl,Oqu:()=>Gy});var y=x(9765),ne=x(5319),he=x(7574),ie=x(6682),ae=x(2441);var fe=x(1307);function q(){return new y.xQ}function L(s){for(let a in s)if(s[a]===L)return a;throw Error("Could not find renamed property on target object.")}function B(s,a){for(const l in a)a.hasOwnProperty(l)&&!s.hasOwnProperty(l)&&(s[l]=a[l])}function k(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(k).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const l=a.indexOf("\n");return-1===l?a:a.substring(0,l)}function G(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const le=L({__forward_ref__:L});function oe(s){return s.__forward_ref__=oe,s.toString=function(){return k(this())},s}function se(s){return He(s)?s():s}function He(s){return"function"==typeof s&&s.hasOwnProperty(le)&&s.__forward_ref__===oe}class De extends Error{constructor(a,l){super(function(s,a){return`${s?`NG0${s}: `:""}${a}`}(a,l)),this.code=a}}function Ae(s){return"string"==typeof s?s:null==s?"":String(s)}function xt(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Ae(s)}function ee(s,a){const l=a?` in ${a}`:"";throw new De("201",`No provider for ${xt(s)} found${l}`)}function Pt(s,a){null==s&&function(s,a,l,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${l} ${c} ${a} <=Actual]`))}(a,s,null,"!=")}function hn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function $o(s){return{providers:s.providers||[],imports:s.imports||[]}}function ct(s){return bt(s,jt)||bt(s,Wn)}function bt(s,a){return s.hasOwnProperty(a)?s[a]:null}function pn(s){return s&&(s.hasOwnProperty(wn)||s.hasOwnProperty(ad))?s[wn]:null}const jt=L({\u0275prov:L}),wn=L({\u0275inj:L}),Wn=L({ngInjectableDef:L}),ad=L({ngInjectorDef:L});var Be=(()=>((Be=Be||{})[Be.Default=0]="Default",Be[Be.Host=1]="Host",Be[Be.Self=2]="Self",Be[Be.SkipSelf=4]="SkipSelf",Be[Be.Optional=8]="Optional",Be))();let ud;function go(s){const a=ud;return ud=s,a}function ln(s,a,l){const c=ct(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:l&Be.Optional?null:void 0!==a?a:void ee(k(s),"Injector")}function We(s){return{toString:s}.toString()}var _r=(()=>((_r=_r||{})[_r.OnPush=0]="OnPush",_r[_r.Default=1]="Default",_r))(),Jt=(()=>((Jt=Jt||{})[Jt.Emulated=0]="Emulated",Jt[Jt.None=2]="None",Jt[Jt.ShadowDom=3]="ShadowDom",Jt))();const Yr="undefined"!=typeof globalThis&&globalThis,Tg="undefined"!=typeof window&&window,Xt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V="undefined"!=typeof global&&global,R=Yr||V||Tg||Xt,$={},ge=[],Ke=L({\u0275cmp:L}),Et=L({\u0275dir:L}),Dt=L({\u0275pipe:L}),Ct=L({\u0275mod:L}),Kn=L({\u0275loc:L}),cn=L({\u0275fac:L}),Vn=L({__NG_ELEMENT_ID__:L});let Qa=0;function Wl(s){return We(()=>{const l={},c={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===_r.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||ge,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Jt.Emulated,id:"c",styles:s.styles||ge,_:null,setInput:null,schemas:s.schemas||null,tView:null},d=s.directives,p=s.features,m=s.pipes;return c.id+=Qa++,c.inputs=Ya(s.inputs,l),c.outputs=Ya(s.outputs),p&&p.forEach(v=>v(c)),c.directiveDefs=d?()=>("function"==typeof d?d():d).map(l0):null,c.pipeDefs=m?()=>("function"==typeof m?m():m).map(Sg):null,c})}function l0(s){return Un(s)||function(s){return s[Et]||null}(s)}function Sg(s){return function(s){return s[Dt]||null}(s)}const c0={};function ld(s){return We(()=>{const a={type:s.type,bootstrap:s.bootstrap||ge,declarations:s.declarations||ge,imports:s.imports||ge,exports:s.exports||ge,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(c0[s.id]=s.type),a})}function Kl(s,a){return We(()=>{const l=br(s,!0);l.declarations=a.declarations||ge,l.imports=a.imports||ge,l.exports=a.exports||ge})}function Ya(s,a){if(null==s)return $;const l={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),l[d]=c,a&&(a[d]=p)}return l}const f0=Wl;function d0(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Un(s){return s[Ke]||null}function br(s,a){const l=s[Ct]||null;if(!l&&!0===a)throw new Error(`Type ${k(s)} does not have '\u0275mod' property.`);return l}function yo(s){return Array.isArray(s)&&"object"==typeof s[1]}function fn(s){return Array.isArray(s)&&!0===s[1]}function Rg(s){return 0!=(8&s.flags)}function hd(s){return 2==(2&s.flags)}function pd(s){return 1==(1&s.flags)}function mi(s){return null!==s.template}function h0(s){return 0!=(512&s[2])}function Gs(s,a){return s.hasOwnProperty(cn)?s[cn]:null}class v0{constructor(a,l,c){this.previousValue=a,this.currentValue=l,this.firstChange=c}isFirstChange(){return this.firstChange}}function _0(){return Og}function Og(s){return s.type.prototype.ngOnChanges&&(s.setInput=qM),$M}function $M(){const s=Pg(this),a=null==s?void 0:s.current;if(a){const l=s.previous;if(l===$)s.previous=a;else for(let c in a)l[c]=a[c];s.current=null,this.ngOnChanges(a)}}function qM(s,a,l,c){const d=Pg(s)||function(s,a){return s[uT]=a}(s,{previous:$,current:null}),p=d.current||(d.current={}),m=d.previous,v=this.declaredInputs[l],b=m[v];p[v]=new v0(b&&b.currentValue,a,m===$),s[c]=a}_0.ngInherit=!0;const uT="__ngSimpleChanges__";function Pg(s){return s[uT]||null}let Xl;function ec(s){Xl=s}function tn(s){return!!s.listen}const w0={createRenderer:(s,a)=>void 0!==Xl?Xl:"undefined"!=typeof document?document:void 0};function nn(s){for(;Array.isArray(s);)s=s[0];return s}function md(s,a){return nn(a[s])}function vi(s,a){return nn(a[s.index])}function Xa(s,a){return s.data[a]}function tc(s,a){return s[a]}function Fr(s,a){const l=a[s];return yo(l)?l:l[0]}function C0(s){return 4==(4&s[2])}function kg(s){return 128==(128&s[2])}function qo(s,a){return null==a?null:s[a]}function T0(s){s[18]=0}function Lg(s,a){s[5]+=a;let l=s,c=s[3];for(;null!==c&&(1===a&&1===l[5]||-1===a&&0===l[5]);)c[5]+=a,l=c,c=c[3]}const rt={lFrame:P0(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ug(){return rt.bindingsEnabled}function pe(){return rt.lFrame.lView}function yt(){return rt.lFrame.tView}function jg(s){return rt.lFrame.contextLView=s,s[8]}function mn(){let s=I0();for(;null!==s&&64===s.type;)s=s.parent;return s}function I0(){return rt.lFrame.currentTNode}function Bi(s,a){const l=rt.lFrame;l.currentTNode=s,l.isParent=a}function Bg(){return rt.lFrame.isParent}function Hs(){return rt.isInCheckNoChangesMode}function tu(s){rt.isInCheckNoChangesMode=s}function nu(){return rt.lFrame.bindingIndex++}function Hg(s,a){const l=rt.lFrame;l.bindingIndex=l.bindingRootIndex=s,$g(a)}function $g(s){rt.lFrame.currentDirectiveIndex=s}function N0(){return rt.lFrame.currentQueryIndex}function R0(s){rt.lFrame.currentQueryIndex=s}function mT(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function yT(s,a,l){if(l&Be.SkipSelf){let d=a,p=s;for(;!(d=d.parent,null!==d||l&Be.Host||(d=mT(p),null===d||(p=p[15],10&d.type))););if(null===d)return!1;a=d,s=p}const c=rt.lFrame=O0();return c.currentTNode=a,c.lView=s,!0}function oc(s){const a=O0(),l=s[1];rt.lFrame=a,a.currentTNode=l.firstChild,a.lView=s,a.tView=l,a.contextLView=s,a.bindingIndex=l.bindingStartIndex,a.inI18n=!1}function O0(){const s=rt.lFrame,a=null===s?null:s.child;return null===a?P0(s):a}function P0(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function zg(){const s=rt.lFrame;return rt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const vT=zg;function Wg(){const s=zg();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function ur(){return rt.lFrame.selectedIndex}function zo(s){rt.lFrame.selectedIndex=s}function rn(){const s=rt.lFrame;return Xa(s.tView,s.selectedIndex)}function vd(s,a){for(let l=a.directiveStart,c=a.directiveEnd;l<c;l++){const p=s.data[l].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:b,ngAfterViewChecked:w,ngOnDestroy:D}=p;m&&(s.contentHooks||(s.contentHooks=[])).push(-l,m),v&&((s.contentHooks||(s.contentHooks=[])).push(l,v),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(l,v)),b&&(s.viewHooks||(s.viewHooks=[])).push(-l,b),w&&((s.viewHooks||(s.viewHooks=[])).push(l,w),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(l,w)),null!=D&&(s.destroyHooks||(s.destroyHooks=[])).push(l,D)}}function _d(s,a,l){F0(s,a,3,l)}function Yg(s,a,l,c){(3&s[2])===l&&F0(s,a,l,c)}function x0(s,a){let l=s[2];(3&l)===a&&(l&=2047,l+=1,s[2]=l)}function F0(s,a,l,c){const p=null!=c?c:-1,m=a.length-1;let v=0;for(let b=void 0!==c?65535&s[18]:0;b<m;b++)if("number"==typeof a[b+1]){if(v=a[b],null!=c&&v>=c)break}else a[b]<0&&(s[18]+=65536),(v<p||-1==p)&&(CT(s,l,a,b),s[18]=(4294901760&s[18])+b+2),b++}function CT(s,a,l,c){const d=l[c]<0,p=l[c+1],v=s[d?-l[c]:l[c]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{p.call(v)}finally{}}}else try{p.call(v)}finally{}}class $s{constructor(a,l,c){this.factory=a,this.resolving=!1,this.canSeeViewProviders=l,this.injectImpl=c}}function ru(s,a,l){const c=tn(s);let d=0;for(;d<l.length;){const p=l[d];if("number"==typeof p){if(0!==p)break;d++;const m=l[d++],v=l[d++],b=l[d++];c?s.setAttribute(a,v,b,m):a.setAttributeNS(m,v,b)}else{const m=p,v=l[++d];L0(m)?c&&s.setProperty(a,m,v):c?s.setAttribute(a,m,v):a.setAttribute(m,v),d++}}return d}function Zg(s){return 3===s||4===s||6===s}function L0(s){return 64===s.charCodeAt(0)}function Jg(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let l=-1;for(let c=0;c<a.length;c++){const d=a[c];"number"==typeof d?l=d:0===l||ST(s,l,d,null,-1===l||2===l?a[++c]:null)}}return s}function ST(s,a,l,c,d){let p=0,m=s.length;if(-1===a)m=-1;else for(;p<s.length;){const v=s[p++];if("number"==typeof v){if(v===a){m=-1;break}if(v>a){m=p-1;break}}}for(;p<s.length;){const v=s[p];if("number"==typeof v)break;if(v===l){if(null===c)return void(null!==d&&(s[p+1]=d));if(c===s[p+1])return void(s[p+2]=d)}p++,null!==c&&p++,null!==d&&p++}-1!==m&&(s.splice(m,0,a),p=m+1),s.splice(p++,0,l),null!==c&&s.splice(p++,0,c),null!==d&&s.splice(p++,0,d)}function V0(s){return-1!==s}function sc(s){return 32767&s}function ac(s,a){let l=function(s){return s>>16}(s),c=a;for(;l>0;)c=c[15],l--;return c}let U0=!0;function Xg(s){const a=U0;return U0=s,a}let Je=0;function iu(s,a){const l=Ed(s,a);if(-1!==l)return l;const c=a[1];c.firstCreatePass&&(s.injectorIndex=a.length,kr(c.data,s),kr(a,null),kr(c.blueprint,null));const d=ou(s,a),p=s.injectorIndex;if(V0(d)){const m=sc(d),v=ac(d,a),b=v[1].data;for(let w=0;w<8;w++)a[p+w]=v[m+w]|b[m+w]}return a[p+8]=d,p}function kr(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Ed(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function ou(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let l=0,c=null,d=a;for(;null!==d;){const p=d[1],m=p.type;if(c=2===m?p.declTNode:1===m?d[6]:null,null===c)return-1;if(l++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|l<<16}return-1}function wr(s,a,l){!function(s,a,l){let c;"string"==typeof l?c=l.charCodeAt(0)||0:l.hasOwnProperty(Vn)&&(c=l[Vn]),null==c&&(c=l[Vn]=Je++);const d=255&c;a.data[s+(d>>5)]|=1<<d}(s,a,l)}function j0(s,a,l){if(l&Be.Optional)return s;ee(a,"NodeInjector")}function B0(s,a,l,c){if(l&Be.Optional&&void 0===c&&(c=null),0==(l&(Be.Self|Be.Host))){const d=s[9],p=go(void 0);try{return d?d.get(a,c,l&Be.Optional):ln(a,c,l&Be.Optional)}finally{go(p)}}return j0(c,a,l)}function _i(s,a,l,c=Be.Default,d){if(null!==s){const p=function(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Vn)?s[Vn]:void 0;return"number"==typeof a?a>=0?255&a:NT:a}(l);if("function"==typeof p){if(!yT(a,s,c))return c&Be.Host?j0(d,l,c):B0(a,l,c,d);try{const m=p(c);if(null!=m||c&Be.Optional)return m;ee(l)}finally{vT()}}else if("number"==typeof p){let m=null,v=Ed(s,a),b=-1,w=c&Be.Host?a[16][6]:null;for((-1===v||c&Be.SkipSelf)&&(b=-1===v?ou(s,a):a[v+8],-1!==b&&lc(c,!1)?(m=a[1],v=sc(b),a=ac(b,a)):v=-1);-1!==v;){const D=a[1];if(OT(p,v,D.data)){const S=H0(v,a,l,m,c,w);if(S!==G0)return S}b=a[v+8],-1!==b&&lc(c,a[1].data[v+8]===w)&&OT(p,v,a)?(m=D,v=sc(b),a=ac(b,a)):v=-1}}}return B0(a,l,c,d)}const G0={};function NT(){return new _o(mn(),pe())}function H0(s,a,l,c,d,p){const m=a[1],v=m.data[s+8],D=wd(v,m,l,null==c?hd(v)&&U0:c!=m&&0!=(3&v.type),d&Be.Host&&p===v);return null!==D?uc(a,m,D,v):G0}function wd(s,a,l,c,d){const p=s.providerIndexes,m=a.data,v=1048575&p,b=s.directiveStart,D=p>>20,A=d?v+D:s.directiveEnd;for(let F=c?v:v+D;F<A;F++){const U=m[F];if(F<b&&l===U||F>=b&&U.type===l)return F}if(d){const F=m[b];if(F&&mi(F)&&F.type===l)return b}return null}function uc(s,a,l,c){let d=s[l];const p=a.data;if(function(s){return s instanceof $s}(d)){const m=d;m.resolving&&function(s,a){throw new De("200",`Circular dependency in DI detected for ${s}`)}(xt(p[l]));const v=Xg(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?go(m.injectImpl):null;yT(s,c,Be.Default);try{d=s[l]=m.factory(void 0,p,s,c),a.firstCreatePass&&l>=c.directiveStart&&function(s,a,l){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:p}=a.type.prototype;if(c){const m=Og(a);(l.preOrderHooks||(l.preOrderHooks=[])).push(s,m),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,m)}d&&(l.preOrderHooks||(l.preOrderHooks=[])).push(0-s,d),p&&((l.preOrderHooks||(l.preOrderHooks=[])).push(s,p),(l.preOrderCheckHooks||(l.preOrderCheckHooks=[])).push(s,p))}(l,p[l],a)}finally{null!==b&&go(b),Xg(v),m.resolving=!1,vT()}}return d}function OT(s,a,l){return!!(l[a+(s>>5)]&1<<s)}function lc(s,a){return!(s&Be.Self||s&Be.Host&&a)}class _o{constructor(a,l){this._tNode=a,this._lView=l}get(a,l){return _i(this._tNode,this._lView,a,void 0,l)}}function $0(s){return We(()=>{const a=s.prototype.constructor,l=a[cn]||cc(a),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const p=d[cn]||cc(d);if(p&&p!==l)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function cc(s){return He(s)?()=>{const a=cc(se(s));return a&&a()}:Gs(s)}function Hi(s){return function(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const l=s.attrs;if(l){const c=l.length;let d=0;for(;d<c;){const p=l[d];if(Zg(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<c&&"string"==typeof l[d];)d++;else{if(p===a)return l[d+1];d+=2}}}return null}(mn(),s)}const su="__parameters__";function zs(s,a,l){return We(()=>{const c=function(s){return function(...l){if(s){const c=s(...l);for(const d in c)this[d]=c[d]}}}(a);function d(...p){if(this instanceof d)return c.apply(this,p),this;const m=new d(...p);return v.annotation=m,v;function v(b,w,D){const S=b.hasOwnProperty(su)?b[su]:Object.defineProperty(b,su,{value:[]})[su];for(;S.length<=D;)S.push(null);return(S[D]=S[D]||[]).push(m),b}}return l&&(d.prototype=Object.create(l.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class on{constructor(a,l){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof l?this.__NG_ELEMENT_ID__=l:void 0!==l&&(this.\u0275prov=hn({token:this,providedIn:l.providedIn||"root",factory:l.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Cd=new on("AnalyzeForEntryComponents"),Dd=Function;function Jr(s,a){void 0===a&&(a=s);for(let l=0;l<s.length;l++){let c=s[l];Array.isArray(c)?(a===s&&(a=s.slice(0,l)),Jr(c,a)):a!==s&&a.push(c)}return a}function bi(s,a){s.forEach(l=>Array.isArray(l)?bi(l,a):a(l))}function Td(s,a,l){a>=s.length?s.push(l):s.splice(a,0,l)}function Ws(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Vr(s,a,l){let c=Dr(s,a);return c>=0?s[1|c]=l:(c=~c,function(s,a,l,c){let d=s.length;if(d==a)s.push(l,c);else if(1===d)s.push(c,s[0]),s[0]=l;else{for(d--,s.push(s[d-1],s[d]);d>a;)s[d]=s[d-2],d--;s[a]=l,s[a+1]=c}}(s,c,a,l)),c}function em(s,a){const l=Dr(s,a);if(l>=0)return s[1|l]}function Dr(s,a){return function(s,a,l){let c=0,d=s.length>>l;for(;d!==c;){const p=c+(d-c>>1),m=s[p<<l];if(a===m)return p<<l;m>a?d=p:c=p+1}return~(d<<l)}(s,a,1)}const pc={},nm="__NG_DI_FLAG__",cu="ngTempTokenPath",J0=/\n/gm,rm="__source",Sd=L({provide:String,useValue:L});let Ks;function fu(s){const a=Ks;return Ks=s,a}function GT(s,a=Be.Default){if(void 0===Ks)throw new Error("inject() must be called from an injection context");return null===Ks?ln(s,void 0,a):Ks.get(s,a&Be.Optional?null:void 0,a)}function yn(s,a=Be.Default){return(ud||GT)(se(s),a)}function Jo(s){const a=[];for(let l=0;l<s.length;l++){const c=se(s[l]);if(Array.isArray(c)){if(0===c.length)throw new Error("Arguments array must have arguments.");let d,p=Be.Default;for(let m=0;m<c.length;m++){const v=c[m],b=fN(v);"number"==typeof b?-1===b?d=v.token:p|=b:d=v}a.push(yn(d,p))}else a.push(yn(c))}return a}function du(s,a){return s[nm]=a,s.prototype[nm]=a,s}function fN(s){return s[nm]}function Rn(s,a,l,c){const d=s[cu];throw a[rm]&&d.unshift(a[rm]),s.message=function(s,a,l,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let d=k(a);if(Array.isArray(a))d=a.map(k).join(" -> ");else if("object"==typeof a){let p=[];for(let m in a)if(a.hasOwnProperty(m)){let v=a[m];p.push(m+":"+("string"==typeof v?JSON.stringify(v):k(v)))}d=`{${p.join(", ")}}`}return`${l}${c?"("+c+")":""}[${d}]: ${s.replace(J0,"\n  ")}`}("\n"+s.message,d,l,c),s.ngTokenPath=d,s[cu]=null,s}const hu=du(zs("Inject",s=>({token:s})),-1),qi=du(zs("Optional"),8),Xo=du(zs("SkipSelf"),4);let Zs;function es(s){var a;return(null===(a=function(){if(void 0===Zs&&(Zs=null,R.trustedTypes))try{Zs=R.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Zs}())||void 0===a?void 0:a.createHTML(s))||s}class Js{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class qT extends Js{getTypeName(){return"HTML"}}class zT extends Js{getTypeName(){return"Style"}}class WT extends Js{getTypeName(){return"Script"}}class sb extends Js{getTypeName(){return"URL"}}class sm extends Js{getTypeName(){return"ResourceURL"}}function Ci(s){return s instanceof Js?s.changingThisBreaksApplicationSecurity:s}function Tr(s,a){const l=pu(s);if(null!=l&&l!==a){if("ResourceURL"===l&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${l} (see https://g.co/ng/security#xss)`)}return l===a}function pu(s){return s instanceof Js&&s.getTypeName()||null}function ab(s){return new qT(s)}function ub(s){return new zT(s)}function KT(s){return new WT(s)}function gu(s){return new sb(s)}function lb(s){return new sm(s)}class Od{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const l=(new window.DOMParser).parseFromString(es(a),"text/html").body;return null===l?this.inertDocumentHelper.getInertBodyElement(a):(l.removeChild(l.firstChild),l)}catch(l){return null}}}class fb{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const l=this.inertDocument.createElement("html");this.inertDocument.appendChild(l);const c=this.inertDocument.createElement("body");l.appendChild(c)}}getInertBodyElement(a){const l=this.inertDocument.createElement("template");if("content"in l)return l.innerHTML=es(a),l;const c=this.inertDocument.createElement("body");return c.innerHTML=es(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(c),c}stripCustomNsAttrs(a){const l=a.attributes;for(let d=l.length-1;0<d;d--){const m=l.item(d).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&a.removeAttribute(m)}let c=a.firstChild;for(;c;)c.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(c),c=c.nextSibling}}const db=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,um=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function wc(s){return(s=String(s)).match(db)||s.match(um)?s:"unsafe:"+s}function Di(s){const a={};for(const l of s.split(","))a[l]=!0;return a}function Dc(...s){const a={};for(const l of s)for(const c in l)l.hasOwnProperty(c)&&(a[c]=!0);return a}const pb=Di("area,br,col,hr,img,wbr"),gb=Di("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tc=Di("rp,rt"),xd=Dc(pb,Dc(gb,Di("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Dc(Tc,Di("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Dc(Tc,gb)),lm=Di("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sc=Di("srcset"),yb=Dc(lm,Sc,Di("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Di("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vb=Di("script,style,template");class Fd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let l=a.firstChild,c=!0;for(;l;)if(l.nodeType===Node.ELEMENT_NODE?c=this.startElement(l):l.nodeType===Node.TEXT_NODE?this.chars(l.nodeValue):this.sanitizedSomething=!0,c&&l.firstChild)l=l.firstChild;else for(;l;){l.nodeType===Node.ELEMENT_NODE&&this.endElement(l);let d=this.checkClobberedElement(l,l.nextSibling);if(d){l=d;break}l=this.checkClobberedElement(l,l.parentNode)}return this.buf.join("")}startElement(a){const l=a.nodeName.toLowerCase();if(!xd.hasOwnProperty(l))return this.sanitizedSomething=!0,!vb.hasOwnProperty(l);this.buf.push("<"),this.buf.push(l);const c=a.attributes;for(let d=0;d<c.length;d++){const p=c.item(d),m=p.name,v=m.toLowerCase();if(!yb.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let b=p.value;lm[v]&&(b=wc(b)),Sc[v]&&(s=b,b=(s=String(s)).split(",").map(a=>wc(a.trim())).join(", ")),this.buf.push(" ",m,'="',_b(b),'"')}var s;return this.buf.push(">"),!0}endElement(a){const l=a.nodeName.toLowerCase();xd.hasOwnProperty(l)&&!pb.hasOwnProperty(l)&&(this.buf.push("</"),this.buf.push(l),this.buf.push(">"))}chars(a){this.buf.push(_b(a))}checkClobberedElement(a,l){if(l&&(a.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return l}}const YT=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,cm=/([^\#-~ |!])/g;function _b(s){return s.replace(/&/g,"&amp;").replace(YT,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(cm,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ic;function fm(s,a){let l=null;try{Ic=Ic||function(s){const a=new fb(s);return function(){try{return!!(new window.DOMParser).parseFromString(es(""),"text/html")}catch(s){return!1}}()?new Od(a):a}(s);let c=a?String(a):"";l=Ic.getInertBodyElement(c);let d=5,p=c;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,c=p,p=l.innerHTML,l=Ic.getInertBodyElement(c)}while(c!==p);return es((new Fd).sanitizeChildren(dm(l)||l))}finally{if(l){const c=dm(l)||l;for(;c.firstChild;)c.removeChild(c.firstChild)}}}function dm(s){return"content"in s&&function(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Kt=(()=>((Kt=Kt||{})[Kt.NONE=0]="NONE",Kt[Kt.HTML=1]="HTML",Kt[Kt.STYLE=2]="STYLE",Kt[Kt.SCRIPT=3]="SCRIPT",Kt[Kt.URL=4]="URL",Kt[Kt.RESOURCE_URL=5]="RESOURCE_URL",Kt))();function Wi(s){const a=function(){const s=pe();return s&&s[12]}();return a?a.sanitize(Kt.URL,s)||"":Tr(s,"URL")?Ci(s):wc(Ae(s))}const Vd="__ngContext__";function kt(s,a){s[Vd]=a}function Ud(s){const a=function(s){return s[Vd]||null}(s);return a?Array.isArray(a)?a:a.lView:null}function Gd(s){return s.ngOriginalError}function ym(s,...a){s.error(...a)}class _u{constructor(){this._console=console}handleError(a){const l=this._findOriginalError(a),c=this._findContext(a),d=(s=a)&&s.ngErrorLogger||ym;var s;d(this._console,"ERROR",a),l&&d(this._console,"ORIGINAL ERROR",l),c&&d(this._console,"ERROR CONTEXT",c)}_findContext(a){return a?a.ngDebugContext||this._findContext(Gd(a)):null}_findOriginalError(a){let l=a&&Gd(a);for(;l&&Gd(l);)l=Gd(l);return l||null}}const Nb=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(R))();function Ki(s){return s instanceof Function?s():s}var Qi=(()=>((Qi=Qi||{})[Qi.Important=1]="Important",Qi[Qi.DashCase=2]="DashCase",Qi))();function _m(s,a){return undefined(s,a)}function Eu(s){const a=s[3];return fn(a)?a[3]:a}function zd(s){return Pb(s[13])}function wm(s){return Pb(s[4])}function Pb(s){for(;null!==s&&!fn(s);)s=s[4];return s}function wu(s,a,l,c,d){if(null!=c){let p,m=!1;fn(c)?p=c:yo(c)&&(m=!0,c=c[0]);const v=nn(c);0===s&&null!==l?null==d?Qd(a,l,v):Yi(a,l,v,d||null,!0):1===s&&null!==l?Yi(a,l,v,d||null,!0):2===s?function(s,a,l){const c=Yd(s,a);c&&function(s,a,l,c){tn(s)?s.removeChild(a,l,c):a.removeChild(l)}(s,c,a,l)}(a,v,m):3===s&&a.destroyNode(v),null!=p&&function(s,a,l,c,d){const p=l[7];p!==nn(l)&&wu(a,s,c,p,d);for(let v=10;v<l.length;v++){const b=l[v];Oc(b[1],b,s,a,c,p)}}(a,s,p,l,d)}}function Dm(s,a,l){return tn(s)?s.createElement(a,l):null===l?s.createElement(a):s.createElementNS(l,a)}function Fb(s,a){const l=s[9],c=l.indexOf(a),d=a[3];1024&a[2]&&(a[2]&=-1025,Lg(d,-1)),l.splice(c,1)}function Sm(s,a){if(s.length<=10)return;const l=10+a,c=s[l];if(c){const d=c[17];null!==d&&d!==s&&Fb(d,c),a>0&&(s[l-1][4]=c[4]);const p=Ws(s,10+a);!function(s,a){Oc(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(c[1],c);const m=p[19];null!==m&&m.detachView(p[1]),c[3]=null,c[4]=null,c[2]&=-129}return c}function kb(s,a){if(!(256&a[2])){const l=a[11];tn(l)&&l.destroyNode&&Oc(s,a,l,3,null,null),function(s){let a=s[13];if(!a)return Kd(s[1],s);for(;a;){let l=null;if(yo(a))l=a[13];else{const c=a[10];c&&(l=c)}if(!l){for(;a&&!a[4]&&a!==s;)yo(a)&&Kd(a[1],a),a=a[3];null===a&&(a=s),yo(a)&&Kd(a[1],a),l=a&&a[4]}a=l}}(a)}}function Kd(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(s,a){let l;if(null!=s&&null!=(l=s.destroyHooks))for(let c=0;c<l.length;c+=2){const d=a[l[c]];if(!(d instanceof $s)){const p=l[c+1];if(Array.isArray(p))for(let m=0;m<p.length;m+=2){const v=d[p[m]],b=p[m+1];try{b.call(v)}finally{}}else try{p.call(d)}finally{}}}}(s,a),function(s,a){const l=s.cleanup,c=a[7];let d=-1;if(null!==l)for(let p=0;p<l.length-1;p+=2)if("string"==typeof l[p]){const m=l[p+1],v="function"==typeof m?m(a):nn(a[m]),b=c[d=l[p+2]],w=l[p+3];"boolean"==typeof w?v.removeEventListener(l[p],b,w):w>=0?c[d=w]():c[d=-w].unsubscribe(),p+=2}else{const m=c[d=l[p+1]];l[p].call(m)}if(null!==c){for(let p=d+1;p<c.length;p++)c[p]();a[7]=null}}(s,a),1===a[1].type&&tn(a[11])&&a[11].destroy();const l=a[17];if(null!==l&&fn(a[3])){l!==a[3]&&Fb(l,a);const c=a[19];null!==c&&c.detachView(s)}}}function On(s,a,l){return function(s,a,l){let c=a;for(;null!==c&&40&c.type;)c=(a=c).parent;if(null===c)return l[0];if(2&c.flags){const d=s.data[c.directiveStart].encapsulation;if(d===Jt.None||d===Jt.Emulated)return null}return vi(c,l)}(s,a.parent,l)}function Yi(s,a,l,c,d){tn(s)?s.insertBefore(a,l,c,d):a.insertBefore(l,c,d)}function Qd(s,a,l){tn(s)?s.appendChild(a,l):a.appendChild(l)}function ea(s,a,l,c,d){null!==c?Yi(s,a,l,c,d):Qd(s,a,l)}function Yd(s,a){return tn(s)?s.parentNode(a):a.parentNode}let Im=function(s,a,l){return 40&s.type?vi(s,l):null};function Rc(s,a,l,c){const d=On(s,c,a),p=a[11],v=function(s,a,l){return Im(s,a,l)}(c.parent||a[6],c,a);if(null!=d)if(Array.isArray(l))for(let b=0;b<l.length;b++)ea(p,d,l[b],v,!1);else ea(p,d,l,v,!1)}function Tu(s,a){if(null!==a){const l=a.type;if(3&l)return vi(a,s);if(4&l)return wo(-1,s[a.index]);if(8&l){const c=a.child;if(null!==c)return Tu(s,c);{const d=s[a.index];return fn(d)?wo(-1,d):nn(d)}}if(32&l)return _m(a,s)()||nn(s[a.index]);{const c=wS(s,a);return null!==c?Array.isArray(c)?c[0]:Tu(Eu(s[16]),c):Tu(s,a.next)}}return null}function wS(s,a){return null!==a?s[16][6].projection[a.projection]:null}function wo(s,a){const l=10+s+1;if(l<a.length){const c=a[l],d=c[1].firstChild;if(null!==d)return Tu(c,d)}return a[7]}function Rm(s,a,l,c,d,p,m){for(;null!=l;){const v=c[l.index],b=l.type;if(m&&0===a&&(v&&kt(nn(v),c),l.flags|=4),64!=(64&l.flags))if(8&b)Rm(s,a,l.child,c,d,p,!1),wu(a,s,d,v,p);else if(32&b){const w=_m(l,c);let D;for(;D=w();)wu(a,s,d,D,p);wu(a,s,d,v,p)}else 16&b?Jd(s,a,c,l,d,p):wu(a,s,d,v,p);l=m?l.projectionNext:l.next}}function Oc(s,a,l,c,d,p){Rm(l,c,s.firstChild,a,d,p,!1)}function Jd(s,a,l,c,d,p){const m=l[16],b=m[6].projection[c.projection];if(Array.isArray(b))for(let w=0;w<b.length;w++)wu(a,s,d,b[w],p);else Rm(s,a,b,m[3],d,p,!0)}function Ub(s,a,l){tn(s)?s.setAttribute(a,"style",l):a.style.cssText=l}function Xd(s,a,l){tn(s)?""===l?s.removeAttribute(a,"class"):s.setAttribute(a,"class",l):a.className=l}function jb(s,a,l){let c=s.length;for(;;){const d=s.indexOf(a,l);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=a.length;if(d+p===c||s.charCodeAt(d+p)<=32)return d}l=d+1}}const Bb="ng-template";function Om(s,a,l){let c=0;for(;c<s.length;){let d=s[c++];if(l&&"class"===d){if(d=s[c],-1!==jb(d.toLowerCase(),a,0))return!0}else if(1===d){for(;c<s.length&&"string"==typeof(d=s[c++]);)if(d.toLowerCase()===a)return!0;return!1}}return!1}function Gb(s){return 4===s.type&&s.value!==Bb}function SS(s,a,l){return a===(4!==s.type||l?s.value:Bb)}function Hb(s,a,l){let c=4;const d=s.attrs||[],p=function(s){for(let a=0;a<s.length;a++)if(Zg(s[a]))return a;return s.length}(d);let m=!1;for(let v=0;v<a.length;v++){const b=a[v];if("number"!=typeof b){if(!m)if(4&c){if(c=2|1&c,""!==b&&!SS(s,b,l)||""===b&&1===a.length){if(Ti(c))return!1;m=!0}}else{const w=8&c?b:a[++v];if(8&c&&null!==s.attrs){if(!Om(s.attrs,w,l)){if(Ti(c))return!1;m=!0}continue}const S=CN(8&c?"class":b,d,Gb(s),l);if(-1===S){if(Ti(c))return!1;m=!0;continue}if(""!==w){let A;A=S>p?"":d[S+1].toLowerCase();const F=8&c?A:null;if(F&&-1!==jb(F,w,0)||2&c&&w!==A){if(Ti(c))return!1;m=!0}}}}else{if(!m&&!Ti(c)&&!Ti(b))return!1;if(m&&Ti(b))continue;m=!1,c=b|1&c}}return Ti(c)||m}function Ti(s){return 0==(1&s)}function CN(s,a,l,c){if(null===a)return-1;let d=0;if(c||!l){let p=!1;for(;d<a.length;){const m=a[d];if(m===s)return d;if(3===m||6===m)p=!0;else{if(1===m||2===m){let v=a[++d];for(;"string"==typeof v;)v=a[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=p?1:2}return-1}return function(s,a){let l=s.indexOf(4);if(l>-1)for(l++;l<s.length;){const c=s[l];if("number"==typeof c)return-1;if(c===a)return l;l++}return-1}(a,s)}function Pm(s,a,l=!1){for(let c=0;c<a.length;c++)if(Hb(s,a[c],l))return!0;return!1}function qb(s,a){return s?":not("+a.trim()+")":a}function AS(s){let a=s[0],l=1,c=2,d="",p=!1;for(;l<s.length;){let m=s[l];if("string"==typeof m)if(2&c){const v=s[++l];d+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&c?d+="."+m:4&c&&(d+=" "+m);else""!==d&&!Ti(m)&&(a+=qb(p,d),d=""),c=m,p=p||!Ti(c);l++}return""!==d&&(a+=qb(p,d)),a}const et={};function zb(s){xm(yt(),pe(),ur()+s,Hs())}function xm(s,a,l,c){if(!c)if(3==(3&a[2])){const p=s.preOrderCheckHooks;null!==p&&_d(a,p,l)}else{const p=s.preOrderHooks;null!==p&&Yg(a,p,0,l)}zo(l)}function Iu(s,a){return s<<17|a<<2}function Mt(s){return s>>17&32767}function th(s){return 2|s}function Zi(s){return(131068&s)>>2}function nh(s,a){return-131069&s|a<<2}function rh(s){return 1|s}function ch(s,a){const l=s.contentQueries;if(null!==l)for(let c=0;c<l.length;c+=2){const d=l[c],p=l[c+1];if(-1!==p){const m=s.data[p];R0(d),m.contentQueries(2,a[p],p)}}}function Nu(s,a,l,c,d,p,m,v,b,w){const D=a.blueprint.slice();return D[0]=d,D[2]=140|c,T0(D),D[3]=D[15]=s,D[8]=l,D[10]=m||s&&s[10],D[11]=v||s&&s[11],D[12]=b||s&&s[12]||null,D[9]=w||s&&s[9]||null,D[6]=p,D[16]=2==a.type?s[16]:D,D}function rs(s,a,l,c,d){let p=s.data[a];if(null===p)p=function(s,a,l,c,d){const p=I0(),m=Bg(),b=s.data[a]=function(s,a,l,c,d,p){return{type:l,index:c,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?p:p&&p.parent,l,a,c,d);return null===s.firstChild&&(s.firstChild=b),null!==p&&(m?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b)),b}(s,a,l,c,d),rt.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=l,p.value=c,p.attrs=d;const m=function(){const s=rt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();p.injectorIndex=null===m?-1:m.injectorIndex}return Bi(p,!0),p}function ta(s,a,l,c){if(0===l)return-1;const d=a.length;for(let p=0;p<l;p++)a.push(c),s.blueprint.push(c),s.data.push(null);return d}function Ru(s,a,l){oc(a);try{const c=s.viewQuery;null!==c&&Uc(1,c,l);const d=s.template;null!==d&&oE(s,a,d,1,l),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&ch(s,a),s.staticViewQueries&&Uc(2,s.viewQuery,l);const p=s.components;null!==p&&function(s,a){for(let l=0;l<a.length;l++)hE(s,a[l])}(a,p)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{a[2]&=-5,Wg()}}function is(s,a,l,c){const d=a[2];if(256==(256&d))return;oc(a);const p=Hs();try{T0(a),function(s){rt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==l&&oE(s,a,l,2,c);const m=3==(3&d);if(!p)if(m){const w=s.preOrderCheckHooks;null!==w&&_d(a,w,null)}else{const w=s.preOrderHooks;null!==w&&Yg(a,w,0,null),x0(a,0)}if(function(s){for(let a=zd(s);null!==a;a=wm(a)){if(!a[2])continue;const l=a[9];for(let c=0;c<l.length;c++){const d=l[c],p=d[3];0==(1024&d[2])&&Lg(p,1),d[2]|=1024}}}(a),function(s){for(let a=zd(s);null!==a;a=wm(a))for(let l=10;l<a.length;l++){const c=a[l],d=c[1];kg(c)&&is(d,c,d.template,c[8])}}(a),null!==s.contentQueries&&ch(s,a),!p)if(m){const w=s.contentCheckHooks;null!==w&&_d(a,w)}else{const w=s.contentHooks;null!==w&&Yg(a,w,1),x0(a,1)}!function(s,a){const l=s.hostBindingOpCodes;if(null!==l)try{for(let c=0;c<l.length;c++){const d=l[c];if(d<0)zo(~d);else{const p=d,m=l[++c],v=l[++c];Hg(m,p),v(2,a[p])}}}finally{zo(-1)}}(s,a);const v=s.components;null!==v&&function(s,a){for(let l=0;l<a.length;l++)LS(s,a[l])}(a,v);const b=s.viewQuery;if(null!==b&&Uc(2,b,c),!p)if(m){const w=s.viewCheckHooks;null!==w&&_d(a,w)}else{const w=s.viewHooks;null!==w&&Yg(a,w,2),x0(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),p||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Lg(a[3],-1))}finally{Wg()}}function OS(s,a,l,c){const d=a[10],p=!Hs(),m=C0(a);try{p&&!m&&d.begin&&d.begin(),m&&Ru(s,a,c),is(s,a,l,c)}finally{p&&!m&&d.end&&d.end()}}function oE(s,a,l,c,d){const p=ur(),m=2&c;try{zo(-1),m&&a.length>20&&xm(s,a,20,Hs()),l(c,d)}finally{zo(p)}}function dh(s,a,l){!Ug()||(function(s,a,l,c){const d=l.directiveStart,p=l.directiveEnd;s.firstCreatePass||iu(l,a),kt(c,a);const m=l.initialInputs;for(let v=d;v<p;v++){const b=s.data[v],w=mi(b);w&&dE(a,l,b);const D=uc(a,s,v,l);kt(D,a),null!==m&&Ym(0,v-d,D,b,0,m),w&&(Fr(l.index,a)[8]=D)}}(s,a,l,vi(l,a)),128==(128&l.flags)&&function(s,a,l){const c=l.directiveStart,d=l.directiveEnd,m=l.index,v=rt.lFrame.currentDirectiveIndex;try{zo(m);for(let b=c;b<d;b++){const w=s.data[b],D=a[b];$g(b),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&yh(w,D)}}finally{zo(-1),$g(v)}}(s,a,l))}function Pc(s,a,l=vi){const c=a.localNames;if(null!==c){let d=a.index+1;for(let p=0;p<c.length;p+=2){const m=c[p+1],v=-1===m?l(a,s):s[m];s[d++]=v}}}function Hm(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=hh(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function hh(s,a,l,c,d,p,m,v,b,w){const D=20+c,S=D+d,A=function(s,a){const l=[];for(let c=0;c<a;c++)l.push(c<s?null:et);return l}(D,S),F="function"==typeof w?w():w;return A[1]={type:s,blueprint:A,template:l,queries:null,viewQuery:v,declTNode:a,data:A.slice().fill(null,D),bindingStartIndex:D,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:F,incompleteFirstPass:!1}}function gh(s,a,l,c){const d=mE(a);null===l?d.push(c):(d.push(l),s.firstCreatePass&&xu(s).push(c,d.length-1))}function uE(s,a,l){for(let c in s)if(s.hasOwnProperty(c)){const d=s[c];(l=null===l?{}:l).hasOwnProperty(c)?l[c].push(a,d):l[c]=[a,d]}return l}function Ur(s,a,l,c,d,p,m,v){const b=vi(a,l);let D,w=a.inputs;!v&&null!=w&&(D=w[c])?(oy(s,l,D,c,d),hd(a)&&function(s,a){const l=Fr(a,s);16&l[2]||(l[2]|=64)}(l,a.index)):3&a.type&&(c=function(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=m?m(d,a.value||"",c):d,tn(p)?p.setProperty(b,c,d):L0(c)||(b.setProperty?b.setProperty(c,d):b[c]=d))}function Pu(s,a,l,c){let d=!1;if(Ug()){const p=function(s,a,l){const c=s.directiveRegistry;let d=null;if(c)for(let p=0;p<c.length;p++){const m=c[p];Pm(l,m.selectors,!1)&&(d||(d=[]),wr(iu(l,a),s,m.type),mi(m)?(Km(s,l),d.unshift(m)):d.push(m))}return d}(s,a,l),m=null===c?null:{"":-1};if(null!==p){d=!0,Qm(l,s.data.length,p.length);for(let D=0;D<p.length;D++){const S=p[D];S.providersResolver&&S.providersResolver(S)}let v=!1,b=!1,w=ta(s,a,p.length,null);for(let D=0;D<p.length;D++){const S=p[D];l.mergedAttrs=Jg(l.mergedAttrs,S.hostAttrs),vh(s,l,a,w,S),fE(w,S,m),null!==S.contentQueries&&(l.flags|=8),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(l.flags|=128);const A=S.type.prototype;!v&&(A.ngOnChanges||A.ngOnInit||A.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(l.index),v=!0),!b&&(A.ngOnChanges||A.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(l.index),b=!0),w++}!function(s,a){const c=a.directiveEnd,d=s.data,p=a.attrs,m=[];let v=null,b=null;for(let w=a.directiveStart;w<c;w++){const D=d[w],S=D.inputs,A=null===p||Gb(a)?null:Zm(S,p);m.push(A),v=uE(S,w,v),b=uE(D.outputs,w,b)}null!==v&&(v.hasOwnProperty("class")&&(a.flags|=16),v.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=m,a.inputs=v,a.outputs=b}(s,l)}m&&function(s,a,l){if(a){const c=s.localNames=[];for(let d=0;d<a.length;d+=2){const p=l[a[d+1]];if(null==p)throw new De("301",`Export of name '${a[d+1]}' not found!`);c.push(a[d],p)}}}(l,c,m)}return l.mergedAttrs=Jg(l.mergedAttrs,l.attrs),d}function Fc(s,a,l,c,d,p){const m=p.hostBindings;if(m){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const b=~a.index;(function(s){let a=s.length;for(;a>0;){const l=s[--a];if("number"==typeof l&&l<0)return l}return 0})(v)!=b&&v.push(b),v.push(c,d,m)}}function yh(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Km(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function fE(s,a,l){if(l){if(a.exportAs)for(let c=0;c<a.exportAs.length;c++)l[a.exportAs[c]]=s;mi(a)&&(l[""]=s)}}function Qm(s,a,l){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+l,s.providerIndexes=a}function vh(s,a,l,c,d){s.data[c]=d;const p=d.factory||(d.factory=Gs(d.type)),m=new $s(p,mi(d),null);s.blueprint[c]=m,l[c]=m,Fc(s,a,0,c,ta(s,l,d.hostVars,et),d)}function dE(s,a,l){const c=vi(a,s),d=Hm(l),p=s[10],m=bh(s,Nu(s,d,null,l.onPush?64:16,c,a,p,p.createRenderer(c,l),null,null));s[a.index]=m}function Ji(s,a,l,c,d,p){const m=vi(s,a);!function(s,a,l,c,d,p,m){if(null==p)tn(s)?s.removeAttribute(a,d,l):a.removeAttribute(d);else{const v=null==m?Ae(p):m(p,c||"",d);tn(s)?s.setAttribute(a,d,v,l):l?a.setAttributeNS(l,d,v):a.setAttribute(d,v)}}(a[11],m,p,s.value,l,c,d)}function Ym(s,a,l,c,d,p){const m=p[a];if(null!==m){const v=c.setInput;for(let b=0;b<m.length;){const w=m[b++],D=m[b++],S=m[b++];null!==v?c.setInput(l,S,w,D):l[D]=S}}}function Zm(s,a){let l=null,c=0;for(;c<a.length;){const d=a[c];if(0!==d)if(5!==d){if("number"==typeof d)break;s.hasOwnProperty(d)&&(null===l&&(l=[]),l.push(d,s[d],a[c+1])),c+=2}else c+=2;else c+=4}return l}function Pn(s,a,l,c){return new Array(s,!0,!1,a,null,0,c,l,null,null)}function LS(s,a){const l=Fr(a,s);if(kg(l)){const c=l[1];80&l[2]?is(c,l,c.template,l[8]):l[5]>0&&Xm(l)}}function Xm(s){for(let c=zd(s);null!==c;c=wm(c))for(let d=10;d<c.length;d++){const p=c[d];if(1024&p[2]){const m=p[1];is(m,p,m.template,p[8])}else p[5]>0&&Xm(p)}const l=s[1].components;if(null!==l)for(let c=0;c<l.length;c++){const d=Fr(l[c],s);kg(d)&&d[5]>0&&Xm(d)}}function hE(s,a){const l=Fr(a,s),c=l[1];(function(s,a){for(let l=a.length;l<s.blueprint.length;l++)a.push(s.blueprint[l])})(c,l),Ru(c,l,l[8])}function bh(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Lc(s){for(;s;){s[2]|=64;const a=Eu(s);if(h0(s)&&!a)return s;s=a}return null}function Vc(s,a,l){const c=a[10];c.begin&&c.begin();try{is(s,a,s.template,l)}catch(d){throw iy(a,d),d}finally{c.end&&c.end()}}function ny(s){!function(s){for(let a=0;a<s.components.length;a++){const l=s.components[a],c=Ud(l),d=c[1];OS(d,c,d.template,l)}}(s[8])}function Uc(s,a,l){R0(0),a(s,l)}const gE=(()=>Promise.resolve(null))();function mE(s){return s[7]||(s[7]=[])}function xu(s){return s.cleanup||(s.cleanup=[])}function iy(s,a){const l=s[9],c=l?l.get(_u,null):null;c&&c.handleError(a)}function oy(s,a,l,c,d){for(let p=0;p<l.length;){const m=l[p++],v=l[p++],b=a[m],w=s.data[m];null!==w.setInput?w.setInput(b,d,c,v):b[v]=d}}function Xr(s,a,l){const c=md(a,s);!function(s,a,l){tn(s)?s.setValue(a,l):a.textContent=l}(s[11],c,l)}function wh(s,a,l){let c=l?s.styles:null,d=l?s.classes:null,p=0;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?p=v:1==p?d=G(d,v):2==p&&(c=G(c,v+": "+a[++m]+";"))}l?s.styles=c:s.stylesWithoutHost=c,l?s.classes=d:s.classesWithoutHost=d}const ku=new on("INJECTOR",-1);class os{get(a,l=pc){if(l===pc){const c=new Error(`NullInjectorError: No provider for ${k(a)}!`);throw c.name="NullInjectorError",c}return l}}const Lu=new on("Set Injector scope."),ss={},yE={};let ra;function sy(){return void 0===ra&&(ra=new os),ra}function ay(s,a=null,l=null,c){return new jc(s,l,a||sy(),c)}class jc{constructor(a,l,c,d=null){this.parent=c,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];l&&bi(l,v=>this.processProvider(v,a,l)),bi([a],v=>this.processInjectorType(v,[],p)),this.records.set(ku,ia(void 0,this));const m=this.records.get(Lu);this.scope=null!=m?m.value:null,this.source=d||("object"==typeof a?null:k(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,l=pc,c=Be.Default){this.assertNotDestroyed();const d=fu(this),p=go(void 0);try{if(!(c&Be.SkipSelf)){let v=this.records.get(a);if(void 0===v){const b=("function"==typeof(s=a)||"object"==typeof s&&s instanceof on)&&ct(a);v=b&&this.injectableDefInScope(b)?ia(Vu(a),ss):null,this.records.set(a,v)}if(null!=v)return this.hydrate(a,v)}return(c&Be.Self?sy():this.parent).get(a,l=c&Be.Optional&&l===pc?null:l)}catch(m){if("NullInjectorError"===m.name){if((m[cu]=m[cu]||[]).unshift(k(a)),d)throw m;return Rn(m,a,"R3InjectorError",this.source)}throw m}finally{go(p),fu(d)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((c,d)=>a.push(k(d))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,l,c){if(!(a=se(a)))return!1;let d=pn(a);const p=null==d&&a.ngModule||void 0,m=void 0===p?a:p,v=-1!==c.indexOf(m);if(void 0!==p&&(d=pn(p)),null==d)return!1;if(null!=d.imports&&!v){let D;c.push(m);try{bi(d.imports,S=>{this.processInjectorType(S,l,c)&&(void 0===D&&(D=[]),D.push(S))})}finally{}if(void 0!==D)for(let S=0;S<D.length;S++){const{ngModule:A,providers:F}=D[S];bi(F,U=>this.processProvider(U,A,F||ge))}}this.injectorDefTypes.add(m);const b=Gs(m)||(()=>new m);this.records.set(m,ia(b,ss));const w=d.providers;if(null!=w&&!v){const D=a;bi(w,S=>this.processProvider(S,D,w))}return void 0!==p&&void 0!==a.providers}processProvider(a,l,c){let d=as(a=se(a))?a:se(a&&a.provide);const p=Uu(s=a)?ia(void 0,s.useValue):ia(ly(s),ss);var s;if(as(a)||!0!==a.multi)this.records.get(d);else{let m=this.records.get(d);m||(m=ia(void 0,ss,!0),m.factory=()=>Jo(m.multi),this.records.set(d,m)),d=a,m.multi.push(a)}this.records.set(d,p)}hydrate(a,l){return l.value===ss&&(l.value=yE,l.value=l.factory()),"object"==typeof l.value&&l.value&&null!==(s=l.value)&&"object"==typeof s&&"function"==typeof s.ngOnDestroy&&this.onDestroy.add(l.value),l.value;var s}injectableDefInScope(a){if(!a.providedIn)return!1;const l=se(a.providedIn);return"string"==typeof l?"any"===l||l===this.scope:this.injectorDefTypes.has(l)}}function Vu(s){const a=ct(s),l=null!==a?a.factory:Gs(s);if(null!==l)return l;if(s instanceof on)throw new Error(`Token ${k(s)} is missing a \u0275prov definition.`);if(s instanceof Function)return function(s){const a=s.length;if(a>0){const c=function(s,a){const l=[];for(let c=0;c<s;c++)l.push(a);return l}(a,"?");throw new Error(`Can't resolve all parameters for ${k(s)}: (${c.join(", ")}).`)}const l=function(s){const a=s&&(s[jt]||s[Wn]);if(a){const l=function(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${l}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${l}" class.`),a}return null}(s);return null!==l?()=>l.factory(s):()=>new s}(s);throw new Error("unreachable")}function ly(s,a,l){let c;if(as(s)){const d=se(s);return Gs(d)||Vu(d)}if(Uu(s))c=()=>se(s.useValue);else if(function(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...Jo(s.deps||[]));else if(function(s){return!(!s||!s.useExisting)}(s))c=()=>yn(se(s.useExisting));else{const d=se(s&&(s.useClass||s.provide));if(!function(s){return!!s.deps}(s))return Gs(d)||Vu(d);c=()=>new d(...Jo(s.deps))}return c}function ia(s,a,l=!1){return{factory:s,value:a,multi:l?[]:void 0}}function Uu(s){return null!==s&&"object"==typeof s&&Sd in s}function as(s){return"function"==typeof s}const Th=function(s,a,l){return function(s,a=null,l=null,c){const d=ay(s,a,l,c);return d._resolveInjectorDefTypes(),d}({name:l},a,s,l)};class Nt{static create(a,l){return Array.isArray(a)?Th(a,l,""):Th(a.providers,a.parent,a.name||"")}}function KS(s,a){vd(Ud(s)[1],mn())}function Wc(s){let a=function(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),l=!0;const c=[s];for(;a;){let d;if(mi(s))d=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");d=a.\u0275dir}if(d){if(l){c.push(d);const m=s;m.inputs=Oh(s.inputs),m.declaredInputs=Oh(s.declaredInputs),m.outputs=Oh(s.outputs);const v=d.hostBindings;v&&YS(s,v);const b=d.viewQuery,w=d.contentQueries;if(b&&IE(s,b),w&&_y(s,w),B(s.inputs,d.inputs),B(s.declaredInputs,d.declaredInputs),B(s.outputs,d.outputs),mi(d)&&d.data.animation){const D=s.data;D.animation=(D.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let m=0;m<p.length;m++){const v=p[m];v&&v.ngInherit&&v(s),v===Wc&&(l=!1)}}a=Object.getPrototypeOf(a)}!function(s){let a=0,l=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=a+=d.hostVars,d.hostAttrs=Jg(d.hostAttrs,l=Jg(l,d.hostAttrs))}}(c)}function Oh(s){return s===$?{}:s===ge?[]:s}function IE(s,a){const l=s.viewQuery;s.viewQuery=l?(c,d)=>{a(c,d),l(c,d)}:a}function _y(s,a){const l=s.contentQueries;s.contentQueries=l?(c,d,p)=>{a(c,d,p),l(c,d,p)}:a}function YS(s,a){const l=s.hostBindings;s.hostBindings=l?(c,d)=>{a(c,d),l(c,d)}:a}Nt.THROW_IF_NOT_FOUND=pc,Nt.NULL=new os,Nt.\u0275prov=hn({token:Nt,providedIn:"any",factory:()=>yn(ku)}),Nt.__NG_ELEMENT_ID__=-1;let ls=null;function To(){if(!ls){const s=R.Symbol;if(s&&s.iterator)ls=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let l=0;l<a.length;++l){const c=a[l];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(ls=c)}}}return ls}class ti{constructor(a){this.wrapped=a}static wrap(a){return new ti(a)}static unwrap(a){return ti.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof ti}}function So(s){return!!sn(s)&&(Array.isArray(s)||!(s instanceof Map)&&To()in s)}function sn(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Xn(s,a,l){return!Object.is(s[a],l)&&(s[a]=l,!0)}function kh(s,a,l,c){const d=pe();return Xn(d,nu(),a)&&(yt(),Ji(rn(),d,s,a,l,c)),kh}function Io(s,a,l,c){return Xn(s,nu(),l)?a+Ae(l)+c:et}function Uh(s,a,l,c,d,p,m,v){const b=pe(),w=yt(),D=s+20,S=w.firstCreatePass?function(s,a,l,c,d,p,m,v,b){const w=a.consts,D=rs(a,s,4,m||null,qo(w,v));Pu(a,l,D,qo(w,b)),vd(a,D);const S=D.tViews=hh(2,D,c,d,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,w);return null!==a.queries&&(a.queries.template(a,D),S.queries=a.queries.embeddedTView(D)),D}(D,w,b,a,l,c,d,p,m):w.data[D];Bi(S,!1);const A=b[11].createComment("");Rc(w,b,A,S),kt(A,b),bh(b,b[D]=Pn(A,b,A,S)),pd(S)&&dh(w,b,S),null!=m&&Pc(b,S,v)}function Dy(s){return tc(rt.lFrame.contextLView,20+s)}function Tn(s,a=Be.Default){const l=pe();return null===l?yn(s,a):_i(mn(),l,se(s),a)}function no(s,a,l){const c=pe();return Xn(c,nu(),a)&&Ur(yt(),rn(),c,s,a,c[11],l,!1),no}function an(s,a,l,c,d){const m=d?"class":"style";oy(s,l,a.inputs[m],m,c)}function tf(s,a,l,c){const d=pe(),p=yt(),m=20+s,v=d[11],b=d[m]=Dm(v,a,rt.lFrame.currentNamespace),w=p.firstCreatePass?function(s,a,l,c,d,p,m){const v=a.consts,w=rs(a,s,2,d,qo(v,p));return Pu(a,l,w,qo(v,m)),null!==w.attrs&&wh(w,w.attrs,!1),null!==w.mergedAttrs&&wh(w,w.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,w),w}(m,p,d,0,a,l,c):p.data[m];Bi(w,!0);const D=w.mergedAttrs;null!==D&&ru(v,b,D);const S=w.classes;null!==S&&Xd(v,b,S);const A=w.styles;null!==A&&Ub(v,b,A),64!=(64&w.flags)&&Rc(p,d,b,w),0===rt.lFrame.elementDepthCount&&kt(b,d),rt.lFrame.elementDepthCount++,pd(w)&&(dh(p,d,w),function(s,a,l){if(Rg(a)){const d=a.directiveEnd;for(let p=a.directiveStart;p<d;p++){const m=s.data[p];m.contentQueries&&m.contentQueries(1,l[p],p)}}}(p,w,d)),null!==c&&Pc(d,w)}function $h(){let s=mn();Bg()?rt.lFrame.isParent=!1:(s=s.parent,Bi(s,!1));const a=s;rt.lFrame.elementDepthCount--;const l=yt();l.firstCreatePass&&(vd(l,s),Rg(s)&&l.queries.elementEnd(s)),null!=a.classesWithoutHost&&function(s){return 0!=(16&s.flags)}(a)&&an(l,a,pe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(s){return 0!=(32&s.flags)}(a)&&an(l,a,pe(),a.stylesWithoutHost,!1)}function Ku(s,a,l,c){tf(s,a,l,c),$h()}function Mi(){return pe()}function va(s){return!!s&&"function"==typeof s.then}function _a(s){return!!s&&"function"==typeof s.subscribe}const zh=_a;function nf(s,a,l,c){const d=pe(),p=yt(),m=mn();return function(s,a,l,c,d,p,m,v){const b=pd(c),D=s.firstCreatePass&&xu(s),S=a[8],A=mE(a);let F=!0;if(3&c.type||v){const H=vi(c,a),be=v?v(H):H,ue=A.length,Fe=v?$e=>v(nn($e[c.index])):c.index;if(tn(l)){let $e=null;if(!v&&b&&($e=function(s,a,l,c){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const m=d[p];if(m===l&&d[p+1]===c){const v=a[7],b=d[p+2];return v.length>b?v[b]:null}"string"==typeof m&&(p+=2)}return null}(s,a,d,c.index)),null!==$e)($e.__ngLastListenerFn__||$e).__ngNextListenerFn__=p,$e.__ngLastListenerFn__=p,F=!1;else{p=Zh(c,a,S,p,!1);const gt=l.listen(be,d,p);A.push(p,gt),D&&D.push(d,Fe,ue,ue+1)}}else p=Zh(c,a,S,p,!0),be.addEventListener(d,p,m),A.push(p),D&&D.push(d,Fe,ue,m)}else p=Zh(c,a,S,p,!1);const U=c.outputs;let J;if(F&&null!==U&&(J=U[d])){const H=J.length;if(H)for(let be=0;be<H;be+=2){const bn=a[J[be]][J[be+1]].subscribe(p),pi=A.length;A.push(p,bn),D&&D.push(d,c.index,pi,-(pi+1))}}}(p,d,d[11],m,s,a,!!l,c),nf}function Yh(s,a,l,c){try{return!1!==l(c)}catch(d){return iy(s,d),!1}}function Zh(s,a,l,c,d){return function p(m){if(m===Function)return c;const v=2&s.flags?Fr(s.index,a):a;0==(32&a[2])&&Lc(v);let b=Yh(a,0,c,m),w=p.__ngNextListenerFn__;for(;w;)b=Yh(a,0,w,m)&&b,w=w.__ngNextListenerFn__;return d&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function xy(s=1){return function(s){return(rt.lFrame.contextLView=function(s,a){for(;s>0;)a=a[15],s--;return a}(s,rt.lFrame.contextLView))[8]}(s)}function Xh(s,a,l){return Sn(s,"",a,"",l),Xh}function Sn(s,a,l,c,d){const p=pe(),m=Io(p,a,l,c);return m!==et&&Ur(yt(),rn(),p,s,m,p[11],d,!1),Sn}function $E(s,a,l,c,d){const p=s[l+1],m=null===a;let v=c?Mt(p):Zi(p),b=!1;for(;0!==v&&(!1===b||m);){const D=s[v+1];sI(s[v],a)&&(b=!0,s[v+1]=c?rh(D):th(D)),v=c?Mt(D):Zi(D)}b&&(s[l+1]=c?th(p):rh(p))}function sI(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Dr(s,a)>=0}function Mr(s,a){return function(s,a,l,c){const d=pe(),p=yt(),m=function(s){const a=rt.lFrame,l=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,l}(2);p.firstUpdatePass&&function(s,a,l,c){const d=s.data;if(null===d[l+1]){const p=d[ur()],m=function(s,a){return a>=s.expandoStartIndex}(s,l);(function(s,a){return 0!=(s.flags&(a?16:32))})(p,c)&&null===a&&!m&&(a=!1),a=function(s,a,l,c){const d=function(s){const a=rt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let p=c?a.residualClasses:a.residualStyles;if(null===d)0===(c?a.classBindings:a.styleBindings)&&(l=el(l=Uy(null,s,a,l,c),a.attrs,c),p=null);else{const m=a.directiveStylingLast;if(-1===m||s[m]!==d)if(l=Uy(d,s,a,l,c),null===p){let b=function(s,a,l){const c=l?a.classBindings:a.styleBindings;if(0!==Zi(c))return s[Mt(c)]}(s,a,c);void 0!==b&&Array.isArray(b)&&(b=Uy(null,s,a,b[1],c),b=el(b,a.attrs,c),function(s,a,l,c){s[Mt(l?a.classBindings:a.styleBindings)]=c}(s,a,c,b))}else p=function(s,a,l){let c;const d=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<d;p++)c=el(c,s[p].hostAttrs,l);return el(c,a.attrs,l)}(s,a,c)}return void 0!==p&&(c?a.residualClasses=p:a.residualStyles=p),l}(d,p,a,c),function(s,a,l,c,d,p){let m=p?a.classBindings:a.styleBindings,v=Mt(m),b=Zi(m);s[c]=l;let D,w=!1;if(Array.isArray(l)){const S=l;D=S[1],(null===D||Dr(S,D)>0)&&(w=!0)}else D=l;if(d)if(0!==b){const A=Mt(s[v+1]);s[c+1]=Iu(A,v),0!==A&&(s[A+1]=nh(s[A+1],c)),s[v+1]=function(s,a){return 131071&s|a<<17}(s[v+1],c)}else s[c+1]=Iu(v,0),0!==v&&(s[v+1]=nh(s[v+1],c)),v=c;else s[c+1]=Iu(b,0),0===v?v=c:s[b+1]=nh(s[b+1],c),b=c;w&&(s[c+1]=th(s[c+1])),$E(s,D,c,!0),$E(s,D,c,!1),function(s,a,l,c,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof a&&Dr(p,a)>=0&&(l[c+1]=rh(l[c+1]))}(a,D,s,c,p),m=Iu(v,b),p?a.classBindings=m:a.styleBindings=m}(d,p,a,l,m,c)}}(p,s,m,c),a!==et&&Xn(d,m,a)&&function(s,a,l,c,d,p,m,v){if(!(3&a.type))return;const b=s.data,w=b[v+1];Ao(function(s){return 1==(1&s)}(w)?jy(b,a,l,d,Zi(w),m):void 0)||(Ao(p)||function(s){return 2==(2&s)}(w)&&(p=jy(b,null,l,d,v,m)),function(s,a,l,c,d){const p=tn(s);if(a)d?p?s.addClass(l,c):l.classList.add(c):p?s.removeClass(l,c):l.classList.remove(c);else{let m=-1===c.indexOf("-")?void 0:Qi.DashCase;if(null==d)p?s.removeStyle(l,c,m):l.style.removeProperty(c);else{const v="string"==typeof d&&d.endsWith("!important");v&&(d=d.slice(0,-10),m|=Qi.Important),p?s.setStyle(l,c,d,m):l.style.setProperty(c,d,v?"important":"")}}}(c,m,md(ur(),l),d,p))}(p,p.data[ur()],d,d[11],s,d[m+1]=function(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=k(Ci(s)))),s}(a,l),c,m)}(s,a,null,!0),Mr}function Uy(s,a,l,c,d){let p=null;const m=l.directiveEnd;let v=l.directiveStylingLast;for(-1===v?v=l.directiveStart:v++;v<m&&(p=a[v],c=el(c,p.hostAttrs,d),p!==s);)v++;return null!==s&&(l.directiveStylingLast=v),c}function el(s,a,l){const c=l?1:2;let d=-1;if(null!==a)for(let p=0;p<a.length;p++){const m=a[p];"number"==typeof m?d=m:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Vr(s,m,!!l||a[++p]))}return void 0===s?null:s}function jy(s,a,l,c,d,p){const m=null===a;let v;for(;d>0;){const b=s[d],w=Array.isArray(b),D=w?b[1]:b,S=null===D;let A=l[d+1];A===et&&(A=S?ge:void 0);let F=S?em(A,c):D===c?A:void 0;if(w&&!Ao(F)&&(F=em(b,c)),Ao(F)&&(v=F,m))return v;const U=s[d+1];d=m?Mt(U):Zi(U)}if(null!==a){let b=p?a.residualClasses:a.residualStyles;null!=b&&(v=em(b,c))}return v}function Ao(s){return void 0!==s}function nl(s,a=""){const l=pe(),c=yt(),d=s+20,p=c.firstCreatePass?rs(c,d,1,a,null):c.data[d],m=l[d]=function(s,a){return tn(s)?s.createText(a):s.createTextNode(a)}(l[11],a);Rc(c,l,m,p),Bi(p,!1)}function Gy(s){return xn("",s,""),Gy}function xn(s,a,l){const c=pe(),d=Io(c,s,a,l);return d!==et&&Xr(c,ur(),d),xn}function hf(s,a,l){const c=pe();return Xn(c,nu(),a)&&Ur(yt(),rn(),c,s,a,c[11],l,!0),hf}const ms=void 0;var hw=["en",[["a","p"],["AM","PM"],ms],[["AM","PM"],ms,ms],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ms,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ms,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ms,"{1} 'at' {0}",ms],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let il={};function up(s){const a=function(s){return s.toLowerCase().replace(/_/g,"-")}(s);let l=gw(a);if(l)return l;const c=a.split("-")[0];if(l=gw(c),l)return l;if("en"===c)return hw;throw new Error(`Missing locale data for the locale "${s}".`)}function pw(s){return up(s)[Ge.PluralCase]}function gw(s){return s in il||(il[s]=R.ng&&R.ng.common&&R.ng.common.locales&&R.ng.common.locales[s]),il[s]}var Ge=(()=>((Ge=Ge||{})[Ge.LocaleId=0]="LocaleId",Ge[Ge.DayPeriodsFormat=1]="DayPeriodsFormat",Ge[Ge.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ge[Ge.DaysFormat=3]="DaysFormat",Ge[Ge.DaysStandalone=4]="DaysStandalone",Ge[Ge.MonthsFormat=5]="MonthsFormat",Ge[Ge.MonthsStandalone=6]="MonthsStandalone",Ge[Ge.Eras=7]="Eras",Ge[Ge.FirstDayOfWeek=8]="FirstDayOfWeek",Ge[Ge.WeekendRange=9]="WeekendRange",Ge[Ge.DateFormat=10]="DateFormat",Ge[Ge.TimeFormat=11]="TimeFormat",Ge[Ge.DateTimeFormat=12]="DateTimeFormat",Ge[Ge.NumberSymbols=13]="NumberSymbols",Ge[Ge.NumberFormats=14]="NumberFormats",Ge[Ge.CurrencyCode=15]="CurrencyCode",Ge[Ge.CurrencySymbol=16]="CurrencySymbol",Ge[Ge.CurrencyName=17]="CurrencyName",Ge[Ge.Currencies=18]="Currencies",Ge[Ge.Directionality=19]="Directionality",Ge[Ge.PluralCase=20]="PluralCase",Ge[Ge.ExtraData=21]="ExtraData",Ge))();const gf="en-US";let Ky=gf;function fp(s){Pt(s,"Expected localeId to be defined"),"string"==typeof s&&(Ky=s.toLowerCase().replace(/_/g,"-"))}function bs(s,a,l,c,d){if(s=se(s),Array.isArray(s))for(let p=0;p<s.length;p++)bs(s[p],a,l,c,d);else{const p=yt(),m=pe();let v=as(s)?s:se(s.provide),b=ly(s);const w=mn(),D=1048575&w.providerIndexes,S=w.directiveStart,A=w.providerIndexes>>20;if(as(s)||!s.multi){const F=new $s(b,d,Tn),U=av(v,a,d?D:D+A,S);-1===U?(wr(iu(w,m),p,v),pp(p,s,a.length),a.push(v),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),l.push(F),m.push(F)):(l[U]=F,m[U]=F)}else{const F=av(v,a,D+A,S),U=av(v,a,D,D+A),J=F>=0&&l[F],H=U>=0&&l[U];if(d&&!H||!d&&!J){wr(iu(w,m),p,v);const be=function(s,a,l,c,d){const p=new $s(s,l,Tn);return p.multi=[],p.index=a,p.componentProviders=0,Ef(p,d,c&&!l),p}(d?Lw:yl,l.length,d,c,b);!d&&H&&(l[U].providerFactory=be),pp(p,s,a.length,0),a.push(v),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),l.push(be),m.push(be)}else pp(p,s,F>-1?F:U,Ef(l[d?U:F],b,!d&&c));!d&&c&&H&&l[U].componentProviders++}}}function pp(s,a,l,c){const d=as(a);if(d||function(s){return!!s.useClass}(a)){const m=(a.useClass||a).prototype.ngOnDestroy;if(m){const v=s.destroyHooks||(s.destroyHooks=[]);if(!d&&a.multi){const b=v.indexOf(l);-1===b?v.push(l,[c,m]):v[b+1].push(c,m)}else v.push(l,m)}}}function Ef(s,a,l){return l&&s.componentProviders++,s.multi.push(a)-1}function av(s,a,l,c){for(let d=l;d<c;d++)if(a[d]===s)return d;return-1}function yl(s,a,l,c){return oo(this.multi,[])}function Lw(s,a,l,c){const d=this.multi;let p;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=uc(l,l[1],this.providerFactory.index,c);p=v.slice(0,m),oo(d,p);for(let b=m;b<v.length;b++)p.push(v[b])}else p=[],oo(d,p);return p}function oo(s,a){for(let l=0;l<s.length;l++)a.push((0,s[l])());return a}function uv(s,a=[]){return l=>{l.providersResolver=(c,d)=>function(s,a,l){const c=yt();if(c.firstCreatePass){const d=mi(s);bs(l,c.data,c.blueprint,d,!0),bs(a,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,a)}}class Vw{}const jw="ngComponent";class vl{resolveComponentFactory(a){throw function(s){const a=Error(`No component factory found for ${k(s)}. Did you add it to @NgModule.entryComponents?`);return a[jw]=s,a}(a)}}class Es{}function wf(...s){}function Po(s,a){return new so(vi(s,a))}Es.NULL=new vl;const fv=function(){return Po(mn(),pe())};let so=(()=>{class s{constructor(l){this.nativeElement=l}}return s.__NG_ELEMENT_ID__=fv,s})();function _l(s){return s instanceof so?s.nativeElement:s}class bl{}let DI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>Gw(),s})();const Gw=function(){const s=pe(),l=Fr(mn().index,s);return function(s){return s[11]}(yo(l)?l:s)};let gp=(()=>{class s{}return s.\u0275prov=hn({token:s,providedIn:"root",factory:()=>null}),s})();class $w{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const mp=new $w("12.2.5");class qw{constructor(){}supports(a){return So(a)}create(a){return new El(a)}}const zw=(s,a)=>a;class El{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||zw}forEachItem(a){let l;for(l=this._itHead;null!==l;l=l._next)a(l)}forEachOperation(a){let l=this._itHead,c=this._removalsHead,d=0,p=null;for(;l||c;){const m=!c||l&&l.currentIndex<pv(c,d,p)?l:c,v=pv(m,d,p),b=m.currentIndex;if(m===c)d--,c=c._nextRemoved;else if(l=l._next,null==m.previousIndex)d++;else{p||(p=[]);const w=v-d,D=b-d;if(w!=D){for(let A=0;A<w;A++){const F=A<p.length?p[A]:p[A]=0,U=F+A;D<=U&&U<w&&(p[A]=F+1)}p[m.previousIndex]=D-w}}v!==b&&a(m,v,b)}}forEachPreviousItem(a){let l;for(l=this._previousItHead;null!==l;l=l._nextPrevious)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachMovedItem(a){let l;for(l=this._movesHead;null!==l;l=l._nextMoved)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}forEachIdentityChange(a){let l;for(l=this._identityChangesHead;null!==l;l=l._nextIdentityChange)a(l)}diff(a){if(null==a&&(a=[]),!So(a))throw new Error(`Error trying to diff '${k(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d,p,m,l=this._itHead,c=!1;if(Array.isArray(a)){this.length=a.length;for(let v=0;v<this.length;v++)p=a[v],m=this._trackByFn(v,p),null!==l&&Object.is(l.trackById,m)?(c&&(l=this._verifyReinsertion(l,p,m,v)),Object.is(l.item,p)||this._addIdentityChange(l,p)):(l=this._mismatch(l,p,m,v),c=!0),l=l._next}else d=0,function(s,a){if(Array.isArray(s))for(let l=0;l<s.length;l++)a(s[l]);else{const l=s[To()]();let c;for(;!(c=l.next()).done;)a(c.value)}}(a,v=>{m=this._trackByFn(d,v),null!==l&&Object.is(l.trackById,m)?(c&&(l=this._verifyReinsertion(l,v,m,d)),Object.is(l.item,v)||this._addIdentityChange(l,v)):(l=this._mismatch(l,v,m,d),c=!0),l=l._next,d++}),this.length=d;return this._truncate(l),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,l,c,d){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._reinsertAfter(a,p,d)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(a.item,l)||this._addIdentityChange(a,l),this._moveAfter(a,p,d)):a=this._addAfter(new wl(l,c),p,d),a}_verifyReinsertion(a,l,c,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==p?a=this._reinsertAfter(p,a._prev,d):a.currentIndex!=d&&(a.currentIndex=d,this._addToMoves(a,d)),a}_truncate(a){for(;null!==a;){const l=a._next;this._addToRemovals(this._unlink(a)),a=l}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,l,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const d=a._prevRemoved,p=a._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(a,l,c),this._addToMoves(a,c),a}_moveAfter(a,l,c){return this._unlink(a),this._insertAfter(a,l,c),this._addToMoves(a,c),a}_addAfter(a,l,c){return this._insertAfter(a,l,c),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,l,c){const d=null===l?this._itHead:l._next;return a._next=d,a._prev=l,null===d?this._itTail=a:d._prev=a,null===l?this._itHead=a:l._next=a,null===this._linkedRecords&&(this._linkedRecords=new hv),this._linkedRecords.put(a),a.currentIndex=c,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const l=a._prev,c=a._next;return null===l?this._itHead=c:l._next=c,null===c?this._itTail=l:c._prev=l,a}_addToMoves(a,l){return a.previousIndex===l||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hv),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,l){return a.item=l,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class wl{constructor(a,l){this.item=a,this.trackById=l,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yp{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,l){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===l||l<=c.currentIndex)&&Object.is(c.trackById,a))return c;return null}remove(a){const l=a._prevDup,c=a._nextDup;return null===l?this._head=c:l._nextDup=c,null===c?this._tail=l:c._prevDup=l,null===this._head}}class hv{constructor(){this.map=new Map}put(a){const l=a.trackById;let c=this.map.get(l);c||(c=new yp,this.map.set(l,c)),c.add(a)}get(a,l){const d=this.map.get(a);return d?d.get(a,l):null}remove(a){const l=a.trackById;return this.map.get(l).remove(a)&&this.map.delete(l),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pv(s,a,l){const c=s.previousIndex;if(null===c)return c;let d=0;return l&&c<l.length&&(d=l[c]),c+a+d}class Ww{constructor(){}supports(a){return a instanceof Map||sn(a)}create(){return new SI}}class SI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let l;for(l=this._mapHead;null!==l;l=l._next)a(l)}forEachPreviousItem(a){let l;for(l=this._previousMapHead;null!==l;l=l._nextPrevious)a(l)}forEachChangedItem(a){let l;for(l=this._changesHead;null!==l;l=l._nextChanged)a(l)}forEachAddedItem(a){let l;for(l=this._additionsHead;null!==l;l=l._nextAdded)a(l)}forEachRemovedItem(a){let l;for(l=this._removalsHead;null!==l;l=l._nextRemoved)a(l)}diff(a){if(a){if(!(a instanceof Map||sn(a)))throw new Error(`Error trying to diff '${k(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let l=this._mapHead;if(this._appendAfter=null,this._forEach(a,(c,d)=>{if(l&&l.key===d)this._maybeAddToChanges(l,c),this._appendAfter=l,l=l._next;else{const p=this._getOrCreateRecordForKey(d,c);l=this._insertBeforeOrAppend(l,p)}}),l){l._prev&&(l._prev._next=null),this._removalsHead=l;for(let c=l;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,l){if(a){const c=a._prev;return l._next=a,l._prev=c,a._prev=l,c&&(c._next=l),a===this._mapHead&&(this._mapHead=l),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=l,l._prev=this._appendAfter):this._mapHead=l,this._appendAfter=l,null}_getOrCreateRecordForKey(a,l){if(this._records.has(a)){const d=this._records.get(a);this._maybeAddToChanges(d,l);const p=d._prev,m=d._next;return p&&(p._next=m),m&&(m._prev=p),d._next=null,d._prev=null,d}const c=new II(a);return this._records.set(a,c),c.currentValue=l,this._addToAdditions(c),c}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,l){Object.is(l,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=l,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,l){a instanceof Map?a.forEach(l):Object.keys(a).forEach(c=>l(a[c],c))}}class II{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Kw(){return new Cl([new qw])}let Cl=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(null!=c){const d=c.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||Kw()),deps:[[s,new Xo,new qi]]}}find(l){const c=this.factories.find(d=>d.supports(l));if(null!=c)return c;throw new Error(`Cannot find a differ supporting object '${l}' of type '${function(s){return s.name||typeof s}(l)}'`)}}return s.\u0275prov=hn({token:s,providedIn:"root",factory:Kw}),s})();function Qw(){return new vp([new Ww])}let vp=(()=>{class s{constructor(l){this.factories=l}static create(l,c){if(c){const d=c.factories.slice();l=l.concat(d)}return new s(l)}static extend(l){return{provide:s,useFactory:c=>s.create(l,c||Qw()),deps:[[s,new Xo,new qi]]}}find(l){const c=this.factories.find(d=>d.supports(l));if(c)return c;throw new Error(`Cannot find a differ supporting object '${l}'`)}}return s.\u0275prov=hn({token:s,providedIn:"root",factory:Qw}),s})();function _p(s,a,l,c,d=!1){for(;null!==l;){const p=a[l.index];if(null!==p&&c.push(nn(p)),fn(p))for(let v=10;v<p.length;v++){const b=p[v],w=b[1].firstChild;null!==w&&_p(b[1],b,w,c)}const m=l.type;if(8&m)_p(s,a,l.child,c);else if(32&m){const v=_m(l,a);let b;for(;b=v();)c.push(b)}else if(16&m){const v=wS(a,l);if(Array.isArray(v))c.push(...v);else{const b=Eu(a[16]);_p(b[1],b,v,c,!0)}}l=d?l.projectionNext:l.next}return c}class Cf{constructor(a,l){this._lView=a,this._cdRefInjectingView=l,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,l=a[1];return _p(l,a,l.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(fn(a)){const l=a[8],c=l?l.indexOf(this):-1;c>-1&&(Sm(a,c),Ws(l,c))}this._attachedToViewContainer=!1}kb(this._lView[1],this._lView)}onDestroy(a){gh(this._lView[1],this._lView,null,a)}markForCheck(){Lc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vc(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(s,a,l){tu(!0);try{Vc(s,a,l)}finally{tu(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,Oc(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class AI extends Cf{constructor(a){super(a),this._view=a}detectChanges(){ny(this._view)}checkNoChanges(){!function(s){tu(!0);try{ny(s)}finally{tu(!1)}}(this._view)}get context(){return null}}const Gn=function(s){return function(s,a,l){if(hd(s)&&!l){const c=Fr(s.index,a);return new Cf(c,c)}return 47&s.type?new Cf(a[16],a):null}(mn(),pe(),16==(16&s))};let Yw=(()=>{class s{}return s.__NG_ELEMENT_ID__=Gn,s})();const Jw=[new Ww],Xw=new Cl([new qw]),NI=new vp(Jw),tC=function(){return bp(mn(),pe())};let Df=(()=>{class s{}return s.__NG_ELEMENT_ID__=tC,s})();const nC=Df,RI=class extends nC{constructor(a,l,c){super(),this._declarationLView=a,this._declarationTContainer=l,this.elementRef=c}createEmbeddedView(a){const l=this._declarationTContainer.tViews,c=Nu(this._declarationLView,l,a,16,null,l.declTNode,null,null,null,null);c[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(c[19]=p.createEmbeddedView(l)),Ru(l,c,a),new Cf(c)}};function bp(s,a){return 4&s.type?new RI(a,s,Po(s,a)):null}class Cs{}class Tf{}const iC=function(){return Sa(mn(),pe())};let Ep=(()=>{class s{}return s.__NG_ELEMENT_ID__=iC,s})();const xI=Ep,oC=class extends xI{constructor(a,l,c){super(),this._lContainer=a,this._hostTNode=l,this._hostLView=c}get element(){return Po(this._hostTNode,this._hostLView)}get injector(){return new _o(this._hostTNode,this._hostLView)}get parentInjector(){const a=ou(this._hostTNode,this._hostLView);if(V0(a)){const l=ac(a,this._hostLView),c=sc(a);return new _o(l[1].data[c+8],l)}return new _o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const l=sC(this._lContainer);return null!==l&&l[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,l,c){const d=a.createEmbeddedView(l||{});return this.insert(d,c),d}createComponent(a,l,c,d,p){const m=c||this.parentInjector;if(!p&&null==a.ngModule&&m){const b=m.get(Cs,null);b&&(p=b)}const v=a.create(m,d,void 0,p);return this.insert(v.hostView,l),v}insert(a,l){const c=a._lView,d=c[1];if(fn(c[3])){const D=this.indexOf(a);if(-1!==D)this.detach(D);else{const S=c[3],A=new oC(S,S[6],S[3]);A.detach(A.indexOf(a))}}const p=this._adjustIndex(l),m=this._lContainer;!function(s,a,l,c){const d=10+c,p=l.length;c>0&&(l[d-1][4]=a),c<p-10?(a[4]=l[d],Td(l,10+c,a)):(l.push(a),a[4]=null),a[3]=l;const m=a[17];null!==m&&l!==m&&function(s,a){const l=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===l?s[9]=[a]:l.push(a)}(m,a);const v=a[19];null!==v&&v.insertView(s),a[2]|=128}(d,c,m,p);const v=wo(p,m),b=c[11],w=Yd(b,m[7]);return null!==w&&function(s,a,l,c,d,p){c[0]=d,c[6]=a,Oc(s,c,l,1,d,p)}(d,m[6],b,c,w,v),a.attachToViewContainerRef(),Td(Ta(m),p,a),a}move(a,l){return this.insert(a,l)}indexOf(a){const l=sC(this._lContainer);return null!==l?l.indexOf(a):-1}remove(a){const l=this._adjustIndex(a,-1),c=Sm(this._lContainer,l);c&&(Ws(Ta(this._lContainer),l),kb(c[1],c))}detach(a){const l=this._adjustIndex(a,-1),c=Sm(this._lContainer,l);return c&&null!=Ws(Ta(this._lContainer),l)?new Cf(c):null}_adjustIndex(a,l=0){return null==a?this.length+l:a}};function sC(s){return s[8]}function Ta(s){return s[8]||(s[8]=[])}function Sa(s,a){let l;const c=a[s.index];if(fn(c))l=c;else{let d;if(8&s.type)d=nn(c);else{const p=a[11];d=p.createComment("");const m=vi(s,a);Yi(p,Yd(p,m),d,function(s,a){return tn(s)?s.nextSibling(a):a.nextSibling}(p,m),!1)}a[s.index]=l=Pn(c,a,d,s),bh(a,l)}return new oC(l,s,a)}const pt={};class $v extends Es{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const l=Un(a);return new xa(l,this.ngModule)}}function xf(s){const a=[];for(let l in s)s.hasOwnProperty(l)&&a.push({propName:s[l],templateName:l});return a}const EC=new on("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Nb});class xa extends Vw{constructor(a,l){super(),this.componentDef=a,this.ngModule=l,this.componentType=a.type,this.selector=a.selectors.map(AS).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!l}get inputs(){return xf(this.componentDef.inputs)}get outputs(){return xf(this.componentDef.outputs)}create(a,l,c,d){const p=(d=d||this.ngModule)?function(s,a){return{get:(l,c,d)=>{const p=s.get(l,pt,d);return p!==pt||c===pt?p:a.get(l,c,d)}}}(a,d.injector):a,m=p.get(bl,w0),v=p.get(gp,null),b=m.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",D=c?function(s,a,l){if(tn(s))return s.selectRootElement(a,l===Jt.ShadowDom);let c="string"==typeof a?s.querySelector(a):a;return c.textContent="",c}(b,c,this.componentDef.encapsulation):Dm(m.createRenderer(null,this.componentDef),w,function(s){const a=s.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(w)),S=this.componentDef.onPush?576:528,A=function(s,a){return{components:[],scheduler:s||Nb,clean:gE,playerHandler:a||null,flags:0}}(),F=hh(0,null,null,1,0,null,null,null,null,null),U=Nu(null,F,A,S,null,null,m,b,v,p);let J,H;oc(U);try{const be=function(s,a,l,c,d,p){const m=l[1];l[20]=s;const b=rs(m,20,2,"#host",null),w=b.mergedAttrs=a.hostAttrs;null!==w&&(wh(b,w,!0),null!==s&&(ru(d,s,w),null!==b.classes&&Xd(d,s,b.classes),null!==b.styles&&Ub(d,s,b.styles)));const D=c.createRenderer(s,a),S=Nu(l,Hm(a),null,a.onPush?64:16,l[20],b,c,D,p||null,null);return m.firstCreatePass&&(wr(iu(b,l),m,a.type),Km(m,b),Qm(b,l.length,1)),bh(l,S),l[20]=S}(D,this.componentDef,U,m,b);if(D)if(c)ru(b,D,["ng-version",mp.full]);else{const{attrs:ue,classes:Fe}=function(s){const a=[],l=[];let c=1,d=2;for(;c<s.length;){let p=s[c];if("string"==typeof p)2===d?""!==p&&a.push(p,s[++c]):8===d&&l.push(p);else{if(!Ti(d))break;d=p}c++}return{attrs:a,classes:l}}(this.componentDef.selectors[0]);ue&&ru(b,D,ue),Fe&&Fe.length>0&&Xd(b,D,Fe.join(" "))}if(H=Xa(F,20),void 0!==l){const ue=H.projection=[];for(let Fe=0;Fe<this.ngContentSelectors.length;Fe++){const $e=l[Fe];ue.push(null!=$e?Array.from($e):null)}}J=function(s,a,l,c,d){const p=l[1],m=function(s,a,l){const c=mn();s.firstCreatePass&&(l.providersResolver&&l.providersResolver(l),vh(s,c,a,ta(s,a,1,null),l));const d=uc(a,s,c.directiveStart,c);kt(d,a);const p=vi(c,a);return p&&kt(p,a),d}(p,l,a);if(c.components.push(m),s[8]=m,d&&d.forEach(b=>b(m,a)),a.contentQueries){const b=mn();a.contentQueries(1,m,b.directiveStart)}const v=mn();return!p.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(zo(v.index),Fc(l[1],v,0,v.directiveStart,v.directiveEnd,a),yh(a,m)),m}(be,this.componentDef,U,A,[KS]),Ru(F,U,null)}finally{Wg()}return new dn(this.componentType,J,Po(H,U),U,H)}}class dn extends class{}{constructor(a,l,c,d,p){super(),this.location=c,this._rootLView=d,this._tNode=p,this.instance=l,this.hostView=this.changeDetectorRef=new AI(d),this.componentType=a}get injector(){return new _o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const Fa=new Map;class kp extends Cs{constructor(a,l){super(),this._parent=l,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new $v(this);const c=br(a),d=a[Kn]||null;d&&fp(d),this._bootstrapComponents=Ki(c.bootstrap),this._r3Injector=ay(a,l,[{provide:Cs,useValue:this},{provide:Es,useValue:this.componentFactoryResolver}],k(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,l=Nt.THROW_IF_NOT_FOUND,c=Be.Default){return a===Nt||a===Cs||a===ku?this:this._r3Injector.get(a,l,c)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(l=>l()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class zv extends Tf{constructor(a){super(),this.moduleType=a,null!==br(a)&&function(s){const a=new Set;!function l(c){const d=br(c,!0),p=d.id;null!==p&&(function(s,a,l){if(a&&a!==l)throw new Error(`Duplicate module registered for ${s} - ${k(a)} vs ${k(a.name)}`)}(p,Fa.get(p),c),Fa.set(p,c));const m=Ki(d.imports);for(const v of m)a.has(v)||(a.add(v),l(v))}(s)}(a)}create(a){return new kp(this.moduleType,a)}}function SC(s,a,l,c,d,p){const m=a+l;return Xn(s,m,d)?function(s,a,l){return s[a]=l}(s,m+1,p?c.call(p,d):c(d)):function(s,a){const l=s[a];return l===et?void 0:l}(s,m+1)}function Ts(s,a){const l=yt();let c;const d=s+20;l.firstCreatePass?(c=function(s,a){if(a)for(let l=a.length-1;l>=0;l--){const c=a[l];if(s===c.name)return c}throw new De("302",`The pipe '${s}' could not be found!`)}(a,l.pipeRegistry),l.data[d]=c,c.onDestroy&&(l.destroyHooks||(l.destroyHooks=[])).push(d,c.onDestroy)):c=l.data[d];const p=c.factory||(c.factory=Gs(c.type)),m=go(Tn);try{const v=Xg(!1),b=p();return Xg(v),function(s,a,l,c){l>=s.data.length&&(s.data[l]=null,s.blueprint[l]=null),a[l]=c}(l,pe(),d,b),b}finally{go(m)}}function Qv(s,a,l){const c=s+20,d=pe(),p=tc(d,c);return function(s,a){ti.isWrapped(a)&&(a=ti.unwrap(a),s[rt.lFrame.bindingIndex]=et);return a}(d,function(s,a){return s[1].data[a].pure}(d,c)?SC(d,function(){const s=rt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}(),a,p.transform,l,p):p.transform(l))}function Xv(s){return a=>{setTimeout(s,void 0,a)}}const qr=class extends y.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,l,c){var d,p,m;let v=a,b=l||(()=>null),w=c;if(a&&"object"==typeof a){const S=a;v=null===(d=S.next)||void 0===d?void 0:d.bind(S),b=null===(p=S.error)||void 0===p?void 0:p.bind(S),w=null===(m=S.complete)||void 0===m?void 0:m.bind(S)}this.__isAsync&&(b=Xv(b),v&&(v=Xv(v)),w&&(w=Xv(w)));const D=super.subscribe({next:v,error:b,complete:w});return a instanceof ne.w&&a.add(D),D}};function La(){return this._results[To()]()}class ci{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const l=To(),c=ci.prototype;c[l]||(c[l]=La)}get changes(){return this._changes||(this._changes=new qr)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,l){return this._results.reduce(a,l)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,l){const c=this;c.dirty=!1;const d=Jr(a);(this._changesDetected=!function(s,a,l){if(s.length!==a.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],p=a[c];if(l&&(d=l(d),p=l(p)),p!==d)return!1}return!0}(c._results,d,l))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class jp{constructor(a){this.queryList=a,this.matches=null}clone(){return new jp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Bp{constructor(a=[]){this.queries=a}createEmbeddedView(a){const l=a.queries;if(null!==l){const c=null!==a.contentQueries?a.contentQueries[0]:l.length,d=[];for(let p=0;p<c;p++){const m=l.getByIndex(p);d.push(this.queries[m.indexInDeclarationView].clone())}return new Bp(d)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let l=0;l<this.queries.length;l++)null!==r_(a,l).matches&&this.queries[l].setDirty()}}class Rl{constructor(a,l,c=null){this.predicate=a,this.flags=l,this.read=c}}class lo{constructor(a=[]){this.queries=a}elementStart(a,l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(a,l)}elementEnd(a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementEnd(a)}embeddedTView(a){let l=null;for(let c=0;c<this.length;c++){const d=null!==l?l.length:0,p=this.getByIndex(c).embeddedTView(a,d);p&&(p.indexInDeclarationView=c,null!==l?l.push(p):l=[p])}return null!==l?new lo(l):null}template(a,l){for(let c=0;c<this.queries.length;c++)this.queries[c].template(a,l)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class e_{constructor(a,l=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=l}elementStart(a,l){this.isApplyingToNode(l)&&this.matchTNode(a,l)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,l){this.elementStart(a,l)}embeddedTView(a,l){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,l),new e_(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const l=this._declarationNodeIndex;let c=a.parent;for(;null!==c&&8&c.type&&c.index!==l;)c=c.parent;return l===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(a,l){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const p=c[d];this.matchTNodeWithReadOption(a,l,hA(l,p)),this.matchTNodeWithReadOption(a,l,wd(l,a,p,!1,!1))}else c===Df?4&l.type&&this.matchTNodeWithReadOption(a,l,-1):this.matchTNodeWithReadOption(a,l,wd(l,a,c,!1,!1))}matchTNodeWithReadOption(a,l,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===so||d===Ep||d===Df&&4&l.type)this.addMatch(l.index,-2);else{const p=wd(l,a,d,!1,!1);null!==p&&this.addMatch(l.index,p)}else this.addMatch(l.index,c)}}addMatch(a,l){null===this.matches?this.matches=[a,l]:this.matches.push(a,l)}}function hA(s,a){const l=s.localNames;if(null!==l)for(let c=0;c<l.length;c+=2)if(l[c]===a)return l[c+1];return null}function NC(s,a,l,c){return-1===l?function(s,a){return 11&s.type?Po(s,a):4&s.type?bp(s,a):null}(a,s):-2===l?function(s,a,l){return l===so?Po(a,s):l===Df?bp(a,s):l===Ep?Sa(a,s):void 0}(s,a,c):uc(s,s[1],l,a)}function t_(s,a,l,c){const d=a[19].queries[c];if(null===d.matches){const p=s.data,m=l.matches,v=[];for(let b=0;b<m.length;b+=2){const w=m[b];v.push(w<0?null:NC(a,p[w],m[b+1],l.metadata.read))}d.matches=v}return d.matches}function Gp(s,a,l,c){const d=s.queries.getByIndex(l),p=d.matches;if(null!==p){const m=t_(s,a,d,l);for(let v=0;v<p.length;v+=2){const b=p[v];if(b>0)c.push(m[v/2]);else{const w=p[v+1],D=a[-b];for(let S=10;S<D.length;S++){const A=D[S];A[17]===A[3]&&Gp(A[1],A,w,c)}if(null!==D[9]){const S=D[9];for(let A=0;A<S.length;A++){const F=S[A];Gp(F[1],F,w,c)}}}}}return c}function n_(s){const a=pe(),l=yt(),c=N0();R0(c+1);const d=r_(l,c);if(s.dirty&&C0(a)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?Gp(l,a,c,[]):t_(l,a,d,c);s.reset(p,_l),s.notifyOnChanges()}return!0}return!1}function Hp(s,a,l,c){const d=yt();if(d.firstCreatePass){const p=mn();(function(s,a,l){null===s.queries&&(s.queries=new lo),s.queries.track(new e_(a,l))})(d,new Rl(a,l,c),p.index),function(s,a){const l=s.contentQueries||(s.contentQueries=[]);a!==(l.length?l[l.length-1]:-1)&&l.push(s.queries.length-1,a)}(d,s),2==(2&l)&&(d.staticContentQueries=!0)}!function(s,a,l){const c=new ci(4==(4&l));gh(s,a,c,c.destroy),null===a[19]&&(a[19]=new Bp),a[19].queries.push(new jp(c))}(d,pe(),l)}function Vf(){return s=pe(),a=N0(),s[19].queries[a].queryList;var s,a}function r_(s,a){return s.queries.getByIndex(a)}function i_(s,a){return bp(s,a)}const Zp=new on("Application Initializer");let Ga=(()=>{class s{constructor(l){this.appInits=l,this.resolve=wf,this.reject=wf,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const l=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const p=this.appInits[d]();if(va(p))l.push(p);else if(zh(p)){const m=new Promise((v,b)=>{p.subscribe({complete:v,error:b})});l.push(m)}}Promise.all(l).then(()=>{c()}).catch(d=>{this.reject(d)}),0===l.length&&c(),this.initialized=!0}}return s.\u0275fac=function(l){return new(l||s)(yn(Zp,8))},s.\u0275prov=hn({token:s,factory:s.\u0275fac}),s})();const m_=new on("AppId"),Ns={provide:m_,useFactory:function(){return`${Jp()}${Jp()}${Jp()}`},deps:[]};function Jp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const y_=new on("Platform Initializer"),v_=new on("Platform ID"),__=new on("appBootstrapListener");let b_=(()=>{class s{log(l){console.log(l)}warn(l){console.warn(l)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=hn({token:s,factory:s.\u0275fac}),s})();const Bf=new on("LocaleId"),Xp=new on("DefaultCurrencyCode");class eg{constructor(a,l){this.ngModuleFactory=a,this.componentFactories=l}}const tg=function(s){return new zv(s)},gr=tg,u1=function(s){return Promise.resolve(tg(s))},ng=function(s){const a=tg(s),c=Ki(br(s).declarations).reduce((d,p)=>{const m=Un(p);return m&&d.push(new xa(m)),d},[]);return new eg(a,c)},E_=ng,kA=function(s){return Promise.resolve(ng(s))};let $a=(()=>{class s{constructor(){this.compileModuleSync=gr,this.compileModuleAsync=u1,this.compileModuleAndAllComponentsSync=E_,this.compileModuleAndAllComponentsAsync=kA}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=hn({token:s,factory:s.\u0275fac}),s})();const c1=(()=>Promise.resolve(0))();function nD(s){"undefined"==typeof Zone?c1.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class fi{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:l=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new qr(!1),this.onMicrotaskEmpty=new qr(!1),this.onStable=new qr(!1),this.onError=new qr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&l,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function(){let s=R.requestAnimationFrame,a=R.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l);const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(s){const a=()=>{!function(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(R,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ll(s),s.isCheckStableRunning=!0,C_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ll(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(l,c,d,p,m,v)=>{try{return Hf(s),l.invokeTask(d,p,m,v)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&a(),rD(s)}},onInvoke:(l,c,d,p,m,v,b)=>{try{return Hf(s),l.invoke(d,p,m,v,b)}finally{s.shouldCoalesceRunChangeDetection&&a(),rD(s)}},onHasTask:(l,c,d,p)=>{l.hasTask(d,p),c===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Ll(s),C_(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(l,c,d,p)=>(l.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fi.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(fi.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,l,c){return this._inner.run(a,l,c)}runTask(a,l,c,d){const p=this._inner,m=p.scheduleEventTask("NgZoneEvent: "+d,a,d1,wf,wf);try{return p.runTask(m,l,c)}finally{p.cancelTask(m)}}runGuarded(a,l,c){return this._inner.runGuarded(a,l,c)}runOutsideAngular(a){return this._outer.run(a)}}const d1={};function C_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ll(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Hf(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function rD(s){s._nesting--,C_(s)}class D_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new qr,this.onMicrotaskEmpty=new qr,this.onStable=new qr,this.onError=new qr}run(a,l,c){return a.apply(l,c)}runGuarded(a,l,c){return a.apply(l,c)}runOutsideAngular(a){return a()}runTask(a,l,c,d){return a.apply(l,c)}}let $f=(()=>{class s{constructor(l){this._ngZone=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fi.assertNotInAngularZone(),nD(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())nD(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(l)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,c,d){let p=-1;c&&c>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==p),l(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:l,timeoutId:p,updateCb:d})}whenStable(l,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(l,c,d){return[]}}return s.\u0275fac=function(l){return new(l||s)(yn(fi))},s.\u0275prov=hn({token:s,factory:s.\u0275fac}),s})(),iD=(()=>{class s{constructor(){this._applications=new Map,T_.addToWindow(this)}registerApplication(l,c){this._applications.set(l,c)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,c=!0){return T_.findTestabilityInTree(this,l,c)}}return s.\u0275fac=function(l){return new(l||s)},s.\u0275prov=hn({token:s,factory:s.\u0275fac}),s})();class VA{addToWindow(a){}findTestabilityInTree(a,l,c){return null}}function oD(s){T_=s}let T_=new VA,S_=!0,sD=!1;function aD(){return sD=!0,S_}function UA(){if(sD)throw new Error("Cannot enable prod mode after platform setup.");S_=!1}let zr;const uD=new on("AllowMultipleToken");class M_{constructor(a,l){this.name=a,this.token=l}}function og(s,a,l=[]){const c=`Platform: ${a}`,d=new on(c);return(p=[])=>{let m=sg();if(!m||m.injector.get(uD,!1))if(s)s(l.concat(p).concat({provide:d,useValue:!0}));else{const v=l.concat(p).concat({provide:d,useValue:!0},{provide:Lu,useValue:"platform"});!function(s){if(zr&&!zr.destroyed&&!zr.injector.get(uD,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");zr=s.get(Uo);const a=s.get(y_,null);a&&a.forEach(l=>l())}(Nt.create({providers:v,name:c}))}return function(s){const a=sg();if(!a)throw new Error("No platform exists!");if(!a.injector.get(s,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(d)}}function sg(){return zr&&!zr.destroyed?zr:null}let Uo=(()=>{class s{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,c){const v=function(s,a){let l;return l="noop"===s?new D_:("zone.js"===s?void 0:s)||new fi({enableLongStackTrace:aD(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),l}(c?c.ngZone:void 0,{ngZoneEventCoalescing:c&&c.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:c&&c.ngZoneRunCoalescing||!1}),b=[{provide:fi,useValue:v}];return v.run(()=>{const w=Nt.create({providers:b,parent:this.injector,name:l.moduleType.name}),D=l.create(w),S=D.injector.get(_u,null);if(!S)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const A=v.onError.subscribe({next:F=>{S.handleError(F)}});D.onDestroy(()=>{qa(this._modules,D),A.unsubscribe()})}),function(s,a,l){try{const c=l();return va(c)?c.catch(d=>{throw a.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw a.runOutsideAngular(()=>s.handleError(c)),c}}(S,v,()=>{const A=D.injector.get(Ga);return A.runInitializers(),A.donePromise.then(()=>(fp(D.injector.get(Bf,gf)||gf),this._moduleDoBootstrap(D),D))})})}bootstrapModule(l,c=[]){const d=dD({},c);return function(s,a,l){const c=new zv(l);return Promise.resolve(c)}(0,0,l).then(p=>this.bootstrapModuleFactory(p,d))}_moduleDoBootstrap(l){const c=l.injector.get(ag);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!l.instance.ngDoBootstrap)throw new Error(`The module ${k(l.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);l.instance.ngDoBootstrap(c)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(l){return new(l||s)(yn(Nt))},s.\u0275prov=hn({token:s,factory:s.\u0275fac}),s})();function dD(s,a){return Array.isArray(a)?a.reduce(dD,s):Object.assign(Object.assign({},s),a)}let ag=(()=>{class s{constructor(l,c,d,p,m){this._zone=l,this._injector=c,this._exceptionHandler=d,this._componentFactoryResolver=p,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new he.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),b=new he.y(w=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{fi.assertNotInAngularZone(),nD(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{fi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{D.unsubscribe(),S.unsubscribe()}});this.isStable=(0,ie.T)(v,b.pipe(s=>(0,fe.x)()(function(s,a){return function(c){let d;d="function"==typeof s?s:function(){return s};const p=Object.create(c,ae.N);return p.source=c,p.subjectFactory=d,p}}(q)(s))))}bootstrap(l,c){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let d;d=l instanceof Vw?l:this._componentFactoryResolver.resolveComponentFactory(l),this.componentTypes.push(d.componentType);const p=function(s){return s.isBoundToModule}(d)?void 0:this._injector.get(Cs),v=d.create(Nt.NULL,[],c||d.selector,p),b=v.location.nativeElement,w=v.injector.get($f,null),D=w&&v.injector.get(iD);return w&&D&&D.registerApplication(b,w),v.onDestroy(()=>{this.detachView(v.hostView),qa(this.components,v),D&&D.unregisterApplication(b)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(l))}finally{this._runningTick=!1}}attachView(l){const c=l;this._views.push(c),c.attachToAppRef(this)}detachView(l){const c=l;qa(this._views,c),c.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l),this._injector.get(__,[]).concat(this._bootstrapListeners).forEach(d=>d(l))}ngOnDestroy(){this._views.slice().forEach(l=>l.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(l){return new(l||s)(yn(fi),yn(Nt),yn(_u),yn(Es),yn(Ga))},s.\u0275prov=hn({token:s,factory:s.\u0275fac}),s})();function qa(s,a){const l=s.indexOf(a);l>-1&&s.splice(l,1)}class p1{}class g1{}const gD={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let R_=(()=>{class s{constructor(l,c){this._compiler=l,this._config=c||gD}load(l){return this.loadAndCompile(l)}loadAndCompile(l){let[c,d]=l.split("#");return void 0===d&&(d="default"),x(8255)(c).then(p=>p[d]).then(p=>lg(p,c,d)).then(p=>this._compiler.compileModuleAsync(p))}loadFactory(l){let[c,d]=l.split("#"),p="NgFactory";return void 0===d&&(d="default",p=""),x(8255)(this._config.factoryPathPrefix+c+this._config.factoryPathSuffix).then(m=>m[d+p]).then(m=>lg(m,c,d))}}return s.\u0275fac=function(l){return new(l||s)(yn($a),yn(g1,8))},s.\u0275prov=hn({token:s,factory:s.\u0275fac}),s})();function lg(s,a,l){if(!s)throw new Error(`Cannot find '${l}' in '${a}'`);return s}const CD=function(s){return null},TD=og(null,"core",[{provide:v_,useValue:"unknown"},{provide:Uo,deps:[Nt]},{provide:iD,deps:[]},{provide:b_,deps:[]}]),XA=[{provide:ag,useClass:ag,deps:[fi,Nt,_u,Es,Ga]},{provide:EC,deps:[fi],useFactory:function(s){let a=[];return s.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(l){a.push(l)}}},{provide:Ga,useClass:Ga,deps:[[new qi,Zp]]},{provide:$a,useClass:$a,deps:[]},Ns,{provide:Cl,useFactory:function(){return Xw},deps:[]},{provide:vp,useFactory:function(){return NI},deps:[]},{provide:Bf,useFactory:function(s){return fp(s=s||"undefined"!=typeof $localize&&$localize.locale||gf),s},deps:[[new hu(Bf),new qi,new Xo]]},{provide:Xp,useValue:"USD"}];let F_=(()=>{class s{constructor(l){}}return s.\u0275fac=function(l){return new(l||s)(yn(ag))},s.\u0275mod=ld({type:s}),s.\u0275inj=$o({providers:XA}),s})()},57:(je,me,x)=>{"use strict";x.d(me,{hO:()=>Kr,xv:()=>se,Dh:()=>oe,HU:()=>L,GT:()=>le,sI:()=>xt,on:()=>De,ss:()=>B,pX:()=>G,yq:()=>Qe});var y=x(7771),ne=x(3637),he=x(3342),ie=x(3101),ae=x(309),X=x(3018),de=x(2329);function fe(){}je=x.hmd(je);class q{constructor(ee,W=y.N){this.zone=ee,this.delegate=W}now(){return this.delegate.now()}schedule(ee,W,Y){const ve=this.zone;return this.delegate.schedule(function(xe){ve.runGuarded(()=>{ee.apply(this,[xe])})},W,Y)}}class O{constructor(ee){this.zone=ee,this.task=null}call(ee,W){const Y=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",fe,{},fe,fe)),W.pipe((0,he.b)({next:Y,complete:Y,error:Y})).subscribe(ee).add(Y)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class L{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new q(Zone.current)),this.insideAngular=ee.run(()=>new q(Zone.current,ne.z))}}function B(K){return function(W){return(W=W.lift(new O(K.ngZone))).pipe((0,ie.R)(K.outsideAngular),(0,ae.QV)(K.insideAngular))}}const k=["ngOnDestroy"],G=(K,ee,W,Y={})=>new Proxy(K,{get:(ve,Z)=>W.runOutsideAngular(()=>{var xe;if(K[Z])return(null===(xe=null==Y?void 0:Y.spy)||void 0===xe?void 0:xe.get)&&Y.spy.get(Z,K[Z]),K[Z];if(k.indexOf(Z)>-1)return()=>{};const Xe=ee.toPromise().then(Yt=>{const Ue=Yt&&Yt[Z];return"function"==typeof Ue?Ue.bind(Yt):Ue&&Ue.then?Ue.then(Zt=>W.run(()=>Zt)):W.run(()=>Ue)});return new Proxy(()=>{},{get:(Yt,Ue)=>Xe[Ue],apply:(Yt,Ue,Zt)=>Xe.then(Ye=>{var Me;const at=Ye&&Ye(...Zt);return(null===(Me=null==Y?void 0:Y.spy)||void 0===Me?void 0:Me.apply)&&Y.spy.apply(Z,Zt,at),at})})})}),le=(K,ee)=>{ee.forEach(W=>{Object.getOwnPropertyNames(W.prototype||W).forEach(Y=>{Object.defineProperty(K.prototype,Y,Object.getOwnPropertyDescriptor(W.prototype||W,Y))})})},oe=new X.OlP("angularfire2.app.options"),se=new X.OlP("angularfire2.app.nameOrConfig"),Se=new X.GfV("6.1.5");function De(K,ee,W){const ve="object"==typeof W&&W||{};ve.name=ve.name||"string"==typeof W&&W||"[DEFAULT]";const xe=de.Z.apps.filter(Xe=>Xe&&Xe.name===ve.name)[0]||ee.runOutsideAngular(()=>de.Z.initializeApp(K,ve));try{JSON.stringify(K)!==JSON.stringify(xe.options)&&Oe("error",`${xe.name} Firebase App already initialized with different options${je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Xe){}return xe}const Qe=()=>{Oe("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},Oe=(K,...ee)=>{(0,X.X6Q)()&&"undefined"!=typeof console&&console[K](...ee)};function xt(K,ee,W,Y,ve){const[Z,...xe]=globalThis.\u0275AngularfireInstanceCache.get(K)||[];if(Z){try{ve.some((Xe,Yt)=>{const Ue=xe[Yt];return Xe&&"object"==typeof Xe?JSON.stringify(Xe)!==JSON.stringify(Ue):Xe!==Ue})&&Oe("error",`${ee} was already initialized on the ${W.name} Firebase App instance with different settings.${je.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(Xe){}return Z}{const Xe=Y();return globalThis.\u0275AngularfireInstanceCache.set(K,[Xe,...ve]),Xe}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const Ut={provide:class{},useFactory:De,deps:[oe,X.R0b,[new X.FiY,se]]};let Kr=(()=>{class K{constructor(W){de.Z.registerVersion("angularfire",Se.full,W.toString()),de.Z.registerVersion("angular",X.q4F.full)}static initializeApp(W,Y){return{ngModule:K,providers:[{provide:oe,useValue:W},{provide:se,useValue:Y}]}}}return K.\u0275fac=function(W){return new(W||K)(X.LFG(X.Lbi))},K.\u0275mod=X.oAB({type:K}),K.\u0275inj=X.cJS({providers:[Ut]}),K})()},9759:(je,me,x)=>{"use strict";x.d(me,{Z:()=>Zt});var ae,Oe,y=x(4762),ne=x(4685),he=x(6034),ie=x(300),X=((ae={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",ae["bad-app-name"]="Illegal App name: '{$appName}",ae["duplicate-app"]="Firebase App named '{$appName}' already exists",ae["app-deleted"]="Firebase App named '{$appName}' already deleted",ae["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",ae["invalid-log-argument"]="First argument to `onLog` must be null or a function.",ae),de=new ne.LL("app","Firebase",X),fe="@firebase/app",Ae="[DEFAULT]",xt=((Oe={})[fe]="fire-core",Oe["@firebase/analytics"]="fire-analytics",Oe["@firebase/app-check"]="fire-app-check",Oe["@firebase/auth"]="fire-auth",Oe["@firebase/database"]="fire-rtdb",Oe["@firebase/functions"]="fire-fn",Oe["@firebase/installations"]="fire-iid",Oe["@firebase/messaging"]="fire-fcm",Oe["@firebase/performance"]="fire-perf",Oe["@firebase/remote-config"]="fire-rc",Oe["@firebase/storage"]="fire-gcs",Oe["@firebase/firestore"]="fire-fst",Oe["fire-js"]="fire-js",Oe["firebase-wrapper"]="fire-js-all",Oe),Ut=new ie.Yd("@firebase/app"),Kr=function(){function Ye(Me,at,Lt){var Pt=this;this.firebase_=Lt,this.isDeleted_=!1,this.name_=at.name,this.automaticDataCollectionEnabled_=at.automaticDataCollectionEnabled||!1,this.options_=(0,ne.p$)(Me),this.container=new he.H0(at.name),this._addComponent(new he.wA("app",function(){return Pt},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(mt){return Pt._addComponent(mt)})}return Object.defineProperty(Ye.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(Me){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=Me},enumerable:!1,configurable:!0}),Object.defineProperty(Ye.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(Ye.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),Ye.prototype.delete=function(){var Me=this;return new Promise(function(at){Me.checkDestroyed_(),at()}).then(function(){return Me.firebase_.INTERNAL.removeApp(Me.name_),Promise.all(Me.container.getProviders().map(function(at){return at.delete()}))}).then(function(){Me.isDeleted_=!0})},Ye.prototype._getService=function(Me,at){var Lt;void 0===at&&(at=Ae),this.checkDestroyed_();var Pt=this.container.getProvider(Me);return!Pt.isInitialized()&&"EXPLICIT"===(null===(Lt=Pt.getComponent())||void 0===Lt?void 0:Lt.instantiationMode)&&Pt.initialize(),Pt.getImmediate({identifier:at})},Ye.prototype._removeServiceInstance=function(Me,at){void 0===at&&(at=Ae),this.container.getProvider(Me).clearInstance(at)},Ye.prototype._addComponent=function(Me){try{this.container.addComponent(Me)}catch(at){Ut.debug("Component "+Me.name+" failed to register with FirebaseApp "+this.name,at)}},Ye.prototype._addOrOverwriteComponent=function(Me){this.container.addOrOverwriteComponent(Me)},Ye.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},Ye.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw de.create("app-deleted",{appName:this.name_})},Ye}();Kr.prototype.name&&Kr.prototype.options||Kr.prototype.delete||console.log("dc");var Y=function W(){var Ye=function(Ye){var Me={},at=new Map,Lt={__esModule:!0,initializeApp:function(ct,bt){void 0===bt&&(bt={}),("object"!=typeof bt||null===bt)&&(bt={name:bt});var zn=bt;void 0===zn.name&&(zn.name=Ae);var pn=zn.name;if("string"!=typeof pn||!pn)throw de.create("bad-app-name",{appName:String(pn)});if((0,ne.r3)(Me,pn))throw de.create("duplicate-app",{appName:pn});var jt=new Ye(ct,zn,Lt);return Me[pn]=jt,jt},app:mt,registerVersion:function(ct,bt,Qr){var zn,pn=null!==(zn=xt[ct])&&void 0!==zn?zn:ct;Qr&&(pn+="-"+Qr);var jt=pn.match(/\s|\//),wn=bt.match(/\s|\//);if(jt||wn){var Wn=['Unable to register library "'+pn+'" with version "'+bt+'":'];return jt&&Wn.push('library name "'+pn+'" contains illegal characters (whitespace or "/")'),jt&&wn&&Wn.push("and"),wn&&Wn.push('version name "'+bt+'" contains illegal characters (whitespace or "/")'),void Ut.warn(Wn.join(" "))}Dg(new he.wA(pn+"-version",function(){return{library:pn,version:bt}},"VERSION"))},setLogLevel:ie.Ub,onLog:function(ct,bt){if(null!==ct&&"function"!=typeof ct)throw de.create("invalid-log-argument");(0,ie.Am)(ct,bt)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:Dg,removeApp:function(ct){delete Me[ct]},components:at,useAsService:function(ct,bt){return"serverAuth"===bt?null:bt}}};function mt(ct){if(!(0,ne.r3)(Me,ct=ct||Ae))throw de.create("no-app",{appName:ct});return Me[ct]}function Dg(ct){var bt=ct.name;if(at.has(bt))return Ut.debug("There were multiple attempts to register component "+bt+"."),"PUBLIC"===ct.type?Lt[bt]:null;if(at.set(bt,ct),"PUBLIC"===ct.type){var Qr=function(wn){if(void 0===wn&&(wn=mt()),"function"!=typeof wn[bt])throw de.create("invalid-app-argument",{appName:bt});return wn[bt]()};void 0!==ct.serviceProps&&(0,ne.ZB)(Qr,ct.serviceProps),Lt[bt]=Qr,Ye.prototype[bt]=function(){for(var wn=[],Wn=0;Wn<arguments.length;Wn++)wn[Wn]=arguments[Wn];return this._getService.bind(this,bt).apply(this,ct.multipleInstances?wn:[])}}for(var zn=0,pn=Object.keys(Me);zn<pn.length;zn++)Me[pn[zn]]._addComponent(ct);return"PUBLIC"===ct.type?Lt[bt]:null}return Lt.default=Lt,Object.defineProperty(Lt,"apps",{get:function(){return Object.keys(Me).map(function(ct){return Me[ct]})}}),mt.App=Ye,Lt}(Kr);return Ye.INTERNAL=(0,y.pi)((0,y.pi)({},Ye.INTERNAL),{createFirebaseNamespace:W,extendNamespace:function(at){(0,ne.ZB)(Ye,at)},createSubscribe:ne.ne,ErrorFactory:ne.LL,deepExtend:ne.ZB}),Ye}(),ve=function(){function Ye(Me){this.container=Me}return Ye.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(at){if(function(Ye){var Me=Ye.getComponent();return"VERSION"===(null==Me?void 0:Me.type)}(at)){var Lt=at.getImmediate();return Lt.library+"/"+Lt.version}return null}).filter(function(at){return at}).join(" ")},Ye}();if((0,ne.jU)()&&void 0!==self.firebase){Ut.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Xe=self.firebase.SDK_VERSION;Xe&&Xe.indexOf("LITE")>=0&&Ut.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Yt=Y.initializeApp;Y.initializeApp=function(){for(var Ye=[],Me=0;Me<arguments.length;Me++)Ye[Me]=arguments[Me];return(0,ne.UG)()&&Ut.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),Yt.apply(void 0,Ye)};var Ye,Ue=Y;(Ye=Ue).INTERNAL.registerComponent(new he.wA("platform-logger",function(at){return new ve(at)},"PRIVATE")),Ye.registerVersion(fe,"0.6.30",undefined),Ye.registerVersion("fire-js","");const Zt=Ue},6034:(je,me,x)=>{"use strict";x.d(me,{wA:()=>he,H0:()=>fe});var y=x(4762),ne=x(4685),he=function(){function q(O,L,B){this.name=O,this.instanceFactory=L,this.type=B,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return q.prototype.setInstantiationMode=function(O){return this.instantiationMode=O,this},q.prototype.setMultipleInstances=function(O){return this.multipleInstances=O,this},q.prototype.setServiceProps=function(O){return this.serviceProps=O,this},q.prototype.setInstanceCreatedCallback=function(O){return this.onInstanceCreated=O,this},q}(),ie="[DEFAULT]",ae=function(){function q(O,L){this.name=O,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return q.prototype.get=function(O){var L=this.normalizeInstanceIdentifier(O);if(!this.instancesDeferred.has(L)){var B=new ne.BH;if(this.instancesDeferred.set(L,B),this.isInitialized(L)||this.shouldAutoInitialize())try{var k=this.getOrInitializeService({instanceIdentifier:L});k&&B.resolve(k)}catch(G){}}return this.instancesDeferred.get(L).promise},q.prototype.getImmediate=function(O){var L,B=this.normalizeInstanceIdentifier(null==O?void 0:O.identifier),k=null!==(L=null==O?void 0:O.optional)&&void 0!==L&&L;if(!this.isInitialized(B)&&!this.shouldAutoInitialize()){if(k)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:B})}catch(G){if(k)return null;throw G}},q.prototype.getComponent=function(){return this.component},q.prototype.setComponent=function(O){var L,B;if(O.name!==this.name)throw Error("Mismatching Component "+O.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=O,this.shouldAutoInitialize()){if(function(q){return"EAGER"===q.instantiationMode}(O))try{this.getOrInitializeService({instanceIdentifier:ie})}catch(De){}try{for(var k=(0,y.XA)(this.instancesDeferred.entries()),G=k.next();!G.done;G=k.next()){var le=(0,y.CR)(G.value,2),se=le[1],He=this.normalizeInstanceIdentifier(le[0]);try{var Se=this.getOrInitializeService({instanceIdentifier:He});se.resolve(Se)}catch(De){}}}catch(De){L={error:De}}finally{try{G&&!G.done&&(B=k.return)&&B.call(k)}finally{if(L)throw L.error}}}},q.prototype.clearInstance=function(O){void 0===O&&(O=ie),this.instancesDeferred.delete(O),this.instancesOptions.delete(O),this.instances.delete(O)},q.prototype.delete=function(){return(0,y.mG)(this,void 0,void 0,function(){var O;return(0,y.Jh)(this,function(L){switch(L.label){case 0:return O=Array.from(this.instances.values()),[4,Promise.all((0,y.ev)((0,y.ev)([],(0,y.CR)(O.filter(function(B){return"INTERNAL"in B}).map(function(B){return B.INTERNAL.delete()}))),(0,y.CR)(O.filter(function(B){return"_delete"in B}).map(function(B){return B._delete()}))))];case 1:return L.sent(),[2]}})})},q.prototype.isComponentSet=function(){return null!=this.component},q.prototype.isInitialized=function(O){return void 0===O&&(O=ie),this.instances.has(O)},q.prototype.getOptions=function(O){return void 0===O&&(O=ie),this.instancesOptions.get(O)||{}},q.prototype.initialize=function(O){var L,B;void 0===O&&(O={});var k=O.options,G=void 0===k?{}:k,le=this.normalizeInstanceIdentifier(O.instanceIdentifier);if(this.isInitialized(le))throw Error(this.name+"("+le+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var oe=this.getOrInitializeService({instanceIdentifier:le,options:G});try{for(var se=(0,y.XA)(this.instancesDeferred.entries()),He=se.next();!He.done;He=se.next()){var Se=(0,y.CR)(He.value,2),Qe=Se[1];le===this.normalizeInstanceIdentifier(Se[0])&&Qe.resolve(oe)}}catch(Ae){L={error:Ae}}finally{try{He&&!He.done&&(B=se.return)&&B.call(se)}finally{if(L)throw L.error}}return oe},q.prototype.onInit=function(O,L){var B,k=this.normalizeInstanceIdentifier(L),G=null!==(B=this.onInitCallbacks.get(k))&&void 0!==B?B:new Set;G.add(O),this.onInitCallbacks.set(k,G);var le=this.instances.get(k);return le&&O(le,k),function(){G.delete(O)}},q.prototype.invokeOnInitCallbacks=function(O,L){var B,k,G=this.onInitCallbacks.get(L);if(G)try{for(var le=(0,y.XA)(G),oe=le.next();!oe.done;oe=le.next()){var se=oe.value;try{se(O,L)}catch(He){}}}catch(He){B={error:He}}finally{try{oe&&!oe.done&&(k=le.return)&&k.call(le)}finally{if(B)throw B.error}}},q.prototype.getOrInitializeService=function(O){var L=O.instanceIdentifier,B=O.options,k=void 0===B?{}:B,G=this.instances.get(L);if(!G&&this.component&&(G=this.component.instanceFactory(this.container,{instanceIdentifier:X(L),options:k}),this.instances.set(L,G),this.instancesOptions.set(L,k),this.invokeOnInitCallbacks(G,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,G)}catch(le){}return G||null},q.prototype.normalizeInstanceIdentifier=function(O){return void 0===O&&(O=ie),this.component?this.component.multipleInstances?O:ie:O},q.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},q}();function X(q){return q===ie?void 0:q}var fe=function(){function q(O){this.name=O,this.providers=new Map}return q.prototype.addComponent=function(O){var L=this.getProvider(O.name);if(L.isComponentSet())throw new Error("Component "+O.name+" has already been registered with "+this.name);L.setComponent(O)},q.prototype.addOrOverwriteComponent=function(O){this.getProvider(O.name).isComponentSet()&&this.providers.delete(O.name),this.addComponent(O)},q.prototype.getProvider=function(O){if(this.providers.has(O))return this.providers.get(O);var L=new ae(O,this);return this.providers.set(O,L),L},q.prototype.getProviders=function(){return Array.from(this.providers.values())},q}()},300:(je,me,x)=>{"use strict";function y(){for(var B=0,k=0,G=arguments.length;k<G;k++)B+=arguments[k].length;var le=Array(B),oe=0;for(k=0;k<G;k++)for(var se=arguments[k],He=0,Se=se.length;He<Se;He++,oe++)le[oe]=se[He];return le}x.d(me,{in:()=>ie,Yd:()=>q,Ub:()=>O,Am:()=>L});var ne,he=[],ie=(()=>{return(B=ie||(ie={}))[B.DEBUG=0]="DEBUG",B[B.VERBOSE=1]="VERBOSE",B[B.INFO=2]="INFO",B[B.WARN=3]="WARN",B[B.ERROR=4]="ERROR",B[B.SILENT=5]="SILENT",ie;var B})(),ae={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},X=ie.INFO,de=((ne={})[ie.DEBUG]="log",ne[ie.VERBOSE]="log",ne[ie.INFO]="info",ne[ie.WARN]="warn",ne[ie.ERROR]="error",ne),fe=function(B,k){for(var G=[],le=2;le<arguments.length;le++)G[le-2]=arguments[le];if(!(k<B.logLevel)){var oe=(new Date).toISOString(),se=de[k];if(!se)throw new Error("Attempted to log a message with an invalid logType (value: "+k+")");console[se].apply(console,y(["["+oe+"]  "+B.name+":"],G))}},q=function(){function B(k){this.name=k,this._logLevel=X,this._logHandler=fe,this._userLogHandler=null,he.push(this)}return Object.defineProperty(B.prototype,"logLevel",{get:function(){return this._logLevel},set:function(k){if(!(k in ie))throw new TypeError('Invalid value "'+k+'" assigned to `logLevel`');this._logLevel=k},enumerable:!1,configurable:!0}),B.prototype.setLogLevel=function(k){this._logLevel="string"==typeof k?ae[k]:k},Object.defineProperty(B.prototype,"logHandler",{get:function(){return this._logHandler},set:function(k){if("function"!=typeof k)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=k},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(k){this._userLogHandler=k},enumerable:!1,configurable:!0}),B.prototype.debug=function(){for(var k=[],G=0;G<arguments.length;G++)k[G]=arguments[G];this._userLogHandler&&this._userLogHandler.apply(this,y([this,ie.DEBUG],k)),this._logHandler.apply(this,y([this,ie.DEBUG],k))},B.prototype.log=function(){for(var k=[],G=0;G<arguments.length;G++)k[G]=arguments[G];this._userLogHandler&&this._userLogHandler.apply(this,y([this,ie.VERBOSE],k)),this._logHandler.apply(this,y([this,ie.VERBOSE],k))},B.prototype.info=function(){for(var k=[],G=0;G<arguments.length;G++)k[G]=arguments[G];this._userLogHandler&&this._userLogHandler.apply(this,y([this,ie.INFO],k)),this._logHandler.apply(this,y([this,ie.INFO],k))},B.prototype.warn=function(){for(var k=[],G=0;G<arguments.length;G++)k[G]=arguments[G];this._userLogHandler&&this._userLogHandler.apply(this,y([this,ie.WARN],k)),this._logHandler.apply(this,y([this,ie.WARN],k))},B.prototype.error=function(){for(var k=[],G=0;G<arguments.length;G++)k[G]=arguments[G];this._userLogHandler&&this._userLogHandler.apply(this,y([this,ie.ERROR],k)),this._logHandler.apply(this,y([this,ie.ERROR],k))},B}();function O(B){he.forEach(function(k){k.setLogLevel(B)})}function L(B,k){for(var G=function(He){var Se=null;k&&k.level&&(Se=ae[k.level]),He.userLogHandler=null===B?null:function(De,Qe){for(var Oe=[],Ae=2;Ae<arguments.length;Ae++)Oe[Ae-2]=arguments[Ae];var xt=Oe.map(function(Ut){if(null==Ut)return null;if("string"==typeof Ut)return Ut;if("number"==typeof Ut||"boolean"==typeof Ut)return Ut.toString();if(Ut instanceof Error)return Ut.message;try{return JSON.stringify(Ut)}catch(Kr){return null}}).filter(function(Ut){return Ut}).join(" ");Qe>=(null!=Se?Se:De.logLevel)&&B({level:ie[Qe].toLowerCase(),message:xt,args:Oe,type:De.name})}},le=0,oe=he;le<oe.length;le++)G(oe[le])}},4685:(je,me,x)=>{"use strict";x.d(me,{BH:()=>G,LL:()=>xe,r3:()=>mt,Sg:()=>le,ne:()=>zn,p$:()=>L,ZB:()=>B,m9:()=>Xt,z$:()=>oe,jU:()=>Se,ru:()=>De,d:()=>Oe,w1:()=>Ae,uI:()=>se,UG:()=>He,b$:()=>Qe,G6:()=>Kr,Mn:()=>xt});var y=x(4762),ae=function(V){for(var R=[],z=0,re=0;re<V.length;re++){var $=V.charCodeAt(re);$<128?R[z++]=$:$<2048?(R[z++]=$>>6|192,R[z++]=63&$|128):55296==(64512&$)&&re+1<V.length&&56320==(64512&V.charCodeAt(re+1))?($=65536+((1023&$)<<10)+(1023&V.charCodeAt(++re)),R[z++]=$>>18|240,R[z++]=$>>12&63|128,R[z++]=$>>6&63|128,R[z++]=63&$|128):(R[z++]=$>>12|224,R[z++]=$>>6&63|128,R[z++]=63&$|128)}return R},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(V,R){if(!Array.isArray(V))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var z=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,re=[],$=0;$<V.length;$+=3){var ge=V[$],Ke=$+1<V.length,Et=Ke?V[$+1]:0,Dt=$+2<V.length,Ct=Dt?V[$+2]:0,Vn=(15&Et)<<2|Ct>>6,Qa=63&Ct;Dt||(Qa=64,Ke||(Vn=64)),re.push(z[ge>>2],z[(3&ge)<<4|Et>>4],z[Vn],z[Qa])}return re.join("")},encodeString:function(V,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(V):this.encodeByteArray(ae(V),R)},decodeString:function(V,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(V):function(V){for(var R=[],z=0,re=0;z<V.length;){var $=V[z++];if($<128)R[re++]=String.fromCharCode($);else if($>191&&$<224){var ge=V[z++];R[re++]=String.fromCharCode((31&$)<<6|63&ge)}else if($>239&&$<365){var Dt=((7&$)<<18|(63&(ge=V[z++]))<<12|(63&(Ke=V[z++]))<<6|63&V[z++])-65536;R[re++]=String.fromCharCode(55296+(Dt>>10)),R[re++]=String.fromCharCode(56320+(1023&Dt))}else{ge=V[z++];var Ke=V[z++];R[re++]=String.fromCharCode((15&$)<<12|(63&ge)<<6|63&Ke)}}return R.join("")}(this.decodeStringToByteArray(V,R))},decodeStringToByteArray:function(V,R){this.init_();for(var z=R?this.charToByteMapWebSafe_:this.charToByteMap_,re=[],$=0;$<V.length;){var ge=z[V.charAt($++)],Et=$<V.length?z[V.charAt($)]:0,Ct=++$<V.length?z[V.charAt($)]:64,cn=++$<V.length?z[V.charAt($)]:64;if(++$,null==ge||null==Et||null==Ct||null==cn)throw Error();re.push(ge<<2|Et>>4),64!==Ct&&(re.push(Et<<4&240|Ct>>2),64!==cn&&re.push(Ct<<6&192|cn))}return re},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var V=0;V<this.ENCODED_VALS.length;V++)this.byteToCharMap_[V]=this.ENCODED_VALS.charAt(V),this.charToByteMap_[this.byteToCharMap_[V]]=V,this.byteToCharMapWebSafe_[V]=this.ENCODED_VALS_WEBSAFE.charAt(V),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[V]]=V,V>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(V)]=V,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(V)]=V)}}},q=function(V){return function(V){var R=ae(V);return de.encodeByteArray(R,!0)}(V).replace(/\./g,"")};function L(V){return B(void 0,V)}function B(V,R){if(!(R instanceof Object))return R;switch(R.constructor){case Date:return new Date(R.getTime());case Object:void 0===V&&(V={});break;case Array:V=[];break;default:return R}for(var re in R)!R.hasOwnProperty(re)||!k(re)||(V[re]=B(V[re],R[re]));return V}function k(V){return"__proto__"!==V}var G=function(){function V(){var R=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(z,re){R.resolve=z,R.reject=re})}return V.prototype.wrapCallback=function(R){var z=this;return function(re,$){re?z.reject(re):z.resolve($),"function"==typeof R&&(z.promise.catch(function(){}),1===R.length?R(re):R(re,$))}},V}();function le(V,R){if(V.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var re=R||"demo-project",$=V.iat||0,ge=V.sub||V.user_id;if(!ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var Ke=(0,y.pi)({iss:"https://securetoken.google.com/"+re,aud:re,iat:$,exp:$+3600,auth_time:$,sub:ge,user_id:ge,firebase:{sign_in_provider:"custom",identities:{}}},V);return[q(JSON.stringify({alg:"none",type:"JWT"})),q(JSON.stringify(Ke)),""].join(".")}function oe(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function se(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(oe())}function He(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(V){return!1}}function Se(){return"object"==typeof self&&self.self===self}function De(){var V="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof V&&void 0!==V.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Oe(){return oe().indexOf("Electron/")>=0}function Ae(){var V=oe();return V.indexOf("MSIE ")>=0||V.indexOf("Trident/")>=0}function xt(){return oe().indexOf("MSAppHost/")>=0}function Kr(){return!He()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var Z=function(V){function R(z,re,$){var ge=V.call(this,re)||this;return ge.code=z,ge.customData=$,ge.name="FirebaseError",Object.setPrototypeOf(ge,R.prototype),Error.captureStackTrace&&Error.captureStackTrace(ge,xe.prototype.create),ge}return(0,y.ZT)(R,V),R}(Error),xe=function(){function V(R,z,re){this.service=R,this.serviceName=z,this.errors=re}return V.prototype.create=function(R){for(var z=[],re=1;re<arguments.length;re++)z[re-1]=arguments[re];var $=z[0]||{},ge=this.service+"/"+R,Ke=this.errors[R],Et=Ke?Xe(Ke,$):"Error",Dt=this.serviceName+": "+Et+" ("+ge+").",Ct=new Z(ge,Dt,$);return Ct},V}();function Xe(V,R){return V.replace(Yt,function(z,re){var $=R[re];return null!=$?String($):"<"+re+"?>"})}var Yt=/\{\$([^}]+)}/g;function mt(V,R){return Object.prototype.hasOwnProperty.call(V,R)}function zn(V,R){var z=new pn(V,R);return z.subscribe.bind(z)}!function(){function V(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var R=1;R<this.blockSize;++R)this.pad_[R]=0;this.reset()}V.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},V.prototype.compress_=function(R,z){z||(z=0);var re=this.W_;if("string"==typeof R)for(var $=0;$<16;$++)re[$]=R.charCodeAt(z)<<24|R.charCodeAt(z+1)<<16|R.charCodeAt(z+2)<<8|R.charCodeAt(z+3),z+=4;else for($=0;$<16;$++)re[$]=R[z]<<24|R[z+1]<<16|R[z+2]<<8|R[z+3],z+=4;for($=16;$<80;$++)re[$]=4294967295&((ge=re[$-3]^re[$-8]^re[$-14]^re[$-16])<<1|ge>>>31);var cn,Vn,Ke=this.chain_[0],Et=this.chain_[1],Dt=this.chain_[2],Ct=this.chain_[3],Kn=this.chain_[4];for($=0;$<80;$++){$<40?$<20?(cn=Ct^Et&(Dt^Ct),Vn=1518500249):(cn=Et^Dt^Ct,Vn=1859775393):$<60?(cn=Et&Dt|Ct&(Et|Dt),Vn=2400959708):(cn=Et^Dt^Ct,Vn=3395469782);var ge=(Ke<<5|Ke>>>27)+cn+Kn+Vn+re[$]&4294967295;Kn=Ct,Ct=Dt,Dt=4294967295&(Et<<30|Et>>>2),Et=Ke,Ke=ge}this.chain_[0]=this.chain_[0]+Ke&4294967295,this.chain_[1]=this.chain_[1]+Et&4294967295,this.chain_[2]=this.chain_[2]+Dt&4294967295,this.chain_[3]=this.chain_[3]+Ct&4294967295,this.chain_[4]=this.chain_[4]+Kn&4294967295},V.prototype.update=function(R,z){if(null!=R){void 0===z&&(z=R.length);for(var re=z-this.blockSize,$=0,ge=this.buf_,Ke=this.inbuf_;$<z;){if(0===Ke)for(;$<=re;)this.compress_(R,$),$+=this.blockSize;if("string"==typeof R){for(;$<z;)if(ge[Ke]=R.charCodeAt($),++$,++Ke===this.blockSize){this.compress_(ge),Ke=0;break}}else for(;$<z;)if(ge[Ke]=R[$],++$,++Ke===this.blockSize){this.compress_(ge),Ke=0;break}}this.inbuf_=Ke,this.total_+=z}},V.prototype.digest=function(){var R=[],z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var re=this.blockSize-1;re>=56;re--)this.buf_[re]=255&z,z/=256;this.compress_(this.buf_);var $=0;for(re=0;re<5;re++)for(var ge=24;ge>=0;ge-=8)R[$]=this.chain_[re]>>ge&255,++$;return R}}();var pn=function(){function V(R,z){var re=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=z,this.task.then(function(){R(re)}).catch(function($){re.error($)})}return V.prototype.next=function(R){this.forEachObserver(function(z){z.next(R)})},V.prototype.error=function(R){this.forEachObserver(function(z){z.error(R)}),this.close(R)},V.prototype.complete=function(){this.forEachObserver(function(R){R.complete()}),this.close()},V.prototype.subscribe=function(R,z,re){var ge,$=this;if(void 0===R&&void 0===z&&void 0===re)throw new Error("Missing Observer.");void 0===(ge=function(V,R){if("object"!=typeof V||null===V)return!1;for(var z=0,re=["next","error","complete"];z<re.length;z++){var $=re[z];if($ in V&&"function"==typeof V[$])return!0}return!1}(R)?R:{next:R,error:z,complete:re}).next&&(ge.next=Wn),void 0===ge.error&&(ge.error=Wn),void 0===ge.complete&&(ge.complete=Wn);var Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{$.finalError?ge.error($.finalError):ge.complete()}catch(Et){}}),this.observers.push(ge),Ke},V.prototype.unsubscribeOne=function(R){void 0===this.observers||void 0===this.observers[R]||(delete this.observers[R],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},V.prototype.forEachObserver=function(R){if(!this.finalized)for(var z=0;z<this.observers.length;z++)this.sendOne(z,R)},V.prototype.sendOne=function(R,z){var re=this;this.task.then(function(){if(void 0!==re.observers&&void 0!==re.observers[R])try{z(re.observers[R])}catch($){"undefined"!=typeof console&&console.error&&console.error($)}})},V.prototype.close=function(R){var z=this;this.finalized||(this.finalized=!0,void 0!==R&&(this.finalError=R),this.task.then(function(){z.observers=void 0,z.onNoObservers=void 0}))},V}();function Wn(){}function Xt(V){return V&&V._delegate?V._delegate:V}},2329:(je,me,x)=>{"use strict";x.d(me,{Z:()=>y.Z});var y=x(9759);y.Z.registerVersion("firebase","8.10.0","app"),y.Z.SDK_VERSION="8.10.0"},7574:(je,me,x)=>{"use strict";x.d(me,{y:()=>L});var y=x(7393),he=x(9181),ie=x(6490),X=x(6554),de=x(4487);var O=x(2494);let L=(()=>{class k{constructor(le){this._isScalar=!1,le&&(this._subscribe=le)}lift(le){const oe=new k;return oe.source=this,oe.operator=le,oe}subscribe(le,oe,se){const{operator:He}=this,Se=function(k,G,le){if(k){if(k instanceof y.L)return k;if(k[he.b])return k[he.b]()}return k||G||le?new y.L(k,G,le):new y.L(ie.c)}(le,oe,se);if(Se.add(He?He.call(Se,this.source):this.source||O.v.useDeprecatedSynchronousErrorHandling&&!Se.syncErrorThrowable?this._subscribe(Se):this._trySubscribe(Se)),O.v.useDeprecatedSynchronousErrorHandling&&Se.syncErrorThrowable&&(Se.syncErrorThrowable=!1,Se.syncErrorThrown))throw Se.syncErrorValue;return Se}_trySubscribe(le){try{return this._subscribe(le)}catch(oe){O.v.useDeprecatedSynchronousErrorHandling&&(le.syncErrorThrown=!0,le.syncErrorValue=oe),function(k){for(;k;){const{closed:G,destination:le,isStopped:oe}=k;if(G||oe)return!1;k=le&&le instanceof y.L?le:null}return!0}(le)?le.error(oe):console.warn(oe)}}forEach(le,oe){return new(oe=B(oe))((se,He)=>{let Se;Se=this.subscribe(De=>{try{le(De)}catch(Qe){He(Qe),Se&&Se.unsubscribe()}},He,se)})}_subscribe(le){const{source:oe}=this;return oe&&oe.subscribe(le)}[X.L](){return this}pipe(...le){return 0===le.length?this:function(k){return 0===k.length?de.y:1===k.length?k[0]:function(le){return k.reduce((oe,se)=>se(oe),le)}}(le)(this)}toPromise(le){return new(le=B(le))((oe,se)=>{let He;this.subscribe(Se=>He=Se,Se=>se(Se),()=>oe(He))})}}return k.create=G=>new k(G),k})();function B(k){if(k||(k=O.v.Promise||Promise),!k)throw new Error("no Promise impl found");return k}},6490:(je,me,x)=>{"use strict";x.d(me,{c:()=>he});var y=x(2494),ne=x(4449);const he={closed:!0,next(ie){},error(ie){if(y.v.useDeprecatedSynchronousErrorHandling)throw ie;(0,ne.z)(ie)},complete(){}}},9765:(je,me,x)=>{"use strict";x.d(me,{Yc:()=>de,xQ:()=>fe});var y=x(7574),ne=x(7393),he=x(5319),ie=x(7971),ae=x(8858),X=x(9181);class de extends ne.L{constructor(L){super(L),this.destination=L}}let fe=(()=>{class O extends y.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[X.b](){return new de(this)}lift(B){const k=new q(this,this);return k.operator=B,k}next(B){if(this.closed)throw new ie.N;if(!this.isStopped){const{observers:k}=this,G=k.length,le=k.slice();for(let oe=0;oe<G;oe++)le[oe].next(B)}}error(B){if(this.closed)throw new ie.N;this.hasError=!0,this.thrownError=B,this.isStopped=!0;const{observers:k}=this,G=k.length,le=k.slice();for(let oe=0;oe<G;oe++)le[oe].error(B);this.observers.length=0}complete(){if(this.closed)throw new ie.N;this.isStopped=!0;const{observers:B}=this,k=B.length,G=B.slice();for(let le=0;le<k;le++)G[le].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(B){if(this.closed)throw new ie.N;return super._trySubscribe(B)}_subscribe(B){if(this.closed)throw new ie.N;return this.hasError?(B.error(this.thrownError),he.w.EMPTY):this.isStopped?(B.complete(),he.w.EMPTY):(this.observers.push(B),new ae.W(this,B))}asObservable(){const B=new y.y;return B.source=this,B}}return O.create=(L,B)=>new q(L,B),O})();class q extends fe{constructor(L,B){super(),this.destination=L,this.source=B}next(L){const{destination:B}=this;B&&B.next&&B.next(L)}error(L){const{destination:B}=this;B&&B.error&&this.destination.error(L)}complete(){const{destination:L}=this;L&&L.complete&&this.destination.complete()}_subscribe(L){const{source:B}=this;return B?this.source.subscribe(L):he.w.EMPTY}}},8858:(je,me,x)=>{"use strict";x.d(me,{W:()=>ne});var y=x(5319);class ne extends y.w{constructor(ie,ae){super(),this.subject=ie,this.subscriber=ae,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ie=this.subject,ae=ie.observers;if(this.subject=null,!ae||0===ae.length||ie.isStopped||ie.closed)return;const X=ae.indexOf(this.subscriber);-1!==X&&ae.splice(X,1)}}},7393:(je,me,x)=>{"use strict";x.d(me,{L:()=>de});var y=x(9105),ne=x(6490),he=x(5319),ie=x(9181),ae=x(2494),X=x(4449);class de extends he.w{constructor(O,L,B){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ne.c;break;case 1:if(!O){this.destination=ne.c;break}if("object"==typeof O){O instanceof de?(this.syncErrorThrowable=O.syncErrorThrowable,this.destination=O,O.add(this)):(this.syncErrorThrowable=!0,this.destination=new fe(this,O));break}default:this.syncErrorThrowable=!0,this.destination=new fe(this,O,L,B)}}[ie.b](){return this}static create(O,L,B){const k=new de(O,L,B);return k.syncErrorThrowable=!1,k}next(O){this.isStopped||this._next(O)}error(O){this.isStopped||(this.isStopped=!0,this._error(O))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(O){this.destination.next(O)}_error(O){this.destination.error(O),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:O}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=O,this}}class fe extends de{constructor(O,L,B,k){super(),this._parentSubscriber=O;let G,le=this;(0,y.m)(L)?G=L:L&&(G=L.next,B=L.error,k=L.complete,L!==ne.c&&(le=Object.create(L),(0,y.m)(le.unsubscribe)&&this.add(le.unsubscribe.bind(le)),le.unsubscribe=this.unsubscribe.bind(this))),this._context=le,this._next=G,this._error=B,this._complete=k}next(O){if(!this.isStopped&&this._next){const{_parentSubscriber:L}=this;ae.v.useDeprecatedSynchronousErrorHandling&&L.syncErrorThrowable?this.__tryOrSetError(L,this._next,O)&&this.unsubscribe():this.__tryOrUnsub(this._next,O)}}error(O){if(!this.isStopped){const{_parentSubscriber:L}=this,{useDeprecatedSynchronousErrorHandling:B}=ae.v;if(this._error)B&&L.syncErrorThrowable?(this.__tryOrSetError(L,this._error,O),this.unsubscribe()):(this.__tryOrUnsub(this._error,O),this.unsubscribe());else if(L.syncErrorThrowable)B?(L.syncErrorValue=O,L.syncErrorThrown=!0):(0,X.z)(O),this.unsubscribe();else{if(this.unsubscribe(),B)throw O;(0,X.z)(O)}}}complete(){if(!this.isStopped){const{_parentSubscriber:O}=this;if(this._complete){const L=()=>this._complete.call(this._context);ae.v.useDeprecatedSynchronousErrorHandling&&O.syncErrorThrowable?(this.__tryOrSetError(O,L),this.unsubscribe()):(this.__tryOrUnsub(L),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(O,L){try{O.call(this._context,L)}catch(B){if(this.unsubscribe(),ae.v.useDeprecatedSynchronousErrorHandling)throw B;(0,X.z)(B)}}__tryOrSetError(O,L,B){if(!ae.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{L.call(this._context,B)}catch(k){return ae.v.useDeprecatedSynchronousErrorHandling?(O.syncErrorValue=k,O.syncErrorThrown=!0,!0):((0,X.z)(k),!0)}return!1}_unsubscribe(){const{_parentSubscriber:O}=this;this._context=null,this._parentSubscriber=null,O.unsubscribe()}}},5319:(je,me,x)=>{"use strict";x.d(me,{w:()=>X});var y=x(9796),ne=x(1555),he=x(9105);const ae=(()=>{function fe(q){return Error.call(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((O,L)=>`${L+1}) ${O.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q,this}return fe.prototype=Object.create(Error.prototype),fe})();class X{constructor(q){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,q&&(this._ctorUnsubscribe=!0,this._unsubscribe=q)}unsubscribe(){let q;if(this.closed)return;let{_parentOrParents:O,_ctorUnsubscribe:L,_unsubscribe:B,_subscriptions:k}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,O instanceof X)O.remove(this);else if(null!==O)for(let G=0;G<O.length;++G)O[G].remove(this);if((0,he.m)(B)){L&&(this._unsubscribe=void 0);try{B.call(this)}catch(G){q=G instanceof ae?de(G.errors):[G]}}if((0,y.k)(k)){let G=-1,le=k.length;for(;++G<le;){const oe=k[G];if((0,ne.K)(oe))try{oe.unsubscribe()}catch(se){q=q||[],se instanceof ae?q=q.concat(de(se.errors)):q.push(se)}}}if(q)throw new ae(q)}add(q){let O=q;if(!q)return X.EMPTY;switch(typeof q){case"function":O=new X(q);case"object":if(O===this||O.closed||"function"!=typeof O.unsubscribe)return O;if(this.closed)return O.unsubscribe(),O;if(!(O instanceof X)){const k=O;O=new X,O._subscriptions=[k]}break;default:throw new Error("unrecognized teardown "+q+" added to Subscription.")}let{_parentOrParents:L}=O;if(null===L)O._parentOrParents=this;else if(L instanceof X){if(L===this)return O;O._parentOrParents=[L,this]}else{if(-1!==L.indexOf(this))return O;L.push(this)}const B=this._subscriptions;return null===B?this._subscriptions=[O]:B.push(O),O}remove(q){const O=this._subscriptions;if(O){const L=O.indexOf(q);-1!==L&&O.splice(L,1)}}}var fe;function de(fe){return fe.reduce((q,O)=>q.concat(O instanceof ae?O.errors:O),[])}X.EMPTY=((fe=new X).closed=!0,fe)},2494:(je,me,x)=>{"use strict";x.d(me,{v:()=>ne});let y=!1;const ne={Promise:void 0,set useDeprecatedSynchronousErrorHandling(he){if(he){const ie=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ie.stack)}else y&&console.log("RxJS: Back to a better error behavior. Thank you. <3");y=he},get useDeprecatedSynchronousErrorHandling(){return y}}},5345:(je,me,x)=>{"use strict";x.d(me,{IY:()=>ie,Ds:()=>X,ft:()=>fe});var y=x(7393),ne=x(7574),he=x(7444);class ie extends y.L{constructor(O){super(),this.parent=O}_next(O){this.parent.notifyNext(O)}_error(O){this.parent.notifyError(O),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class X extends y.L{notifyNext(O){this.destination.next(O)}notifyError(O){this.destination.error(O)}notifyComplete(){this.destination.complete()}}function fe(q,O){if(O.closed)return;if(q instanceof ne.y)return q.subscribe(O);let L;try{L=(0,he.s)(q)(O)}catch(B){O.error(B)}return L}},2441:(je,me,x)=>{"use strict";x.d(me,{c:()=>ae,N:()=>X});var y=x(9765),ne=x(7574),he=x(5319),ie=x(1307);class ae extends ne.y{constructor(L,B){super(),this.source=L,this.subjectFactory=B,this._refCount=0,this._isComplete=!1}_subscribe(L){return this.getSubject().subscribe(L)}getSubject(){const L=this._subject;return(!L||L.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let L=this._connection;return L||(this._isComplete=!1,L=this._connection=new he.w,L.add(this.source.subscribe(new de(this.getSubject(),this))),L.closed&&(this._connection=null,L=he.w.EMPTY)),L}refCount(){return(0,ie.x)()(this)}}const X=(()=>{const O=ae.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:O._subscribe},_isComplete:{value:O._isComplete,writable:!0},getSubject:{value:O.getSubject},connect:{value:O.connect},refCount:{value:O.refCount}}})();class de extends y.Yc{constructor(L,B){super(L),this.connectable=B}_error(L){this._unsubscribe(),super._error(L)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const L=this.connectable;if(L){this.connectable=null;const B=L._connection;L._refCount=0,L._subject=null,L._connection=null,B&&B.unsubscribe()}}}},9193:(je,me,x)=>{"use strict";x.d(me,{E:()=>ne,c:()=>he});var y=x(7574);const ne=new y.y(ae=>ae.complete());function he(ae){return ae?function(ae){return new y.y(X=>ae.schedule(()=>X.complete()))}(ae):ne}},4402:(je,me,x)=>{"use strict";x.d(me,{D:()=>le});var y=x(7574),ne=x(7444),he=x(5319),ie=x(6554),de=x(4087),fe=x(377),L=x(4072),B=x(9489);function le(oe,se){return se?function(oe,se){if(null!=oe){if(function(oe){return oe&&"function"==typeof oe[ie.L]}(oe))return function(oe,se){return new y.y(He=>{const Se=new he.w;return Se.add(se.schedule(()=>{const De=oe[ie.L]();Se.add(De.subscribe({next(Qe){Se.add(se.schedule(()=>He.next(Qe)))},error(Qe){Se.add(se.schedule(()=>He.error(Qe)))},complete(){Se.add(se.schedule(()=>He.complete()))}}))})),Se})}(oe,se);if((0,L.t)(oe))return function(oe,se){return new y.y(He=>{const Se=new he.w;return Se.add(se.schedule(()=>oe.then(De=>{Se.add(se.schedule(()=>{He.next(De),Se.add(se.schedule(()=>He.complete()))}))},De=>{Se.add(se.schedule(()=>He.error(De)))}))),Se})}(oe,se);if((0,B.z)(oe))return(0,de.r)(oe,se);if(function(oe){return oe&&"function"==typeof oe[fe.hZ]}(oe)||"string"==typeof oe)return function(oe,se){if(!oe)throw new Error("Iterable cannot be null");return new y.y(He=>{const Se=new he.w;let De;return Se.add(()=>{De&&"function"==typeof De.return&&De.return()}),Se.add(se.schedule(()=>{De=oe[fe.hZ](),Se.add(se.schedule(function(){if(He.closed)return;let Qe,Oe;try{const Ae=De.next();Qe=Ae.value,Oe=Ae.done}catch(Ae){return void He.error(Ae)}Oe?He.complete():(He.next(Qe),this.schedule())}))})),Se})}(oe,se)}throw new TypeError((null!==oe&&typeof oe||oe)+" is not observable")}(oe,se):oe instanceof y.y?oe:new y.y((0,ne.s)(oe))}},6693:(je,me,x)=>{"use strict";x.d(me,{n:()=>ie});var y=x(7574),ne=x(5015),he=x(4087);function ie(ae,X){return X?(0,he.r)(ae,X):new y.y((0,ne.V)(ae))}},6682:(je,me,x)=>{"use strict";x.d(me,{T:()=>ae});var y=x(7574),ne=x(4869),he=x(3282),ie=x(6693);function ae(...X){let de=Number.POSITIVE_INFINITY,fe=null,q=X[X.length-1];return(0,ne.K)(q)?(fe=X.pop(),X.length>1&&"number"==typeof X[X.length-1]&&(de=X.pop())):"number"==typeof q&&(de=X.pop()),null===fe&&1===X.length&&X[0]instanceof y.y?X[0]:(0,he.J)(de)((0,ie.n)(X,fe))}},5917:(je,me,x)=>{"use strict";x.d(me,{of:()=>ie});var y=x(4869),ne=x(6693),he=x(4087);function ie(...ae){let X=ae[ae.length-1];return(0,y.K)(X)?(ae.pop(),(0,he.r)(ae,X)):(0,ne.n)(ae)}},8002:(je,me,x)=>{"use strict";x.d(me,{U:()=>ne});var y=x(7393);function ne(ae,X){return function(fe){if("function"!=typeof ae)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return fe.lift(new he(ae,X))}}class he{constructor(X,de){this.project=X,this.thisArg=de}call(X,de){return de.subscribe(new ie(X,this.project,this.thisArg))}}class ie extends y.L{constructor(X,de,fe){super(X),this.project=de,this.count=0,this.thisArg=fe||this}_next(X){let de;try{de=this.project.call(this.thisArg,X,this.count++)}catch(fe){return void this.destination.error(fe)}this.destination.next(de)}}},3282:(je,me,x)=>{"use strict";x.d(me,{J:()=>he});var y=x(9773),ne=x(4487);function he(ie=Number.POSITIVE_INFINITY){return(0,y.zg)(ne.y,ie)}},9773:(je,me,x)=>{"use strict";x.d(me,{zg:()=>ie});var y=x(8002),ne=x(4402),he=x(5345);function ie(fe,q,O=Number.POSITIVE_INFINITY){return"function"==typeof q?L=>L.pipe(ie((B,k)=>(0,ne.D)(fe(B,k)).pipe((0,y.U)((G,le)=>q(B,G,k,le))),O)):("number"==typeof q&&(O=q),L=>L.lift(new ae(fe,O)))}class ae{constructor(q,O=Number.POSITIVE_INFINITY){this.project=q,this.concurrent=O}call(q,O){return O.subscribe(new X(q,this.project,this.concurrent))}}class X extends he.Ds{constructor(q,O,L=Number.POSITIVE_INFINITY){super(q),this.project=O,this.concurrent=L,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(q){this.active<this.concurrent?this._tryNext(q):this.buffer.push(q)}_tryNext(q){let O;const L=this.index++;try{O=this.project(q,L)}catch(B){return void this.destination.error(B)}this.active++,this._innerSub(O)}_innerSub(q){const O=new he.IY(this),L=this.destination;L.add(O);const B=(0,he.ft)(q,O);B!==O&&L.add(B)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(q){this.destination.next(q)}notifyComplete(){const q=this.buffer;this.active--,q.length>0?this._next(q.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(je,me,x)=>{"use strict";x.d(me,{ht:()=>L,QV:()=>q});var y=x(7393),ne=x(9193),he=x(5917),ie=x(7574);class fe{constructor(G,le,oe){this.kind=G,this.value=le,this.error=oe,this.hasValue="N"===G}observe(G){switch(this.kind){case"N":return G.next&&G.next(this.value);case"E":return G.error&&G.error(this.error);case"C":return G.complete&&G.complete()}}do(G,le,oe){switch(this.kind){case"N":return G&&G(this.value);case"E":return le&&le(this.error);case"C":return oe&&oe()}}accept(G,le,oe){return G&&"function"==typeof G.next?this.observe(G):this.do(G,le,oe)}toObservable(){switch(this.kind){case"N":return(0,he.of)(this.value);case"E":return k=this.error,new ie.y(le=>le.error(k));case"C":return(0,ne.c)()}var k;throw new Error("unexpected notification kind value")}static createNext(G){return void 0!==G?new fe("N",G):fe.undefinedValueNotification}static createError(G){return new fe("E",void 0,G)}static createComplete(){return fe.completeNotification}}function q(k,G=0){return function(oe){return oe.lift(new O(k,G))}}fe.completeNotification=new fe("C"),fe.undefinedValueNotification=new fe("N",void 0);class O{constructor(G,le=0){this.scheduler=G,this.delay=le}call(G,le){return le.subscribe(new L(G,this.scheduler,this.delay))}}class L extends y.L{constructor(G,le,oe=0){super(G),this.scheduler=le,this.delay=oe}static dispatch(G){const{notification:le,destination:oe}=G;le.observe(oe),this.unsubscribe()}scheduleMessage(G){this.destination.add(this.scheduler.schedule(L.dispatch,this.delay,new B(G,this.destination)))}_next(G){this.scheduleMessage(fe.createNext(G))}_error(G){this.scheduleMessage(fe.createError(G)),this.unsubscribe()}_complete(){this.scheduleMessage(fe.createComplete()),this.unsubscribe()}}class B{constructor(G,le){this.notification=G,this.destination=le}}},1307:(je,me,x)=>{"use strict";x.d(me,{x:()=>ne});var y=x(7393);function ne(){return function(X){return X.lift(new he(X))}}class he{constructor(X){this.connectable=X}call(X,de){const{connectable:fe}=this;fe._refCount++;const q=new ie(X,fe),O=de.subscribe(q);return q.closed||(q.connection=fe.connect()),O}}class ie extends y.L{constructor(X,de){super(X),this.connectable=de}_unsubscribe(){const{connectable:X}=this;if(!X)return void(this.connection=null);this.connectable=null;const de=X._refCount;if(de<=0)return void(this.connection=null);if(X._refCount=de-1,de>1)return void(this.connection=null);const{connection:fe}=this,q=X._connection;this.connection=null,q&&(!fe||q===fe)&&q.unsubscribe()}}},3101:(je,me,x)=>{"use strict";x.d(me,{R:()=>se});var y=x(7574);let ne=1;const he=Promise.resolve(),ie={};function ae(Se){return Se in ie&&(delete ie[Se],!0)}const X={setImmediate(Se){const De=ne++;return ie[De]=!0,he.then(()=>ae(De)&&Se()),De},clearImmediate(Se){ae(Se)}};var fe=x(6465),O=x(6102);const k=new class extends O.v{flush(De){this.active=!0,this.scheduled=void 0;const{actions:Qe}=this;let Oe,Ae=-1,xt=Qe.length;De=De||Qe.shift();do{if(Oe=De.execute(De.state,De.delay))break}while(++Ae<xt&&(De=Qe.shift()));if(this.active=!1,Oe){for(;++Ae<xt&&(De=Qe.shift());)De.unsubscribe();throw Oe}}}(class extends fe.o{constructor(De,Qe){super(De,Qe),this.scheduler=De,this.work=Qe}requestAsyncId(De,Qe,Oe=0){return null!==Oe&&Oe>0?super.requestAsyncId(De,Qe,Oe):(De.actions.push(this),De.scheduled||(De.scheduled=X.setImmediate(De.flush.bind(De,null))))}recycleAsyncId(De,Qe,Oe=0){if(null!==Oe&&Oe>0||null===Oe&&this.delay>0)return super.recycleAsyncId(De,Qe,Oe);0===De.actions.length&&(X.clearImmediate(Qe),De.scheduled=void 0)}});var G=x(9796);class oe extends y.y{constructor(De,Qe=0,Oe=k){var Se;super(),this.source=De,this.delayTime=Qe,this.scheduler=Oe,(!(!(0,G.k)(Se=Qe)&&Se-parseFloat(Se)+1>=0)||Qe<0)&&(this.delayTime=0),(!Oe||"function"!=typeof Oe.schedule)&&(this.scheduler=k)}static create(De,Qe=0,Oe=k){return new oe(De,Qe,Oe)}static dispatch(De){const{source:Qe,subscriber:Oe}=De;return this.add(Qe.subscribe(Oe))}_subscribe(De){return this.scheduler.schedule(oe.dispatch,this.delayTime,{source:this.source,subscriber:De})}}function se(Se,De=0){return function(Oe){return Oe.lift(new He(Se,De))}}class He{constructor(De,Qe){this.scheduler=De,this.delay=Qe}call(De,Qe){return new oe(Qe,this.delay,this.scheduler).subscribe(De)}}},3342:(je,me,x)=>{"use strict";x.d(me,{b:()=>ie});var y=x(7393);function ne(){}var he=x(9105);function ie(de,fe,q){return function(L){return L.lift(new ae(de,fe,q))}}class ae{constructor(fe,q,O){this.nextOrObserver=fe,this.error=q,this.complete=O}call(fe,q){return q.subscribe(new X(fe,this.nextOrObserver,this.error,this.complete))}}class X extends y.L{constructor(fe,q,O,L){super(fe),this._tapNext=ne,this._tapError=ne,this._tapComplete=ne,this._tapError=O||ne,this._tapComplete=L||ne,(0,he.m)(q)?(this._context=this,this._tapNext=q):q&&(this._context=q,this._tapNext=q.next||ne,this._tapError=q.error||ne,this._tapComplete=q.complete||ne)}_next(fe){try{this._tapNext.call(this._context,fe)}catch(q){return void this.destination.error(q)}this.destination.next(fe)}_error(fe){try{this._tapError.call(this._context,fe)}catch(q){return void this.destination.error(q)}this.destination.error(fe)}_complete(){try{this._tapComplete.call(this._context)}catch(fe){return void this.destination.error(fe)}return this.destination.complete()}}},4087:(je,me,x)=>{"use strict";x.d(me,{r:()=>he});var y=x(7574),ne=x(5319);function he(ie,ae){return new y.y(X=>{const de=new ne.w;let fe=0;return de.add(ae.schedule(function(){fe!==ie.length?(X.next(ie[fe++]),X.closed||de.add(this.schedule())):X.complete()})),de})}},6465:(je,me,x)=>{"use strict";x.d(me,{o:()=>he});var y=x(5319);class ne extends y.w{constructor(ae,X){super()}schedule(ae,X=0){return this}}class he extends ne{constructor(ae,X){super(ae,X),this.scheduler=ae,this.work=X,this.pending=!1}schedule(ae,X=0){if(this.closed)return this;this.state=ae;const de=this.id,fe=this.scheduler;return null!=de&&(this.id=this.recycleAsyncId(fe,de,X)),this.pending=!0,this.delay=X,this.id=this.id||this.requestAsyncId(fe,this.id,X),this}requestAsyncId(ae,X,de=0){return setInterval(ae.flush.bind(ae,this),de)}recycleAsyncId(ae,X,de=0){if(null!==de&&this.delay===de&&!1===this.pending)return X;clearInterval(X)}execute(ae,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const de=this._execute(ae,X);if(de)return de;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ae,X){let fe,de=!1;try{this.work(ae)}catch(q){de=!0,fe=!!q&&q||new Error(q)}if(de)return this.unsubscribe(),fe}_unsubscribe(){const ae=this.id,X=this.scheduler,de=X.actions,fe=de.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==fe&&de.splice(fe,1),null!=ae&&(this.id=this.recycleAsyncId(X,ae,null)),this.delay=null}}},6102:(je,me,x)=>{"use strict";x.d(me,{v:()=>ne});let y=(()=>{class he{constructor(ae,X=he.now){this.SchedulerAction=ae,this.now=X}schedule(ae,X=0,de){return new this.SchedulerAction(this,ae).schedule(de,X)}}return he.now=()=>Date.now(),he})();class ne extends y{constructor(ie,ae=y.now){super(ie,()=>ne.delegate&&ne.delegate!==this?ne.delegate.now():ae()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ie,ae=0,X){return ne.delegate&&ne.delegate!==this?ne.delegate.schedule(ie,ae,X):super.schedule(ie,ae,X)}flush(ie){const{actions:ae}=this;if(this.active)return void ae.push(ie);let X;this.active=!0;do{if(X=ie.execute(ie.state,ie.delay))break}while(ie=ae.shift());if(this.active=!1,X){for(;ie=ae.shift();)ie.unsubscribe();throw X}}}},3637:(je,me,x)=>{"use strict";x.d(me,{z:()=>he});var y=x(6465);const he=new(x(6102).v)(y.o)},7771:(je,me,x)=>{"use strict";x.d(me,{c:()=>X,N:()=>ae});var y=x(6465),he=x(6102);const ae=new class extends he.v{}(class extends y.o{constructor(fe,q){super(fe,q),this.scheduler=fe,this.work=q}schedule(fe,q=0){return q>0?super.schedule(fe,q):(this.delay=q,this.state=fe,this.scheduler.flush(this),this)}execute(fe,q){return q>0||this.closed?super.execute(fe,q):this._execute(fe,q)}requestAsyncId(fe,q,O=0){return null!==O&&O>0||null===O&&this.delay>0?super.requestAsyncId(fe,q,O):fe.flush(this)}}),X=ae},377:(je,me,x)=>{"use strict";x.d(me,{hZ:()=>ne});const ne="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(je,me,x)=>{"use strict";x.d(me,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(je,me,x)=>{"use strict";x.d(me,{b:()=>y});const y="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(je,me,x)=>{"use strict";x.d(me,{N:()=>ne});const ne=(()=>{function he(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return he.prototype=Object.create(Error.prototype),he})()},4449:(je,me,x)=>{"use strict";function y(ne){setTimeout(()=>{throw ne},0)}x.d(me,{z:()=>y})},4487:(je,me,x)=>{"use strict";function y(ne){return ne}x.d(me,{y:()=>y})},9796:(je,me,x)=>{"use strict";x.d(me,{k:()=>y});const y=Array.isArray||(ne=>ne&&"number"==typeof ne.length)},9489:(je,me,x)=>{"use strict";x.d(me,{z:()=>y});const y=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},9105:(je,me,x)=>{"use strict";function y(ne){return"function"==typeof ne}x.d(me,{m:()=>y})},1555:(je,me,x)=>{"use strict";function y(ne){return null!==ne&&"object"==typeof ne}x.d(me,{K:()=>y})},4072:(je,me,x)=>{"use strict";function y(ne){return!!ne&&"function"!=typeof ne.subscribe&&"function"==typeof ne.then}x.d(me,{t:()=>y})},4869:(je,me,x)=>{"use strict";function y(ne){return ne&&"function"==typeof ne.schedule}x.d(me,{K:()=>y})},7444:(je,me,x)=>{"use strict";x.d(me,{s:()=>L});var y=x(5015),ne=x(4449),ie=x(377),X=x(6554),fe=x(9489),q=x(4072),O=x(1555);const L=B=>{if(B&&"function"==typeof B[X.L])return(B=>k=>{const G=B[X.L]();if("function"!=typeof G.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return G.subscribe(k)})(B);if((0,fe.z)(B))return(0,y.V)(B);if((0,q.t)(B))return(B=>k=>(B.then(G=>{k.closed||(k.next(G),k.complete())},G=>k.error(G)).then(null,ne.z),k))(B);if(B&&"function"==typeof B[ie.hZ])return(B=>k=>{const G=B[ie.hZ]();for(;;){let le;try{le=G.next()}catch(oe){return k.error(oe),k}if(le.done){k.complete();break}if(k.next(le.value),k.closed)break}return"function"==typeof G.return&&k.add(()=>{G.return&&G.return()}),k})(B);{const G=`You provided ${(0,O.K)(B)?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(G)}}},5015:(je,me,x)=>{"use strict";x.d(me,{V:()=>y});const y=ne=>he=>{for(let ie=0,ae=ne.length;ie<ae&&!he.closed;ie++)he.next(ne[ie]);he.complete()}},8575:(je,me,x)=>{"use strict";var y=x(3018);let ne=null;function he(){return ne}const de=new y.OlP("DocumentToken");let fe=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=(0,y.Yz7)({factory:q,token:i,providedIn:"platform"}),i})();function q(){return(0,y.LFG)(L)}const O=new y.OlP("Location Initialized");let L=(()=>{class i extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return he().getBaseHref(this._doc)}onPopState(t){const o=he().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",t,!1),()=>o.removeEventListener("popstate",t)}onHashChange(t){const o=he().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",t,!1),()=>o.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,o,u){B()?this._history.pushState(t,o,u):this.location.hash=u}replaceState(t,o,u){B()?this._history.replaceState(t,o,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(de))},i.\u0275prov=(0,y.Yz7)({factory:k,token:i,providedIn:"platform"}),i})();function B(){return!!window.history.pushState}function k(){return new L((0,y.LFG)(de))}function G(i,e){if(0==i.length)return e;if(0==e.length)return i;let t=0;return i.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?i+e.substring(1):1==t?i+e:i+"/"+e}function le(i){const e=i.match(/#|\?|$/),t=e&&e.index||i.length;return i.slice(0,t-("/"===i[t-1]?1:0))+i.slice(t)}function oe(i){return i&&"?"!==i[0]?"?"+i:i}let se=(()=>{class i{historyGo(t){throw new Error("Not implemented")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=(0,y.Yz7)({factory:He,token:i,providedIn:"root"}),i})();function He(i){const e=(0,y.LFG)(de).location;return new De((0,y.LFG)(fe),e&&e.origin||"")}const Se=new y.OlP("appBaseHref");let De=(()=>{class i extends se{constructor(t,o){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return G(this._baseHref,t)}path(t=!1){const o=this._platformLocation.pathname+oe(this._platformLocation.search),u=this._platformLocation.hash;return u&&t?`${o}${u}`:o}pushState(t,o,u,f){const h=this.prepareExternalUrl(u+oe(f));this._platformLocation.pushState(t,o,h)}replaceState(t,o,u,f){const h=this.prepareExternalUrl(u+oe(f));this._platformLocation.replaceState(t,o,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,t)}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(fe),y.LFG(Se,8))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})(),Qe=(()=>{class i extends se{constructor(t,o){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(t){const o=G(this._baseHref,t);return o.length>0?"#"+o:o}pushState(t,o,u,f){let h=this.prepareExternalUrl(u+oe(f));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,o,h)}replaceState(t,o,u,f){let h=this.prepareExternalUrl(u+oe(f));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,o,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,t)}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(fe),y.LFG(Se,8))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})(),Oe=(()=>{class i{constructor(t,o){this._subject=new y.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const u=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=le(Ut(u)),this._platformStrategy.onPopState(f=>{this._subject.emit({url:this.path(!0),pop:!0,state:f.state,type:f.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,o=""){return this.path()==this.normalize(t+oe(o))}normalize(t){return i.stripTrailingSlash(function(i,e){return i&&e.startsWith(i)?e.substring(i.length):e}(this._baseHref,Ut(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,o="",u=null){this._platformStrategy.pushState(u,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oe(o)),u)}replaceState(t,o="",u=null){this._platformStrategy.replaceState(u,"",t,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oe(o)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var o,u;null===(u=(o=this._platformStrategy).historyGo)||void 0===u||u.call(o,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(t="",o){this._urlChangeListeners.forEach(u=>u(t,o))}subscribe(t,o,u){return this._subject.subscribe({next:t,error:o,complete:u})}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(se),y.LFG(fe))},i.normalizeQueryParams=oe,i.joinWithSlash=G,i.stripTrailingSlash=le,i.\u0275prov=(0,y.Yz7)({factory:Ae,token:i,providedIn:"root"}),i})();function Ae(){return new Oe((0,y.LFG)(se),(0,y.LFG)(fe))}function Ut(i){return i.replace(/\/index.html$/,"")}var ee=(()=>((ee=ee||{})[ee.Zero=0]="Zero",ee[ee.One=1]="One",ee[ee.Two=2]="Two",ee[ee.Few=3]="Few",ee[ee.Many=4]="Many",ee[ee.Other=5]="Other",ee))();const ct=y.kL8;class ji{}let Ql=(()=>{class i extends ji{constructor(t){super(),this.locale=t}getPluralCategory(t,o){switch(ct(o||this.locale)(t)){case ee.Zero:return"zero";case ee.One:return"one";case ee.Two:return"two";case ee.Few:return"few";case ee.Many:return"many";default:return"other"}}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(y.soG))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})(),js=(()=>{class i{constructor(t,o){this._viewContainer=t,this._context=new gi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ft("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ft("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,o){return!0}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(y.s_b),y.Y36(y.Rgc))},i.\u0275dir=y.lG2({type:i,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),i})();class gi{constructor(){this.$implicit=null,this.ngIf=null}}function Ft(i,e){if(e&&!e.createEmbeddedView)throw new Error(`${i} must be a TemplateRef, but received '${(0,y.AaK)(e)}'.`)}class Rg{createSubscription(e,t){return e.subscribe({next:t,error:o=>{throw o}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class hd{createSubscription(e,t){return e.then(t,o=>{throw o})}dispose(e){}onDestroy(e){}}const pd=new hd,mi=new Rg;let h0=(()=>{class i{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,o=>this._updateLatestValue(t,o))}_selectStrategy(t){if((0,y.QGY)(t))return pd;if((0,y.F4k)(t))return mi;throw function(i,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,y.AaK)(i)}'`)}(i,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,o){t===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(y.sBO,16))},i.\u0275pipe=y.Yjl({name:"async",type:i,pure:!1}),i})(),GM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({providers:[{provide:ji,useClass:Ql}]}),i})();function Og(i){return"server"===i}let Pg=(()=>{class i{}return i.\u0275prov=(0,y.Yz7)({token:i,providedIn:"root",factory:()=>new lT((0,y.LFG)(de),window)}),i})();class lT{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(i,e){const t=i.getElementById(e)||i.getElementsByName(e)[0];if(t)return t;if("function"==typeof i.createTreeWalker&&i.body&&(i.body.createShadowRoot||i.body.attachShadow)){const o=i.createTreeWalker(i.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const f=u.shadowRoot;if(f){const h=f.getElementById(e)||f.querySelector(`[name="${e}"]`);if(h)return h}u=o.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),o=t.left+this.window.pageXOffset,u=t.top+this.window.pageYOffset,f=this.offset();this.window.scrollTo(o-f[0],u-f[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=gd(this.window.history)||gd(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function gd(i){return Object.getOwnPropertyDescriptor(i,"scrollRestoration")}class Xl extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var i;i=new Xl,ne||(ne=i)}onAndCancel(e,t,o){return e.addEventListener(t,o,!1),()=>{e.removeEventListener(t,o,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(ec=ec||document.querySelector("base"),ec?ec.getAttribute("href"):null);return null==t?null:function(i){Fg=Fg||document.createElement("a"),Fg.setAttribute("href",i);const e=Fg.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ec=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(i,e){e=encodeURIComponent(e);for(const t of i.split(";")){const o=t.indexOf("="),[u,f]=-1==o?[t,""]:[t.slice(0,o),t.slice(o+1)];if(u.trim()===e)return decodeURIComponent(f)}return null}(document.cookie,e)}}let Fg,ec=null;const fT=new y.OlP("TRANSITION_ID"),dT=[{provide:y.ip1,useFactory:function(i,e,t){return()=>{t.get(y.CZH).donePromise.then(()=>{const o=he(),u=e.querySelectorAll(`style[ng-transition="${i}"]`);for(let f=0;f<u.length;f++)o.remove(u[f])})}},deps:[fT,de,y.zs3],multi:!0}];class nn{static init(){(0,y.VLi)(new nn)}addToWindow(e){y.dqk.getAngularTestability=(o,u=!0)=>{const f=e.findTestabilityInTree(o,u);if(null==f)throw new Error("Could not find testability for element.");return f},y.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(o=>{const u=y.dqk.getAllAngularTestabilities();let f=u.length,h=!1;const g=function(_){h=h||_,f--,0==f&&o(h)};u.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,o){if(null==t)return null;const u=e.getTestability(t);return null!=u?u:o?he().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let hT=(()=>{class i{build(){return new XMLHttpRequest}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();const nc=new y.OlP("EventManagerPlugins");let yd=(()=>{class i{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(u=>u.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,u){return this._findPluginFor(o).addEventListener(t,o,u)}addGlobalEventListener(t,o,u){return this._findPluginFor(o).addGlobalEventListener(t,o,u)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const u=this._plugins;for(let f=0;f<u.length;f++){const h=u[f];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(nc),y.LFG(y.R0b))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();class Vg{constructor(e){this._doc=e}addGlobalEventListener(e,t,o){const u=he().getGlobalEventTarget(this._doc,e);if(!u)throw new Error(`Unsupported event target ${u} for event ${t}`);return this.addEventListener(u,t,o)}}let Ug=(()=>{class i{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})(),rc=(()=>{class i extends Ug{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,u){t.forEach(f=>{const h=this._doc.createElement("style");h.textContent=f,u.push(o.appendChild(h))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach(S0),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(t,u,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(S0))}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(de))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();function S0(i){he().remove(i)}const pe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yt=/%COMP%/g;function eu(i,e,t){for(let o=0;o<e.length;o++){let u=e[o];Array.isArray(u)?eu(i,u,t):(u=u.replace(yt,i),t.push(u))}return t}function pT(i){return e=>{if("__ngUnwrap__"===e)return i;!1===i(e)&&(e.preventDefault(),e.returnValue=!1)}}let Hs=(()=>{class i{constructor(t,o,u){this.eventManager=t,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new tu(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case y.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new nu(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(t),u}case 1:case y.ifc.ShadowDom:return new vo(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const u=eu(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(yd),y.LFG(rc),y.LFG(y.AFp))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();class tu{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(pe[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,o){e&&e.insertBefore(t,o)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let o="string"==typeof e?document.querySelector(e):e;if(!o)throw new Error(`The selector "${e}" did not match any elements`);return t||(o.textContent=""),o}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,o,u){if(u){t=u+":"+t;const f=pe[u];f?e.setAttributeNS(f,t,o):e.setAttribute(t,o)}else e.setAttribute(t,o)}removeAttribute(e,t,o){if(o){const u=pe[o];u?e.removeAttributeNS(u,t):e.removeAttribute(`${o}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,o,u){u&(y.JOm.DashCase|y.JOm.Important)?e.style.setProperty(t,o,u&y.JOm.Important?"important":""):e.style[t]=o}removeStyle(e,t,o){o&y.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,o){e[t]=o}setValue(e,t){e.nodeValue=t}listen(e,t,o){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pT(o)):this.eventManager.addEventListener(e,t,pT(o))}}class nu extends tu{constructor(e,t,o,u){super(e),this.component=o;const f=eu(u+"-"+o.id,o.styles,[]);t.addStyles(f),this.contentAttr="_ngcontent-%COMP%".replace(yt,u+"-"+o.id),this.hostAttr=function(i){return"_nghost-%COMP%".replace(yt,i)}(u+"-"+o.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const o=super.createElement(e,t);return super.setAttribute(o,this.contentAttr,""),o}}class vo extends tu{constructor(e,t,o,u){super(e),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const f=eu(u.id,u.styles,[]);for(let h=0;h<f.length;h++){const g=document.createElement("style");g.textContent=f[h],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,o){return super.insertBefore(this.nodeOrShadowRoot(e),t,o)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let gT=(()=>{class i extends Vg{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,u){return t.addEventListener(o,u,!1),()=>this.removeEventListener(t,o,u)}removeEventListener(t,o,u){return t.removeEventListener(o,u)}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(de))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();const oc=["alt","control","meta","shift"],P0={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zg={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ur={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey};let zo=(()=>{class i extends Vg{constructor(t){super(t)}supports(t){return null!=i.parseEventName(t)}addEventListener(t,o,u){const f=i.parseEventName(o),h=i.eventCallback(f.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>he().onAndCancel(t,f.domEventName,h))}static parseEventName(t){const o=t.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const f=i._normalizeKey(o.pop());let h="";if(oc.forEach(_=>{const E=o.indexOf(_);E>-1&&(o.splice(E,1),h+=_+".")}),h+=f,0!=o.length||0===f.length)return null;const g={};return g.domEventName=u,g.fullKey=h,g}static getEventFullKey(t){let o="",u=function(i){let e=i.key;if(null==e){if(e=i.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===i.location&&zg.hasOwnProperty(e)&&(e=zg[e]))}return P0[e]||e}(t);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),oc.forEach(f=>{f!=u&&ur[f](t)&&(o+=f+".")}),o+=u,o}static eventCallback(t,o,u){return f=>{i.getEventFullKey(f)===t&&u.runGuarded(()=>o(f))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(de))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();const CT=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:"browser"},{provide:y.g9A,useValue:function(){Xl.makeCurrent(),nn.init()},multi:!0},{provide:de,useFactory:function(){return(0,y.RDi)(document),document},deps:[]}]),Wo=[[],{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function(){return new y.qLn},deps:[]},{provide:nc,useClass:gT,multi:!0,deps:[de,y.R0b,y.Lbi]},{provide:nc,useClass:zo,multi:!0,deps:[de]},[],{provide:Hs,useClass:Hs,deps:[yd,rc,y.AFp]},{provide:y.FYo,useExisting:Hs},{provide:Ug,useExisting:rc},{provide:rc,useClass:rc,deps:[de]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b]},{provide:yd,useClass:yd,deps:[nc,y.R0b]},{provide:class{},useClass:hT,deps:[]},[]];let $s=(()=>{class i{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:i,providers:[{provide:y.AFp,useValue:t.appId},{provide:fT,useExisting:y.AFp},dT]}}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(i,12))},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({providers:Wo,imports:[GM,y.hGG]}),i})();"undefined"!=typeof window&&window;var Wt=x(4402),Je=x(5917),Qo=x(9765),iu=x(7971);class kr extends Qo.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new iu.N;return this._value}next(e){super.next(this._value=e)}}var Ed=x(4869),ou=x(9796),wr=x(7393);class MT extends wr.L{notifyNext(e,t,o,u,f){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class j0 extends wr.L{constructor(e,t,o){super(),this.parent=e,this.outerValue=t,this.outerIndex=o,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var B0=x(7444),_i=x(7574);function G0(i,e,t,o,u=new j0(i,t,o)){if(!u.closed)return e instanceof _i.y?e.subscribe(u):(0,B0.s)(e)(u)}var NT=x(6693);const H0={};class uc{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new RT(e,this.resultSelector))}}class RT extends MT{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(H0),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let o=0;o<t;o++)this.add(G0(this,e[o],void 0,o))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,o){const u=this.values,h=this.toRespond?u[o]===H0?--this.toRespond:this.toRespond:0;u[o]=t,0===h&&(this.resultSelector?this._tryResultSelector(u):this.destination.next(u.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(o){return void this.destination.error(o)}this.destination.next(t)}}const lc=(()=>{function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return i.prototype=Object.create(Error.prototype),i})();var _o=x(3282);function cc(...i){return(0,_o.J)(1)((0,Je.of)(...i))}var Hi=x(9193);function qs(i){return new _i.y(e=>{let t;try{t=i()}catch(u){return void e.error(u)}return(t?(0,Wt.D)(t):(0,Hi.c)()).subscribe(e)})}var su=x(2441),it=x(8002),$i=x(5345);function Cn(i,e){return"function"==typeof e?t=>t.pipe(Cn((o,u)=>(0,Wt.D)(i(o,u)).pipe((0,it.U)((f,h)=>e(o,f,u,h))))):t=>t.lift(new zs(i))}class zs{constructor(e){this.project=e}call(e,t){return t.subscribe(new nN(e,this.project))}}class nN extends $i.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const o=this.index++;try{t=this.project(e,o)}catch(u){return void this.destination.error(u)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const o=new $i.IY(this),u=this.destination;u.add(o),this.innerSubscription=(0,$i.ft)(e,o),this.innerSubscription!==o&&u.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}const q0=(()=>{function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return i.prototype=Object.create(Error.prototype),i})();function z0(i){return e=>0===i?(0,Hi.c)():e.lift(new PT(i))}class PT{constructor(e){if(this.total=e,this.total<0)throw new q0}call(e,t){return t.subscribe(new on(e,this.total))}}class on extends wr.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,o=++this.count;o<=t&&(this.destination.next(e),o===t&&(this.destination.complete(),this.unsubscribe()))}}function Cd(...i){const e=i[i.length-1];return(0,Ed.K)(e)?(i.pop(),t=>cc(i,t,e)):t=>cc(i,t)}function au(i,e){let t=!1;return arguments.length>=2&&(t=!0),function(u){return u.lift(new rN(i,e,t))}}class rN{constructor(e,t,o=!1){this.accumulator=e,this.seed=t,this.hasSeed=o}call(e,t){return t.subscribe(new iN(e,this.accumulator,this.seed,this.hasSeed))}}class iN extends wr.L{constructor(e,t,o,u){super(e),this.accumulator=t,this._seed=o,this.hasSeed=u,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let o;try{o=this.accumulator(this.seed,e,t)}catch(u){this.destination.error(u)}this.seed=o,this.destination.next(o)}}function Yo(i,e){return function(o){return o.lift(new oN(i,e))}}class oN{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new sN(e,this.predicate,this.thisArg))}}class sN extends wr.L{constructor(e,t,o){super(e),this.predicate=t,this.thisArg=o,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(o){return void this.destination.error(o)}t&&this.destination.next(e)}}function uu(i){return function(t){const o=new aN(i),u=t.lift(o);return o.caught=u}}class aN{constructor(e){this.selector=e}call(e,t){return t.subscribe(new uN(e,this.selector,this.caught))}}class uN extends $i.Ds{constructor(e,t,o){super(e),this.selector=t,this.caught=o}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(f){return void super.error(f)}this._unsubscribeAndRecycle();const o=new $i.IY(this);this.add(o);const u=(0,$i.ft)(t,o);u!==o&&this.add(u)}}}var Cr=x(9773);function bo(i,e){return(0,Cr.zg)(i,e,1)}function W0(i){return function(t){return 0===i?(0,Hi.c)():t.lift(new Dn(i))}}class Dn{constructor(e){if(this.total=e,this.total<0)throw new q0}call(e,t){return t.subscribe(new Dd(e,this.total))}}class Dd extends wr.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,o=this.total,u=this.count++;t.length<o?t.push(e):t[u%o]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const o=this.count>=this.total?this.total:this.count,u=this.ring;for(let f=0;f<o;f++){const h=t++%o;e.next(u[h])}}e.complete()}}function fc(i=Jr){return e=>e.lift(new lN(i))}class lN{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new xT(e,this.errorFactory))}}class xT extends wr.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function Jr(){return new lc}function bi(i=null){return e=>e.lift(new Td(i))}class Td{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new Ws(e,this.defaultValue))}}class Ws extends wr.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Eo=x(4487);function Zo(i,e){const t=arguments.length>=2;return o=>o.pipe(i?Yo((u,f)=>i(u,f,o)):Eo.y,z0(1),t?bi(e):fc(()=>new lc))}var Lr=x(3342),cN=x(1307),FT=x(5319);class Vr{constructor(e){this.callback=e}call(e,t){return t.subscribe(new em(e,this.callback))}}class em extends wr.L{constructor(e,t){super(e),this.add(new FT.w(t))}}class Dr{constructor(e,t){this.id=e,this.url=t}}class Y0 extends Dr{constructor(e,t,o="imperative",u=null){super(e,t),this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class lu extends Dr{constructor(e,t,o){super(e,t),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Z0 extends Dr{constructor(e,t,o){super(e,t),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kT extends Dr{constructor(e,t,o){super(e,t),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class LT extends Dr{constructor(e,t,o,u){super(e,t),this.urlAfterRedirects=o,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class VT extends Dr{constructor(e,t,o,u){super(e,t),this.urlAfterRedirects=o,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UT extends Dr{constructor(e,t,o,u,f){super(e,t),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=f}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dc extends Dr{constructor(e,t,o,u){super(e,t),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tm extends Dr{constructor(e,t,o,u){super(e,t),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hc{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jT{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nm{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cu{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class BT{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J0{constructor(e,t,o){this.routerEvent=e,this.position=t,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ht="primary";class rm{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function gc(i){return new rm(i)}const Sd="ngNavigationCancelingError";function Ks(i){const e=Error("NavigationCancelingError: "+i);return e[Sd]=!0,e}function GT(i,e,t){const o=t.path.split("/");if(o.length>i.length||"full"===t.pathMatch&&(e.hasChildren()||o.length<i.length))return null;const u={};for(let f=0;f<o.length;f++){const h=o[f],g=i[f];if(h.startsWith(":"))u[h.substring(1)]=g;else if(h!==g.path)return null}return{consumed:i.slice(0,o.length),posParams:u}}function Ei(i,e){const t=i?Object.keys(i):void 0,o=e?Object.keys(e):void 0;if(!t||!o||t.length!=o.length)return!1;let u;for(let f=0;f<t.length;f++)if(u=t[f],!HT(i[u],e[u]))return!1;return!0}function HT(i,e){if(Array.isArray(i)&&Array.isArray(e)){if(i.length!==e.length)return!1;const t=[...i].sort(),o=[...e].sort();return t.every((u,f)=>o[f]===u)}return i===e}function Jo(i){return Array.prototype.concat.apply([],i)}function du(i){return i.length>0?i[i.length-1]:null}function Rn(i,e){for(const t in i)i.hasOwnProperty(t)&&e(i[t],t)}function wi(i){return(0,y.CqO)(i)?i:(0,y.QGY)(i)?(0,Wt.D)(Promise.resolve(i)):(0,Je.of)(i)}const hu={exact:function X0(i,e,t){if(!Ys(i.segments,e.segments)||!vc(i.segments,e.segments,t)||i.numberOfChildren!==e.numberOfChildren)return!1;for(const o in e.children)if(!i.children[o]||!X0(i.children[o],e.children[o],t))return!1;return!0},subset:Id},qi={exact:function(i,e){return Ei(i,e)},subset:function(i,e){return Object.keys(e).length<=Object.keys(i).length&&Object.keys(e).every(t=>HT(i[t],e[t]))},ignored:()=>!0};function mc(i,e,t){return hu[t.paths](i.root,e.root,t.matrixParams)&&qi[t.queryParams](i.queryParams,e.queryParams)&&!("exact"===t.fragment&&i.fragment!==e.fragment)}function Id(i,e,t){return yc(i,e,e.segments,t)}function yc(i,e,t,o){if(i.segments.length>t.length){const u=i.segments.slice(0,t.length);return!(!Ys(u,t)||e.hasChildren()||!vc(u,t,o))}if(i.segments.length===t.length){if(!Ys(i.segments,t)||!vc(i.segments,t,o))return!1;for(const u in e.children)if(!i.children[u]||!Id(i.children[u],e.children[u],o))return!1;return!0}{const u=t.slice(0,i.segments.length),f=t.slice(i.segments.length);return!!(Ys(i.segments,u)&&vc(i.segments,u,o)&&i.children[ht])&&yc(i.children[ht],e,f,o)}}function vc(i,e,t){return e.every((o,u)=>qi[t](i[u].parameters,o.parameters))}class Qs{constructor(e,t,o){this.root=e,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gc(this.queryParams)),this._queryParamMap}toString(){return pN.serialize(this)}}class vt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Rn(t,(o,u)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Md(this)}}class zi{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=gc(this.parameters)),this._parameterMap}toString(){return $T(this)}}function Ys(i,e){return i.length===e.length&&i.every((t,o)=>t.path===e[o].path)}class Ad{}class tb{parse(e){const t=new WT(e);return new Qs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var i;return`${`/${bc(e.root,!0)}`}${function(i){const e=Object.keys(i).map(t=>{const o=i[t];return Array.isArray(o)?o.map(u=>`${Zs(t)}=${Zs(u)}`).join("&"):`${Zs(t)}=${Zs(o)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${i=e.fragment,encodeURI(i)}`:""}`}}const pN=new tb;function Md(i){return i.segments.map(e=>$T(e)).join("/")}function bc(i,e){if(!i.hasChildren())return Md(i);if(e){const t=i.children[ht]?bc(i.children[ht],!1):"",o=[];return Rn(i.children,(u,f)=>{f!==ht&&o.push(`${f}:${bc(u,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function(i,e){let t=[];return Rn(i.children,(o,u)=>{u===ht&&(t=t.concat(e(o,u)))}),Rn(i.children,(o,u)=>{u!==ht&&(t=t.concat(e(o,u)))}),t}(i,(o,u)=>u===ht?[bc(i.children[ht],!1)]:[`${u}:${bc(o,!1)}`]);return 1===Object.keys(i.children).length&&null!=i.children[ht]?`${Md(i)}/${t[0]}`:`${Md(i)}/(${t.join("//")})`}}function nb(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zs(i){return nb(i).replace(/%3B/gi,";")}function es(i){return nb(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nd(i){return decodeURIComponent(i)}function rb(i){return Nd(i.replace(/\+/g,"%20"))}function $T(i){return`${es(i.path)}${function(i){return Object.keys(i).map(e=>`;${es(e)}=${es(i[e])}`).join("")}(i.parameters)}`}const ib=/^[^\/()?;=#]+/;function Ec(i){const e=i.match(ib);return e?e[0]:""}const ob=/^[^=?&#]+/,qT=/^[^?&#]+/;class WT{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new vt([],{}):new vt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(o[ht]=new vt(e,t)),o}parseSegment(){const e=Ec(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new zi(Nd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Ec(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const u=Ec(this.remaining);u&&(o=u,this.capture(o))}e[Nd(t)]=Nd(o)}parseQueryParam(e){const t=function(i){const e=i.match(ob);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const h=function(i){const e=i.match(qT);return e?e[0]:""}(this.remaining);h&&(o=h,this.capture(o))}const u=rb(t),f=rb(o);if(e.hasOwnProperty(u)){let h=e[u];Array.isArray(h)||(h=[h],e[u]=h),h.push(f)}else e[u]=f}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Ec(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let f;o.indexOf(":")>-1?(f=o.substr(0,o.indexOf(":")),this.capture(f),this.capture(":")):e&&(f=ht);const h=this.parseChildren();t[f]=1===Object.keys(h).length?h[ht]:new vt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class sb{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=sm(e,this._root);return t?t.children.map(o=>o.value):[]}firstChild(e){const t=sm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ci(e,this._root);return t.length<2?[]:t[t.length-2].children.map(u=>u.value).filter(u=>u!==e)}pathFromRoot(e){return Ci(e,this._root).map(t=>t.value)}}function sm(i,e){if(i===e.value)return e;for(const t of e.children){const o=sm(i,t);if(o)return o}return null}function Ci(i,e){if(i===e.value)return[e];for(const t of e.children){const o=Ci(i,t);if(o.length)return o.unshift(e),o}return[]}class Tr{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function pu(i){const e={};return i&&i.children.forEach(t=>e[t.value.outlet]=t),e}class ab extends sb{constructor(e,t){super(e),this.snapshot=t,am(this,e)}toString(){return this.snapshot.toString()}}function ub(i,e){const t=function(i,e){const h=new Od([],{},{},"",{},ht,e,null,i.root,-1,{});return new fb("",new Tr(h,[]))}(i,e),o=new kr([new zi("",{})]),u=new kr({}),f=new kr({}),h=new kr({}),g=new kr(""),_=new gu(o,u,h,g,f,ht,e,t.root);return _.snapshot=t.root,new ab(new Tr(_,[]),t)}class gu{constructor(e,t,o,u,f,h,g,_){this.url=e,this.params=t,this.queryParams=o,this.fragment=u,this.data=f,this.outlet=h,this.component=g,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(e=>gc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(e=>gc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function lb(i,e="emptyOnly"){const t=i.pathFromRoot;let o=0;if("always"!==e)for(o=t.length-1;o>=1;){const u=t[o],f=t[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(f.component)break;o--}}return function(i){return i.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(o))}class Od{constructor(e,t,o,u,f,h,g,_,E,C,T){this.url=e,this.params=t,this.queryParams=o,this.fragment=u,this.data=f,this.outlet=h,this.component=g,this.routeConfig=_,this._urlSegment=E,this._lastPathIndex=C,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=gc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=gc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class fb extends sb{constructor(e,t){super(t),this.url=e,am(this,t)}toString(){return db(this._root)}}function am(i,e){e.value._routerState=i,e.children.forEach(t=>am(i,t))}function db(i){const e=i.children.length>0?` { ${i.children.map(db).join(", ")} } `:"";return`${i.value}${e}`}function hb(i){if(i.snapshot){const e=i.snapshot,t=i._futureSnapshot;i.snapshot=t,Ei(e.queryParams,t.queryParams)||i.queryParams.next(t.queryParams),e.fragment!==t.fragment&&i.fragment.next(t.fragment),Ei(e.params,t.params)||i.params.next(t.params),function(i,e){if(i.length!==e.length)return!1;for(let t=0;t<i.length;++t)if(!Ei(i[t],e[t]))return!1;return!0}(e.url,t.url)||i.url.next(t.url),Ei(e.data,t.data)||i.data.next(t.data)}else i.snapshot=i._futureSnapshot,i.data.next(i._futureSnapshot.data)}function um(i,e){return Ei(i.params,e.params)&&function(i,e){return Ys(i,e)&&i.every((t,o)=>Ei(t.parameters,e[o].parameters))}(i.url,e.url)&&!(!i.parent!=!e.parent)&&(!i.parent||um(i.parent,e.parent))}function Cc(i,e,t){if(t&&i.shouldReuseRoute(e.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=e.value;const u=function(i,e,t){return e.children.map(o=>{for(const u of t.children)if(i.shouldReuseRoute(o.value,u.value.snapshot))return Cc(i,o,u);return Cc(i,o)})}(i,e,t);return new Tr(o,u)}{if(i.shouldAttach(e.value)){const f=i.retrieve(e.value);if(null!==f){const h=f.route;return Di(e,h),h}}const o=function(i){return new gu(new kr(i.url),new kr(i.params),new kr(i.queryParams),new kr(i.fragment),new kr(i.data),i.outlet,i.component,i)}(e.value),u=e.children.map(f=>Cc(i,f));return new Tr(o,u)}}function Di(i,e){if(i.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(i.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=i.value;for(let t=0;t<i.children.length;++t)Di(i.children[t],e.children[t])}function Tc(i){return"object"==typeof i&&null!=i&&!i.outlets&&!i.segmentPath}function Pd(i){return"object"==typeof i&&null!=i&&i.outlets}function mb(i,e,t,o,u){let f={};return o&&Rn(o,(h,g)=>{f[g]=Array.isArray(h)?h.map(_=>`${_}`):`${h}`}),new Qs(t.root===i?e:QT(t.root,i,e),f,u)}function QT(i,e,t){const o={};return Rn(i.children,(u,f)=>{o[f]=u===e?t:QT(u,e,t)}),new vt(i.segments,o)}class xd{constructor(e,t,o){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=o,e&&o.length>0&&Tc(o[0]))throw new Error("Root segment cannot have matrix parameters");const u=o.find(Pd);if(u&&u!==du(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sc{constructor(e,t,o){this.segmentGroup=e,this.processChildren=t,this.index=o}}function vb(i,e,t){if(i||(i=new vt([],{})),0===i.segments.length&&i.hasChildren())return Fd(i,e,t);const o=function(i,e,t){let o=0,u=e;const f={match:!1,pathIndex:0,commandIndex:0};for(;u<i.segments.length;){if(o>=t.length)return f;const h=i.segments[u],g=t[o];if(Pd(g))break;const _=`${g}`,E=o<t.length-1?t[o+1]:null;if(u>0&&void 0===_)break;if(_&&E&&"object"==typeof E&&void 0===E.outlets){if(!fm(_,E,h))return f;o+=2}else{if(!fm(_,{},h))return f;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(i,e,t),u=t.slice(o.commandIndex);if(o.match&&o.pathIndex<i.segments.length){const f=new vt(i.segments.slice(0,o.pathIndex),{});return f.children[ht]=new vt(i.segments.slice(o.pathIndex),i.children),Fd(f,0,u)}return o.match&&0===u.length?new vt(i.segments,{}):o.match&&!i.hasChildren()?cm(i,e,t):o.match?Fd(i,0,u):cm(i,e,t)}function Fd(i,e,t){if(0===t.length)return new vt(i.segments,{});{const o=function(i){return Pd(i[0])?i[0].outlets:{[ht]:i}}(t),u={};return Rn(o,(f,h)=>{"string"==typeof f&&(f=[f]),null!==f&&(u[h]=vb(i.children[h],e,f))}),Rn(i.children,(f,h)=>{void 0===o[h]&&(u[h]=f)}),new vt(i.segments,u)}}function cm(i,e,t){const o=i.segments.slice(0,e);let u=0;for(;u<t.length;){const f=t[u];if(Pd(f)){const _=_b(f.outlets);return new vt(o,_)}if(0===u&&Tc(t[0])){o.push(new zi(i.segments[e].path,Ic(t[0]))),u++;continue}const h=Pd(f)?f.outlets[ht]:`${f}`,g=u<t.length-1?t[u+1]:null;h&&g&&Tc(g)?(o.push(new zi(h,Ic(g))),u+=2):(o.push(new zi(h,{})),u++)}return new vt(o,{})}function _b(i){const e={};return Rn(i,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[o]=cm(new vt([],{}),0,t))}),e}function Ic(i){const e={};return Rn(i,(t,o)=>e[o]=`${t}`),e}function fm(i,e,t){return i==t.path&&Ei(e,t.parameters)}class ZT{constructor(e,t,o,u){this.routeReuseStrategy=e,this.futureState=t,this.currState=o,this.forwardEvent=u}activate(e){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,e),hb(this.futureState.root),this.activateChildRoutes(t,o,e)}deactivateChildRoutes(e,t,o){const u=pu(t);e.children.forEach(f=>{const h=f.value.outlet;this.deactivateRoutes(f,u[h],o),delete u[h]}),Rn(u,(f,h)=>{this.deactivateRouteAndItsChildren(f,o)})}deactivateRoutes(e,t,o){const u=e.value,f=t?t.value:null;if(u===f)if(u.component){const h=o.getContext(u.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,o);else f&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const o=t.getContext(e.value.outlet);if(o&&o.outlet){const u=o.outlet.detach(),f=o.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const o=t.getContext(e.value.outlet),u=o&&e.value.component?o.children:t,f=pu(e);for(const h of Object.keys(f))this.deactivateRouteAndItsChildren(f[h],u);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(e,t,o){const u=pu(t);e.children.forEach(f=>{this.activateRoutes(f,u[f.value.outlet],o),this.forwardEvent(new BT(f.value.snapshot))}),e.children.length&&this.forwardEvent(new nm(e.value.snapshot))}activateRoutes(e,t,o){const u=e.value,f=t?t.value:null;if(hb(u),u===f)if(u.component){const h=o.getOrCreateContext(u.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,o);else if(u.component){const h=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const g=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),h.children.onOutletReAttached(g.contexts),h.attachRef=g.componentRef,h.route=g.route.value,h.outlet&&h.outlet.attach(g.componentRef,g.route.value),Kt(g.route)}else{const g=function(i){for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(u.snapshot),_=g?g.module.componentFactoryResolver:null;h.attachRef=null,h.route=u,h.resolver=_,h.outlet&&h.outlet.activateWith(u,_),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,o)}}function Kt(i){hb(i.value),i.children.forEach(Kt)}class hm{constructor(e,t){this.routes=e,this.module=t}}function Wi(i){return"function"==typeof i}function Xs(i){return i instanceof Qs}const kd=Symbol("INITIAL_VALUE");function Ld(){return Cn(i=>function(...i){let e,t;return(0,Ed.K)(i[i.length-1])&&(t=i.pop()),"function"==typeof i[i.length-1]&&(e=i.pop()),1===i.length&&(0,ou.k)(i[0])&&(i=i[0]),(0,NT.n)(i,t).lift(new uc(e))}(i.map(e=>e.pipe(z0(1),Cd(kd)))).pipe(au((e,t)=>{let o=!1;return t.reduce((u,f,h)=>u!==kd?u:(f===kd&&(o=!0),o||!1!==f&&h!==t.length-1&&!Xs(f)?u:f),e)},kd),Yo(e=>e!==kd),(0,it.U)(e=>Xs(e)?e:!0===e),z0(1)))}let mu=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=y.Xpm({type:i,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&y._UZ(0,"router-outlet")},directives:function(){return[Zd]},encapsulation:2}),i})();function Yn(i,e=""){for(let t=0;t<i.length;t++){const o=i[t];pm(o,Eb(e,o))}}function pm(i,e){i.children&&Yn(i.children,e)}function Eb(i,e){return e?i||e.path?i&&!e.path?`${i}/`:!i&&e.path?e.path:`${i}/${e.path}`:"":i}function Vd(i){const e=i.children&&i.children.map(Vd),t=e?Object.assign(Object.assign({},i),{children:e}):Object.assign({},i);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ht&&(t.component=mu),t}function kt(i){return i.outlet||ht}function yu(i,e){const t=i.filter(o=>kt(o)===e);return t.push(...i.filter(o=>kt(o)!==e)),t}const Ud={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function jd(i,e,t){var o;if(""===e.path)return"full"===e.pathMatch&&(i.hasChildren()||t.length>0)?Object.assign({},Ud):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const f=(e.matcher||GT)(t,i,e);if(!f)return Object.assign({},Ud);const h={};Rn(f.posParams,(_,E)=>{h[E]=_.path});const g=f.consumed.length>0?Object.assign(Object.assign({},h),f.consumed[f.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:f.consumed,lastChild:f.consumed.length,parameters:g,positionalParamSegments:null!==(o=f.posParams)&&void 0!==o?o:{}}}function Bd(i,e,t,o,u="corrected"){if(t.length>0&&function(i,e,t){return t.some(o=>Ac(i,e,o)&&kt(o)!==ht)}(i,t,o)){const h=new vt(e,function(i,e,t,o){const u={};u[ht]=o,o._sourceSegment=i,o._segmentIndexShift=e.length;for(const f of t)if(""===f.path&&kt(f)!==ht){const h=new vt([],{});h._sourceSegment=i,h._segmentIndexShift=e.length,u[kt(f)]=h}return u}(i,e,o,new vt(t,i.children)));return h._sourceSegment=i,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(i,e,t){return t.some(o=>Ac(i,e,o))}(i,t,o)){const h=new vt(i.segments,function(i,e,t,o,u,f){const h={};for(const g of o)if(Ac(i,t,g)&&!u[kt(g)]){const _=new vt([],{});_._sourceSegment=i,_._segmentIndexShift="legacy"===f?i.segments.length:e.length,h[kt(g)]=_}return Object.assign(Object.assign({},u),h)}(i,e,t,o,i.children,u));return h._sourceSegment=i,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const f=new vt(i.segments,i.children);return f._sourceSegment=i,f._segmentIndexShift=e.length,{segmentGroup:f,slicedSegments:t}}function Ac(i,e,t){return(!(i.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Db(i,e,t,o){return!!(kt(i)===o||o!==ht&&Ac(e,t,i))&&("**"===i.path||jd(e,i,t).matched)}function Tb(i,e,t){return 0===e.length&&!i.children[t]}class Mc{constructor(e){this.segmentGroup=e||null}}class gm{constructor(e){this.urlTree=e}}function vu(i){return new _i.y(e=>e.error(new Mc(i)))}function mm(i){return new _i.y(e=>e.error(new gm(i)))}function oS(i){return new _i.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i}'`)))}class Gd{constructor(e,t,o,u,f){this.configLoader=t,this.urlSerializer=o,this.urlTree=u,this.config=f,this.allowRedirects=!0,this.ngModule=e.get(y.h0i)}apply(){const e=Bd(this.urlTree.root,[],[],this.config).segmentGroup,t=new vt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,ht).pipe((0,it.U)(f=>this.createUrlTree(ym(f),this.urlTree.queryParams,this.urlTree.fragment))).pipe(uu(f=>{if(f instanceof gm)return this.allowRedirects=!1,this.match(f.urlTree);throw f instanceof Mc?this.noMatchError(f):f}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,ht).pipe((0,it.U)(u=>this.createUrlTree(ym(u),e.queryParams,e.fragment))).pipe(uu(u=>{throw u instanceof Mc?this.noMatchError(u):u}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,o){const u=e.segments.length>0?new vt([],{[ht]:e}):e;return new Qs(u,t,o)}expandSegmentGroup(e,t,o,u){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(e,t,o).pipe((0,it.U)(f=>new vt([],f))):this.expandSegment(e,o,t,o.segments,u,!0)}expandChildren(e,t,o){const u=[];for(const f of Object.keys(o.children))"primary"===f?u.unshift(f):u.push(f);return(0,Wt.D)(u).pipe(bo(f=>{const h=o.children[f],g=yu(t,f);return this.expandSegmentGroup(e,g,h,f).pipe((0,it.U)(_=>({segment:_,outlet:f})))}),au((f,h)=>(f[h.outlet]=h.segment,f),{}),function(i,e){const t=arguments.length>=2;return o=>o.pipe(i?Yo((u,f)=>i(u,f,o)):Eo.y,W0(1),t?bi(e):fc(()=>new lc))}())}expandSegment(e,t,o,u,f,h){return(0,Wt.D)(o).pipe(bo(g=>this.expandSegmentAgainstRoute(e,t,o,g,u,f,h).pipe(uu(E=>{if(E instanceof Mc)return(0,Je.of)(null);throw E}))),Zo(g=>!!g),uu((g,_)=>{if(g instanceof lc||"EmptyError"===g.name){if(Tb(t,u,f))return(0,Je.of)(new vt([],{}));throw new Mc(t)}throw g}))}expandSegmentAgainstRoute(e,t,o,u,f,h,g){return Db(u,t,f,h)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(e,t,u,f,h):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,o,u,f,h):vu(t):vu(t)}expandSegmentAgainstRouteUsingRedirect(e,t,o,u,f,h){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,o,u,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,u,f,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,o,u){const f=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?mm(f):this.lineralizeSegments(o,f).pipe((0,Cr.zg)(h=>{const g=new vt(h,{});return this.expandSegment(e,g,t,h,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,o,u,f,h){const{matched:g,consumedSegments:_,lastChild:E,positionalParamSegments:C}=jd(t,u,f);if(!g)return vu(t);const T=this.applyRedirectCommands(_,u.redirectTo,C);return u.redirectTo.startsWith("/")?mm(T):this.lineralizeSegments(u,T).pipe((0,Cr.zg)(I=>this.expandSegment(e,t,o,I.concat(f.slice(E)),h,!1)))}matchSegmentAgainstRoute(e,t,o,u,f){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Je.of)(o._loadedConfig):this.configLoader.load(e.injector,o)).pipe((0,it.U)(I=>(o._loadedConfig=I,new vt(u,{})))):(0,Je.of)(new vt(u,{}));const{matched:h,consumedSegments:g,lastChild:_}=jd(t,o,u);if(!h)return vu(t);const E=u.slice(_);return this.getChildConfig(e,o,u).pipe((0,Cr.zg)(T=>{const I=T.module,N=T.routes,{segmentGroup:P,slicedSegments:j}=Bd(t,g,E,N),Q=new vt(P.segments,P.children);if(0===j.length&&Q.hasChildren())return this.expandChildren(I,N,Q).pipe((0,it.U)(Re=>new vt(g,Re)));if(0===N.length&&0===j.length)return(0,Je.of)(new vt(g,{}));const ce=kt(o)===f;return this.expandSegment(I,Q,N,j,ce?ht:f,!0).pipe((0,it.U)(we=>new vt(g.concat(we.segments),we.children)))}))}getChildConfig(e,t,o){return t.children?(0,Je.of)(new hm(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Je.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,o).pipe((0,Cr.zg)(u=>{return u?this.configLoader.load(e.injector,t).pipe((0,it.U)(f=>(t._loadedConfig=f,f))):(i=t,new _i.y(e=>e.error(Ks(`Cannot load children because the guard of the route "path: '${i.path}'" returned false`))));var i})):(0,Je.of)(new hm([],e))}runCanLoadGuards(e,t,o){const u=t.canLoad;if(!u||0===u.length)return(0,Je.of)(!0);const f=u.map(h=>{const g=e.get(h);let _;if((i=g)&&Wi(i.canLoad))_=g.canLoad(t,o);else{if(!Wi(g))throw new Error("Invalid CanLoad guard");_=g(t,o)}var i;return wi(_)});return(0,Je.of)(f).pipe(Ld(),(0,Lr.b)(h=>{if(!Xs(h))return;const g=Ks(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw g.url=h,g}),(0,it.U)(h=>!0===h))}lineralizeSegments(e,t){let o=[],u=t.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,Je.of)(o);if(u.numberOfChildren>1||!u.children[ht])return oS(e.redirectTo);u=u.children[ht]}}applyRedirectCommands(e,t,o){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,o)}applyRedirectCreatreUrlTree(e,t,o,u){const f=this.createSegmentGroup(e,t.root,o,u);return new Qs(f,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const o={};return Rn(e,(u,f)=>{if("string"==typeof u&&u.startsWith(":")){const g=u.substring(1);o[f]=t[g]}else o[f]=u}),o}createSegmentGroup(e,t,o,u){const f=this.createSegments(e,t.segments,o,u);let h={};return Rn(t.children,(g,_)=>{h[_]=this.createSegmentGroup(e,g,o,u)}),new vt(f,h)}createSegments(e,t,o,u){return t.map(f=>f.path.startsWith(":")?this.findPosParam(e,f,u):this.findOrReturn(f,o))}findPosParam(e,t,o){const u=o[t.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return u}findOrReturn(e,t){let o=0;for(const u of t){if(u.path===e.path)return t.splice(o),u;o++}return e}}function ym(i){const e={};for(const o of Object.keys(i.children)){const f=ym(i.children[o]);(f.segments.length>0||f.hasChildren())&&(e[o]=f)}return function(i){if(1===i.numberOfChildren&&i.children[ht]){const e=i.children[ht];return new vt(i.segments.concat(e.segments),e.children)}return i}(new vt(i.segments,e))}class Ib{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Hd{constructor(e,t){this.component=e,this.route=t}}function aS(i,e,t){const o=i._root;return Zn(o,e?e._root:null,t,[o.value])}function $d(i,e,t){const o=function(i){if(!i)return null;for(let e=i.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(o?o.module.injector:t).get(i)}function Zn(i,e,t,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const f=pu(e);return i.children.forEach(h=>{(function(i,e,t,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const f=i.value,h=e?e.value:null,g=t?t.getContext(i.value.outlet):null;if(h&&f.routeConfig===h.routeConfig){const _=function(i,e,t){if("function"==typeof t)return t(i,e);switch(t){case"pathParamsChange":return!Ys(i.url,e.url);case"pathParamsOrQueryParamsChange":return!Ys(i.url,e.url)||!Ei(i.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!um(i,e)||!Ei(i.queryParams,e.queryParams);case"paramsChange":default:return!um(i,e)}}(h,f,f.routeConfig.runGuardsAndResolvers);_?u.canActivateChecks.push(new Ib(o)):(f.data=h.data,f._resolvedData=h._resolvedData),Zn(i,e,f.component?g?g.children:null:t,o,u),_&&g&&g.outlet&&g.outlet.isActivated&&u.canDeactivateChecks.push(new Hd(g.outlet.component,h))}else h&&Nc(e,g,u),u.canActivateChecks.push(new Ib(o)),Zn(i,null,f.component?g?g.children:null:t,o,u)})(h,f[h.value.outlet],t,o.concat([h.value]),u),delete f[h.value.outlet]}),Rn(f,(h,g)=>Nc(h,t.getContext(g),u)),u}function Nc(i,e,t){const o=pu(i),u=i.value;Rn(o,(f,h)=>{Nc(f,u.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new Hd(u.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,u))}class _N{}function hS(i){return new _i.y(e=>e.error(i))}class bN{constructor(e,t,o,u,f,h){this.rootComponentType=e,this.config=t,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=f,this.relativeLinkResolution=h}recognize(){const e=Bd(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,ht);if(null===t)return null;const o=new Od([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ht,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new Tr(o,t),f=new fb(this.url,u);return this.inheritParamsAndData(f._root),f}inheritParamsAndData(e){const t=e.value,o=lb(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),e.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(e,t,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,o)}processChildren(e,t){const o=[];for(const f of Object.keys(t.children)){const h=t.children[f],g=yu(e,f),_=this.processSegmentGroup(g,h,f);if(null===_)return null;o.push(..._)}const u=Ob(o);return u.sort((e,t)=>e.value.outlet===ht?-1:t.value.outlet===ht?1:e.value.outlet.localeCompare(t.value.outlet)),u}processSegment(e,t,o,u){for(const f of e){const h=this.processSegmentAgainstRoute(f,t,o,u);if(null!==h)return h}return Tb(t,o,u)?[]:null}processSegmentAgainstRoute(e,t,o,u){if(e.redirectTo||!Db(e,t,o,u))return null;let f,h=[],g=[];if("**"===e.path){const N=o.length>0?du(o).parameters:{};f=new Od(o,N,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Em(e),kt(e),e.component,e,Eu(t),bm(t)+o.length,zd(e))}else{const N=jd(t,e,o);if(!N.matched)return null;h=N.consumedSegments,g=o.slice(N.lastChild),f=new Od(h,N.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Em(e),kt(e),e.component,e,Eu(t),bm(t)+h.length,zd(e))}const _=(i=e).children?i.children:i.loadChildren?i._loadedConfig.routes:[],{segmentGroup:E,slicedSegments:C}=Bd(t,h,g,_.filter(N=>void 0===N.redirectTo),this.relativeLinkResolution);var i;if(0===C.length&&E.hasChildren()){const N=this.processChildren(_,E);return null===N?null:[new Tr(f,N)]}if(0===_.length&&0===C.length)return[new Tr(f,[])];const T=kt(e)===u,I=this.processSegment(_,E,C,T?ht:u);return null===I?null:[new Tr(f,I)]}}function _m(i){const e=i.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Ob(i){const e=[],t=new Set;for(const o of i){if(!_m(o)){e.push(o);continue}const u=e.find(f=>o.value.routeConfig===f.value.routeConfig);void 0!==u?(u.children.push(...o.children),t.add(u)):e.push(o)}for(const o of t){const u=Ob(o.children);e.push(new Tr(o.value,u))}return e.filter(o=>!t.has(o))}function Eu(i){let e=i;for(;e._sourceSegment;)e=e._sourceSegment;return e}function bm(i){let e=i,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Em(i){return i.data||{}}function zd(i){return i.resolve||{}}function Wd(i){return Cn(e=>{const t=i(e);return t?(0,Wt.D)(t).pipe((0,it.U)(()=>e)):(0,Je.of)(e)})}class mS extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Tm=new y.OlP("ROUTES");class xb{constructor(e,t,o,u){this.loader=e,this.compiler=t,this.onLoadStartListener=o,this.onLoadEndListener=u}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const u=this.loadModuleFactory(t.loadChildren).pipe((0,it.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=f.create(e);return new hm(Jo(h.injector.get(Tm,void 0,y.XFs.Self|y.XFs.Optional)).map(Vd),h)}),uu(f=>{throw t._loader$=void 0,f}));return t._loader$=new su.c(u,()=>new Qo.xQ).pipe((0,cN.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Wt.D)(this.loader.load(e)):wi(e()).pipe((0,Cr.zg)(t=>t instanceof y.YKP?(0,Je.of)(t):(0,Wt.D)(this.compiler.compileModuleAsync(t))))}}class yS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Cu,this.attachRef=null}}class Cu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const o=this.getOrCreateContext(e);o.outlet=t,this.contexts.set(e,o)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new yS,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Fb{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Sm(i){throw i}function kb(i,e,t){return e.parse("/")}function Kd(i,e){return(0,Je.of)(null)}const _S={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let On=(()=>{class i{constructor(t,o,u,f,h,g,_,E){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=u,this.location=f,this.config=E,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Qo.xQ,this.errorHandler=Sm,this.malformedUriErrorHandler=kb,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Kd,afterPreactivation:Kd},this.urlHandlingStrategy=new Fb,this.routeReuseStrategy=new mS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(y.h0i),this.console=h.get(y.c2e);const I=h.get(y.R0b);this.isNgZoneEnabled=I instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(E),this.currentUrlTree=new Qs(new vt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new xb(g,_,N=>this.triggerEvent(new hc(N)),N=>this.triggerEvent(new jT(N))),this.routerState=ub(this.currentUrlTree,this.rootComponentType),this.transitions=new kr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe(Yo(u=>0!==u.id),(0,it.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),Cn(u=>{let f=!1,h=!1;return(0,Je.of)(u).pipe((0,Lr.b)(g=>{this.currentNavigation={id:g.id,initialUrl:g.currentRawUrl,extractedUrl:g.extractedUrl,trigger:g.source,extras:g.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Cn(g=>{const _=!this.navigated||g.extractedUrl.toString()!==this.browserUrlTree.toString(),E=("reload"===this.onSameUrlNavigation||_)&&this.urlHandlingStrategy.shouldProcessUrl(g.rawUrl);if(Yi(g.source)&&(this.browserUrlTree=g.rawUrl),E)return(0,Je.of)(g).pipe(Cn(C=>{const T=this.transitions.getValue();return o.next(new Y0(C.id,this.serializeUrl(C.extractedUrl),C.source,C.restoredState)),T!==this.transitions.getValue()?Hi.E:Promise.resolve(C)}),function(i,e,t,o){return Cn(u=>function(i,e,t,o,u){return new Gd(i,e,t,o,u).apply()}(i,e,t,u.extractedUrl,o).pipe((0,it.U)(f=>Object.assign(Object.assign({},u),{urlAfterRedirects:f}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Lr.b)(C=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:C.urlAfterRedirects})}),function(i,e,t,o,u){return(0,Cr.zg)(f=>function(i,e,t,o,u="emptyOnly",f="legacy"){try{const h=new bN(i,e,t,o,u,f).recognize();return null===h?hS(new _N):(0,Je.of)(h)}catch(h){return hS(h)}}(i,e,f.urlAfterRedirects,t(f.urlAfterRedirects),o,u).pipe((0,it.U)(h=>Object.assign(Object.assign({},f),{targetSnapshot:h}))))}(this.rootComponentType,this.config,C=>this.serializeUrl(C),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Lr.b)(C=>{"eager"===this.urlUpdateStrategy&&(C.extras.skipLocationChange||this.setBrowserUrl(C.urlAfterRedirects,C),this.browserUrlTree=C.urlAfterRedirects);const T=new LT(C.id,this.serializeUrl(C.extractedUrl),this.serializeUrl(C.urlAfterRedirects),C.targetSnapshot);o.next(T)}));if(_&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:T,extractedUrl:I,source:N,restoredState:P,extras:j}=g,Q=new Y0(T,this.serializeUrl(I),N,P);o.next(Q);const ce=ub(I,this.rootComponentType).snapshot;return(0,Je.of)(Object.assign(Object.assign({},g),{targetSnapshot:ce,urlAfterRedirects:I,extras:Object.assign(Object.assign({},j),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=g.rawUrl,this.browserUrlTree=g.urlAfterRedirects,g.resolve(null),Hi.E}),Wd(g=>{const{targetSnapshot:_,id:E,extractedUrl:C,rawUrl:T,extras:{skipLocationChange:I,replaceUrl:N}}=g;return this.hooks.beforePreactivation(_,{navigationId:E,appliedUrlTree:C,rawUrlTree:T,skipLocationChange:!!I,replaceUrl:!!N})}),(0,Lr.b)(g=>{const _=new VT(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(_)}),(0,it.U)(g=>Object.assign(Object.assign({},g),{guards:aS(g.targetSnapshot,g.currentSnapshot,this.rootContexts)})),function(i,e){return(0,Cr.zg)(t=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:f,canDeactivateChecks:h}}=t;return 0===h.length&&0===f.length?(0,Je.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(i,e,t,o){return(0,Wt.D)(i).pipe((0,Cr.zg)(u=>function(i,e,t,o,u){const f=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!f||0===f.length)return(0,Je.of)(!0);const h=f.map(g=>{const _=$d(g,e,u);let E;if(function(i){return i&&Wi(i.canDeactivate)}(_))E=wi(_.canDeactivate(i,e,t,o));else{if(!Wi(_))throw new Error("Invalid CanDeactivate guard");E=wi(_(i,e,t,o))}return E.pipe(Zo())});return(0,Je.of)(h).pipe(Ld())}(u.component,u.route,t,e,o)),Zo(u=>!0!==u,!0))}(h,o,u,i).pipe((0,Cr.zg)(g=>g&&function(i){return"boolean"==typeof i}(g)?function(i,e,t,o){return(0,Wt.D)(e).pipe(bo(u=>cc(function(i,e){return null!==i&&e&&e(new pc(i)),(0,Je.of)(!0)}(u.route.parent,o),function(i,e){return null!==i&&e&&e(new cu(i)),(0,Je.of)(!0)}(u.route,o),function(i,e,t){const o=e[e.length-1],f=e.slice(0,e.length-1).reverse().map(h=>function(i){const e=i.routeConfig?i.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:i,guards:e}:null}(h)).filter(h=>null!==h).map(h=>qs(()=>{const g=h.guards.map(_=>{const E=$d(_,h.node,t);let C;if(function(i){return i&&Wi(i.canActivateChild)}(E))C=wi(E.canActivateChild(o,i));else{if(!Wi(E))throw new Error("Invalid CanActivateChild guard");C=wi(E(o,i))}return C.pipe(Zo())});return(0,Je.of)(g).pipe(Ld())}));return(0,Je.of)(f).pipe(Ld())}(i,u.path,t),function(i,e,t){const o=e.routeConfig?e.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Je.of)(!0);const u=o.map(f=>qs(()=>{const h=$d(f,e,t);let g;if(function(i){return i&&Wi(i.canActivate)}(h))g=wi(h.canActivate(e,i));else{if(!Wi(h))throw new Error("Invalid CanActivate guard");g=wi(h(e,i))}return g.pipe(Zo())}));return(0,Je.of)(u).pipe(Ld())}(i,u.route,t))),Zo(u=>!0!==u,!0))}(o,f,i,e):(0,Je.of)(g)),(0,it.U)(g=>Object.assign(Object.assign({},t),{guardsResult:g})))})}(this.ngModule.injector,g=>this.triggerEvent(g)),(0,Lr.b)(g=>{if(Xs(g.guardsResult)){const E=Ks(`Redirecting to "${this.serializeUrl(g.guardsResult)}"`);throw E.url=g.guardsResult,E}const _=new UT(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot,!!g.guardsResult);this.triggerEvent(_)}),Yo(g=>!!g.guardsResult||(this.restoreHistory(g),this.cancelNavigationTransition(g,""),!1)),Wd(g=>{if(g.guards.canActivateChecks.length)return(0,Je.of)(g).pipe((0,Lr.b)(_=>{const E=new dc(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}),Cn(_=>{let E=!1;return(0,Je.of)(_).pipe(function(i,e){return(0,Cr.zg)(t=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=t;if(!u.length)return(0,Je.of)(t);let f=0;return(0,Wt.D)(u).pipe(bo(h=>function(i,e,t,o){return function(i,e,t,o){const u=Object.keys(i);if(0===u.length)return(0,Je.of)({});const f={};return(0,Wt.D)(u).pipe((0,Cr.zg)(h=>function(i,e,t,o){const u=$d(i,e,o);return wi(u.resolve?u.resolve(e,t):u(e,t))}(i[h],e,t,o).pipe((0,Lr.b)(g=>{f[h]=g}))),W0(1),(0,Cr.zg)(()=>Object.keys(f).length===u.length?(0,Je.of)(f):Hi.E))}(i._resolve,i,e,o).pipe((0,it.U)(f=>(i._resolvedData=f,i.data=Object.assign(Object.assign({},i.data),lb(i,t).resolve),null)))}(h.route,o,i,e)),(0,Lr.b)(()=>f++),W0(1),(0,Cr.zg)(h=>f===u.length?(0,Je.of)(t):Hi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Lr.b)({next:()=>E=!0,complete:()=>{E||(this.restoreHistory(_),this.cancelNavigationTransition(_,"At least one route resolver didn't emit any value."))}}))}),(0,Lr.b)(_=>{const E=new tm(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(E)}))}),Wd(g=>{const{targetSnapshot:_,id:E,extractedUrl:C,rawUrl:T,extras:{skipLocationChange:I,replaceUrl:N}}=g;return this.hooks.afterPreactivation(_,{navigationId:E,appliedUrlTree:C,rawUrlTree:T,skipLocationChange:!!I,replaceUrl:!!N})}),(0,it.U)(g=>{const _=function(i,e,t){const o=Cc(i,e._root,t?t._root:void 0);return new ab(o,e)}(this.routeReuseStrategy,g.targetSnapshot,g.currentRouterState);return Object.assign(Object.assign({},g),{targetRouterState:_})}),(0,Lr.b)(g=>{this.currentUrlTree=g.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,g.rawUrl),this.routerState=g.targetRouterState,"deferred"===this.urlUpdateStrategy&&(g.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,g),this.browserUrlTree=g.urlAfterRedirects)}),((i,e,t)=>(0,it.U)(o=>(new ZT(e,o.targetRouterState,o.currentRouterState,t).activate(i),o)))(this.rootContexts,this.routeReuseStrategy,g=>this.triggerEvent(g)),(0,Lr.b)({next(){f=!0},complete(){f=!0}}),function(i){return e=>e.lift(new Vr(i))}(()=>{if(!f&&!h){const g=`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(u),this.cancelNavigationTransition(u,g)):this.cancelNavigationTransition(u,g)}this.currentNavigation=null}),uu(g=>{if(h=!0,function(i){return i&&i[Sd]}(g)){const _=Xs(g.url);_||(this.navigated=!0,this.restoreHistory(u,!0));const E=new Z0(u.id,this.serializeUrl(u.extractedUrl),g.message);o.next(E),_?setTimeout(()=>{const C=this.urlHandlingStrategy.merge(g.url,this.rawUrlTree),T={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Yi(u.source)};this.scheduleNavigation(C,"imperative",null,T,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const _=new kT(u.id,this.serializeUrl(u.extractedUrl),g);o.next(_);try{u.resolve(this.errorHandler(g))}catch(E){u.reject(E)}}return Hi.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:u,state:f,urlTree:h}=o,g={replaceUrl:!0};if(f){const _=Object.assign({},f);delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(g.state=_)}this.scheduleNavigation(h,u,f,g)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(t){var o;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,o){if(!t)return!0;const u=o.urlTree.toString()===t.urlTree.toString();return o.transitionId!==t.transitionId||!u||!("hashchange"===o.source&&"popstate"===t.source||"popstate"===o.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Yn(t),this.config=t.map(Vd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:u,queryParams:f,fragment:h,queryParamsHandling:g,preserveFragment:_}=o,E=u||this.routerState.root,C=_?this.currentUrlTree.fragment:h;let T=null;switch(g){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),f);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=f||null}return null!==T&&(T=this.removeEmptyProps(T)),function(i,e,t,o,u){if(0===t.length)return mb(e.root,e.root,e,o,u);const f=function(i){if("string"==typeof i[0]&&1===i.length&&"/"===i[0])return new xd(!0,0,i);let e=0,t=!1;const o=i.reduce((u,f,h)=>{if("object"==typeof f&&null!=f){if(f.outlets){const g={};return Rn(f.outlets,(_,E)=>{g[E]="string"==typeof _?_.split("/"):_}),[...u,{outlets:g}]}if(f.segmentPath)return[...u,f.segmentPath]}return"string"!=typeof f?[...u,f]:0===h?(f.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&u.push(g))}),u):[...u,f]},[]);return new xd(t,e,o)}(t);if(f.toRoot())return mb(e.root,new vt([],{}),e,o,u);const h=function(i,e,t){if(i.isAbsolute)return new Sc(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const f=t.snapshot._urlSegment;return new Sc(f,f===e.root,0)}const o=Tc(i.commands[0])?0:1;return function(i,e,t){let o=i,u=e,f=t;for(;f>u;){if(f-=u,o=o.parent,!o)throw new Error("Invalid number of '../'");u=o.segments.length}return new Sc(o,!1,u-f)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+o,i.numberOfDoubleDots)}(f,e,i),g=h.processChildren?Fd(h.segmentGroup,h.index,f.commands):vb(h.segmentGroup,h.index,f.commands);return mb(h.segmentGroup,g,e,o,u)}(E,this.currentUrlTree,t,T,null!=C?C:null)}navigateByUrl(t,o={skipLocationChange:!1}){const u=Xs(t)?t:this.parseUrl(t),f=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(f,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function(i){for(let e=0;e<i.length;e++){const t=i[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,t)}return o}isActive(t,o){let u;if(u=!0===o?Object.assign({},_S):!1===o?Object.assign({},bS):o,Xs(t))return mc(this.currentUrlTree,t,u);const f=this.parseUrl(t);return mc(this.currentUrlTree,f,u)}removeEmptyProps(t){return Object.keys(t).reduce((o,u)=>{const f=t[u];return null!=f&&(o[u]=f),o},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new lu(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,u,f,h){var g,_;if(this.disposed)return Promise.resolve(!1);const E=this.getTransition(),C=Yi(o)&&E&&!Yi(E.source),N=(this.lastSuccessfulId===E.id||this.currentNavigation?E.rawUrl:E.urlAfterRedirects).toString()===t.toString();if(C&&N)return Promise.resolve(!0);let P,j,Q;h?(P=h.resolve,j=h.reject,Q=h.promise):Q=new Promise((we,Re)=>{P=we,j=Re});const ce=++this.navigationId;let _e;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),_e=u&&u.\u0275routerPageId?u.\u0275routerPageId:f.replaceUrl||f.skipLocationChange?null!==(g=this.browserPageId)&&void 0!==g?g:0:(null!==(_=this.browserPageId)&&void 0!==_?_:0)+1):_e=0,this.setTransition({id:ce,targetPageId:_e,source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:f,resolve:P,reject:j,promise:Q,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Q.catch(we=>Promise.reject(we))}setBrowserUrl(t,o){const u=this.urlSerializer.serialize(t),f=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl?this.location.replaceState(u,"",f):this.location.go(u,"",f)}restoreHistory(t,o=!1){var u,f;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===h?this.currentUrlTree===(null===(f=this.currentNavigation)||void 0===f?void 0:f.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o){const u=new Z0(t.id,this.serializeUrl(t.extractedUrl),o);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(y.DyG),y.LFG(Ad),y.LFG(Cu),y.LFG(Oe),y.LFG(y.zs3),y.LFG(y.v3s),y.LFG(y.Sil),y.LFG(void 0))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();function Yi(i){return"imperative"!==i}let ea=(()=>{class i{constructor(t,o,u){this.router=t,this.route=o,this.locationStrategy=u,this.commands=[],this.onChanges=new Qo.xQ,this.subscription=t.events.subscribe(f=>{f instanceof lu&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,o,u,f,h){if(0!==t||o||u||f||h||"string"==typeof this.target&&"_self"!=this.target)return!0;const g={skipLocationChange:Du(this.skipLocationChange),replaceUrl:Du(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,g),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Du(this.preserveFragment)})}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(On),y.Y36(gu),y.Y36(se))},i.\u0275dir=y.lG2({type:i,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,o){1&t&&y.NdJ("click",function(f){return o.onClick(f.button,f.ctrlKey,f.shiftKey,f.altKey,f.metaKey)}),2&t&&(y.Ikx("href",o.href,y.LSH),y.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[y.TTD]}),i})();function Du(i){return""===i||!!i}let Zd=(()=>{class i{constructor(t,o,u,f,h){this.parentContexts=t,this.location=o,this.resolver=u,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.name=f||ht,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(o=o||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),g=this.parentContexts.getOrCreateContext(this.name).children,_=new Vb(t,g,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,_),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(Cu),y.Y36(y.s_b),y.Y36(y._Vd),y.$8M("name"),y.Y36(y.sBO))},i.\u0275dir=y.lG2({type:i,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),i})();class Vb{constructor(e,t,o){this.route=e,this.childContexts=t,this.parent=o}get(e,t){return e===gu?this.route:e===Cu?this.childContexts:this.parent.get(e,t)}}class Im{}class Mm{preload(e,t){return(0,Je.of)(null)}}let Rc=(()=>{class i{constructor(t,o,u,f,h){this.router=t,this.injector=f,this.preloadingStrategy=h,this.loader=new xb(o,u,E=>t.triggerEvent(new hc(E)),E=>t.triggerEvent(new jT(E)))}setUpPreloading(){this.subscription=this.router.events.pipe(Yo(t=>t instanceof lu),bo(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(y.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const u=[];for(const f of o)if(f.loadChildren&&!f.canLoad&&f._loadedConfig){const h=f._loadedConfig;u.push(this.processRoutes(h.module,h.routes))}else f.loadChildren&&!f.canLoad?u.push(this.preloadConfig(t,f)):f.children&&u.push(this.processRoutes(t,f.children));return(0,Wt.D)(u).pipe((0,_o.J)(),(0,it.U)(f=>{}))}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Je.of)(o._loadedConfig):this.loader.load(t.injector,o)).pipe((0,Cr.zg)(f=>(o._loadedConfig=f,this.processRoutes(f.module,f.routes)))))}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(On),y.LFG(y.v3s),y.LFG(y.Sil),y.LFG(y.zs3),y.LFG(Im))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})(),Tu=(()=>{class i{constructor(t,o,u={}){this.router=t,this.viewportScroller=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Y0?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof lu&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof J0&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new J0(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(On),y.LFG(Pg),y.LFG(void 0))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();const wo=new y.OlP("ROUTER_CONFIGURATION"),Nm=new y.OlP("ROUTER_FORROOT_GUARD"),Oc=[Oe,{provide:Ad,useClass:tb},{provide:On,useFactory:function(i,e,t,o,u,f,h,g={},_,E){const C=new On(null,i,e,t,o,u,f,Jo(h));return _&&(C.urlHandlingStrategy=_),E&&(C.routeReuseStrategy=E),function(i,e){i.errorHandler&&(e.errorHandler=i.errorHandler),i.malformedUriErrorHandler&&(e.malformedUriErrorHandler=i.malformedUriErrorHandler),i.onSameUrlNavigation&&(e.onSameUrlNavigation=i.onSameUrlNavigation),i.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=i.paramsInheritanceStrategy),i.relativeLinkResolution&&(e.relativeLinkResolution=i.relativeLinkResolution),i.urlUpdateStrategy&&(e.urlUpdateStrategy=i.urlUpdateStrategy)}(g,C),g.enableTracing&&C.events.subscribe(T=>{var I,N;null===(I=console.group)||void 0===I||I.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(N=console.groupEnd)||void 0===N||N.call(console)}),C},deps:[Ad,Cu,Oe,y.zs3,y.v3s,y.Sil,Tm,wo,[class{},new y.FiY],[class{},new y.FiY]]},Cu,{provide:gu,useFactory:function(i){return i.routerState.root},deps:[On]},{provide:y.v3s,useClass:y.EAV},Rc,Mm,class{preload(e,t){return t().pipe(uu(()=>(0,Je.of)(null)))}},{provide:wo,useValue:{enableTracing:!1}}];function CS(){return new y.PXZ("Router",On)}let Jd=(()=>{class i{constructor(t,o){}static forRoot(t,o){return{ngModule:i,providers:[Oc,Xd(t),{provide:Nm,useFactory:Ub,deps:[[On,new y.FiY,new y.tp0]]},{provide:wo,useValue:o||{}},{provide:se,useFactory:TS,deps:[fe,[new y.tBr(Se),new y.FiY],wo]},{provide:Tu,useFactory:DS,deps:[On,Pg,wo]},{provide:Im,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Mm},{provide:y.PXZ,multi:!0,useFactory:CS},[Om,{provide:y.ip1,multi:!0,useFactory:Gb,deps:[Om]},{provide:Hb,useFactory:SS,deps:[Om]},{provide:y.tb,multi:!0,useExisting:Hb}]]}}static forChild(t){return{ngModule:i,providers:[Xd(t)]}}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(Nm,8),y.LFG(On,8))},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({}),i})();function DS(i,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Tu(i,e,t)}function TS(i,e,t={}){return t.useHash?new Qe(i,e):new De(i,e)}function Ub(i){return"guarded"}function Xd(i){return[{provide:y.deG,multi:!0,useValue:i},{provide:Tm,multi:!0,useValue:i}]}let Om=(()=>{class i{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Qo.xQ}appInitializer(){return this.injector.get(O,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const u=new Promise(g=>o=g),f=this.injector.get(On),h=this.injector.get(wo);return"disabled"===h.initialNavigation?(f.setUpLocationChangeListener(),o(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(f.hooks.afterPreactivation=()=>this.initNavigation?(0,Je.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),f.initialNavigation()):o(!0),u})}bootstrapListener(t){const o=this.injector.get(wo),u=this.injector.get(Rc),f=this.injector.get(Tu),h=this.injector.get(On),g=this.injector.get(y.z2F);t===g.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&h.initialNavigation(),u.setUpPreloading(),f.init(),h.resetRootComponentType(g.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(y.zs3))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();function Gb(i){return i.appInitializer.bind(i)}function SS(i){return i.bootstrapListener.bind(i)}const Hb=new y.OlP("Router Initializer");function Pm(i,e,t,o,u,f,h){try{var g=i[f](h),_=g.value}catch(E){return void t(E)}g.done?e(_):Promise.resolve(_).then(o,u)}function Su(i){return function(){var e=this,t=arguments;return new Promise(function(o,u){var f=i.apply(e,t);function h(_){Pm(f,o,u,h,g,"next",_)}function g(_){Pm(f,o,u,h,g,"throw",_)}h(void 0)})}}var $b=x(2329),IS=x(6682),ts=x(309),qb=x(7771),AS=x(8858);class MS extends Qo.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,o){super(),this.scheduler=o,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new NS(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,o=t?this._events:this._trimBufferThenGetEvents(),u=this.scheduler,f=o.length;let h;if(this.closed)throw new iu.N;if(this.isStopped||this.hasError?h=FT.w.EMPTY:(this.observers.push(e),h=new AS.W(this,e)),u&&e.add(e=new ts.ht(e,u)),t)for(let g=0;g<f&&!e.closed;g++)e.next(o[g]);else for(let g=0;g<f&&!e.closed;g++)e.next(o[g].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||qb.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,o=this._windowTime,u=this._events,f=u.length;let h=0;for(;h<f&&!(e-u[h].time<o);)h++;return f>t&&(h=Math.max(h,f-t)),h>0&&u.splice(0,h),u}}class NS{constructor(e,t){this.time=e,this.value=t}}function et(i,e,t){let o;return o=i&&"object"==typeof i?i:{bufferSize:i,windowTime:e,refCount:!1,scheduler:t},u=>u.lift(function({bufferSize:i=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:o}){let u,h,f=0,g=!1,_=!1;return function(C){let T;f++,!u||g?(g=!1,u=new MS(i,e,o),T=u.subscribe(this),h=C.subscribe({next(I){u.next(I)},error(I){g=!0,u.error(I)},complete(){_=!0,h=void 0,u.complete()}}),_&&(h=void 0)):T=u.subscribe(this),this.add(()=>{f--,T.unsubscribe(),T=void 0,h&&!_&&t&&0===f&&(h.unsubscribe(),h=void 0,u=void 0)})}}(o))}function xm(i,e){return e?Cn(()=>i,e):Cn(()=>i)}var Iu=x(3101),Mt=x(57);const eh=new y.OlP("angularfire2.auth.use-emulator"),th=new y.OlP("angularfire2.auth.settings"),Zi=new y.OlP("angularfire2.auth.tenant-id"),nh=new y.OlP("angularfire2.auth.langugage-code"),Fm=new y.OlP("angularfire2.auth.use-device-language"),rh=new y.OlP("angularfire.auth.persistence");let Kb=(()=>{class i{constructor(t,o,u,f,h,g,_,E,C,T){const I=new Mt.HU(f),N=(0,Mt.ss)(I),P=new Qo.xQ,j=(0,Je.of)(void 0).pipe((0,ts.QV)(I.outsideAngular),Cn(()=>f.runOutsideAngular(()=>x.e(336).then(x.bind(x,1336)))),(0,it.U)(()=>(0,Mt.on)(t,f,o)),(0,it.U)(Q=>f.runOutsideAngular(()=>{const ce=h,_e=g;return(0,Mt.sI)(`${Q.name}.auth`,"AngularFireAuth",Q,()=>{const we=f.runOutsideAngular(()=>Q.auth());if(ce&&we.useEmulator(`http://${ce.join(":")}`),_&&(we.tenantId=_),we.languageCode=E,C&&we.useDeviceLanguage(),_e)for(const[Re,Ne]of Object.entries(_e))we.settings[Re]=Ne;return T&&we.setPersistence(T),we},[ce,_,E,C,_e,T])})),et({bufferSize:1,refCount:!1}));if(Og(u))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Je.of)(null);else{j.pipe(Zo()).subscribe();const ce=j.pipe(Cn(Ne=>Ne.getRedirectResult().then(ut=>ut,()=>null)),N,et({bufferSize:1,refCount:!1})),_e=Ne=>new _i.y(ut=>({unsubscribe:f.runOutsideAngular(()=>Ne(ut))})),we=j.pipe(Cn(Ne=>_e(Ne.onAuthStateChanged.bind(Ne)))),Re=j.pipe(Cn(Ne=>_e(Ne.onIdTokenChanged.bind(Ne))));this.authState=ce.pipe(xm(we),(0,Iu.R)(I.outsideAngular),(0,ts.QV)(I.insideAngular)),this.user=ce.pipe(xm(Re),(0,Iu.R)(I.outsideAngular),(0,ts.QV)(I.insideAngular)),this.idToken=this.user.pipe(Cn(Ne=>Ne?(0,Wt.D)(Ne.getIdToken()):(0,Je.of)(null))),this.idTokenResult=this.user.pipe(Cn(Ne=>Ne?(0,Wt.D)(Ne.getIdTokenResult()):(0,Je.of)(null))),this.credential=(0,IS.T)(ce,P,this.authState.pipe(Yo(Ne=>!Ne))).pipe((0,it.U)(Ne=>(null==Ne?void 0:Ne.user)?Ne:null),(0,Iu.R)(I.outsideAngular),(0,ts.QV)(I.insideAngular))}return(0,Mt.pX)(this,j,f,{spy:{apply:(Q,ce,_e)=>{(Q.startsWith("signIn")||Q.startsWith("createUser"))&&_e.then(we=>P.next(we))}}})}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(Mt.Dh),y.LFG(Mt.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(eh,8),y.LFG(th,8),y.LFG(Zi,8),y.LFG(nh,8),y.LFG(Fm,8),y.LFG(rh,8))},i.\u0275prov=y.Yz7({factory:function(){return new i(y.LFG(Mt.Dh),y.LFG(Mt.xv,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(eh,8),y.LFG(th,8),y.LFG(Zi,8),y.LFG(nh,8),y.LFG(Fm,8),y.LFG(rh,8))},token:i,providedIn:"any"}),i})(),Qb=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({providers:[Kb]}),i})();var DN=x(3637);function Si(){return i=>i.lift(new ih)}class ih{call(e,t){return t.subscribe(new oh(e))}}class oh extends wr.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}class TN{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new RS(e,this.compare,this.keySelector))}}class RS extends wr.L{constructor(e,t,o){super(e),this.keySelector=o,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:u}=this;t=u?u(e):e}catch(u){return this.destination.error(u)}let o=!1;if(this.hasKey)try{const{compare:u}=this;o=u(this.key,t)}catch(u){return this.destination.error(u)}else this.hasKey=!0;o||(this.key=t,this.destination.next(e))}}var Yb=x(9759),M=x(4762),Tt=x(4685),Au=x(300),sh=function(i,e){return(sh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,o){t.__proto__=o}||function(t,o){for(var u in o)Object.prototype.hasOwnProperty.call(o,u)&&(t[u]=o[u])})(i,e)};function Jb(i){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&i[e],o=0;if(t)return t.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&o>=i.length&&(i=void 0),{value:i&&i[o++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Pe,Lm="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Xb=Xb||{},ot=Lm||self;function Vm(){}function eE(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function ah(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var tE="closure_uid_"+(1e9*Math.random()>>>0),IN=0;function AN(i,e,t){return i.call.apply(i.bind,arguments)}function MN(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Ht(i,e,t){return(Ht=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?AN:MN).apply(null,arguments)}function Mu(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function jn(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,u,f){for(var h=Array(arguments.length-2),g=2;g<arguments.length;g++)h[g-2]=arguments[g];return e.prototype[u].apply(o,h)}}function Co(){this.s=this.s,this.o=this.o}var nE={};Co.prototype.s=!1,Co.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function(i){return Object.prototype.hasOwnProperty.call(i,tE)&&i[tE]||(i[tE]=++IN)}(this);delete nE[i]}},Co.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var uh=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(var t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},rE=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){for(var o=i.length,u="string"==typeof i?i.split(""):i,f=0;f<o;f++)f in u&&e.call(t,u[f],f,i)};function jm(i){return Array.prototype.concat.apply([],arguments)}function Bm(i){var e=i.length;if(0<e){for(var t=Array(e),o=0;o<e;o++)t[o]=i[o];return t}return[]}function Gm(i){return/^[\s\xa0]*$/.test(i)}var cr,lh=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function lr(i,e){return-1!=i.indexOf(e)}function ch(i,e){return i<e?-1:i>e?1:0}e:{var iE=ot.navigator;if(iE){var Nu=iE.userAgent;if(Nu){cr=Nu;break e}}cr=""}function rs(i,e,t){for(var o in i)e.call(t,i[o],o,i)}function fh(i){var e={};for(var t in i)e[t]=i[t];return e}var ta="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ru(i,e){for(var t,o,u=1;u<arguments.length;u++){for(t in o=arguments[u])i[t]=o[t];for(var f=0;f<ta.length;f++)t=ta[f],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function is(i){return is[" "](i),i}is[" "]=Vm;var xc,i,oE=lr(cr,"Opera"),na=lr(cr,"Trident")||lr(cr,"MSIE"),dh=lr(cr,"Edge"),Pc=dh||na,Hm=lr(cr,"Gecko")&&!(lr(cr.toLowerCase(),"webkit")&&!lr(cr,"Edge"))&&!(lr(cr,"Trident")||lr(cr,"MSIE"))&&!lr(cr,"Edge"),hh=lr(cr.toLowerCase(),"webkit")&&!lr(cr,"Edge");function sE(){var i=ot.document;return i?i.documentMode:void 0}e:{var aE="",ph=(i=cr,Hm?/rv:([^\);]+)(\)|;)/.exec(i):dh?/Edge\/([\d\.]+)/.exec(i):na?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):hh?/WebKit\/(\S+)/.exec(i):oE?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ph&&(aE=ph?ph[1]:""),na){var gh=sE();if(null!=gh&&gh>parseFloat(aE)){xc=String(gh);break e}}xc=aE}var PS={};function uE(){return e=PS,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){for(var i=0,e=lh(String(xc)).split("."),t=lh("9").split("."),o=Math.max(e.length,t.length),u=0;0==i&&u<o;u++){var f=e[u]||"",h=t[u]||"";do{if(f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],h=/(\d*)(\D*)(.*)/.exec(h)||["","","",""],0==f[0].length&&0==h[0].length)break;i=ch(0==f[1].length?0:parseInt(f[1],10),0==h[1].length?0:parseInt(h[1],10))||ch(0==f[2].length,0==h[2].length)||ch(f[2],h[2]),f=f[3],h=h[3]}while(0==i)}return 0<=i}();var e}var Ur=ot.document&&na&&(sE()||parseInt(xc,10))||void 0,xS=function(){if(!ot.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ot.addEventListener("test",Vm,e),ot.removeEventListener("test",Vm,e)}catch(t){}return i}();function Jn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function mh(i,e){if(Jn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Hm){e:{try{is(e.nodeName);var u=!0;break e}catch(f){}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:NN[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&mh.Z.h.call(this)}}Jn.prototype.h=function(){this.defaultPrevented=!0},jn(mh,Jn);var NN={2:"touch",3:"pen",4:"mouse"};mh.prototype.h=function(){mh.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Ou="closure_listenable_"+(1e6*Math.random()|0),RN=0;function FS(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=u,this.key=++RN,this.ca=this.fa=!1}function Pu(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Fc(i){this.src=i,this.g={},this.h=0}function qm(i,e){var t=e.type;if(t in i.g){var f,o=i.g[t],u=uh(o,e);(f=0<=u)&&Array.prototype.splice.call(o,u,1),f&&(Pu(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function zm(i,e,t,o){for(var u=0;u<i.length;++u){var f=i[u];if(!f.ca&&f.listener==e&&f.capture==!!t&&f.ia==o)return u}return-1}Fc.prototype.add=function(i,e,t,o,u){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var h=zm(i,e,o,u);return-1<h?(e=i[h],t||(e.fa=!1)):((e=new FS(e,this.src,f,!!o,u)).fa=t,i.push(e)),e};var Wm="closure_lm_"+(1e6*Math.random()|0),yh={};function cE(i,e,t,o,u){if(o&&o.once)return fE(i,e,t,o,u);if(Array.isArray(e)){for(var f=0;f<e.length;f++)cE(i,e[f],t,o,u);return null}return t=Zm(t),i&&i[Ou]?i.N(e,t,ah(o)?!!o.capture:!!o,u):Km(i,e,t,!1,o,u)}function Km(i,e,t,o,u,f){if(!e)throw Error("Invalid event type");var h=ah(u)?!!u.capture:!!u,g=kc(i);if(g||(i[Wm]=g=new Fc(i)),(t=g.add(e,t,o,h,f)).proxy)return t;if(o=function(){var e=Ji;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)xS||(u=h),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(dE(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function fE(i,e,t,o,u){if(Array.isArray(e)){for(var f=0;f<e.length;f++)fE(i,e[f],t,o,u);return null}return t=Zm(t),i&&i[Ou]?i.O(e,t,ah(o)?!!o.capture:!!o,u):Km(i,e,t,!0,o,u)}function Qm(i,e,t,o,u){if(Array.isArray(e))for(var f=0;f<e.length;f++)Qm(i,e[f],t,o,u);else o=ah(o)?!!o.capture:!!o,t=Zm(t),i&&i[Ou]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=zm(f=i.g[e],t,o,u))&&(Pu(f[t]),Array.prototype.splice.call(f,t,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=kc(i))&&(e=i.g[e.toString()],i=-1,e&&(i=zm(e,t,o,u)),(t=-1<i?e[i]:null)&&vh(t))}function vh(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[Ou])qm(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(dE(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=kc(e))?(qm(t,i),0==t.h&&(t.src=null,e[Wm]=null)):Pu(i)}}}function dE(i){return i in yh?yh[i]:yh[i]="on"+i}function Ji(i,e){if(i.ca)i=!0;else{e=new mh(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&vh(i),i=t.call(o,e)}return i}function kc(i){return(i=i[Wm])instanceof Fc?i:null}var Ym="__closure_events_fn_"+(1e9*Math.random()>>>0);function Zm(i){return"function"==typeof i?i:(i[Ym]||(i[Ym]=function(e){return i.handleEvent(e)}),i[Ym])}function Bn(){Co.call(this),this.i=new Fc(this),this.P=this,this.I=null}function Pn(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Jn(e,i);else if(e instanceof Jn)e.target=e.target||i;else{var u=e;Ru(e=new Jn(o,i),u)}if(u=!0,t)for(var f=t.length-1;0<=f;f--){var h=e.g=t[f];u=_h(h,o,!0,e)&&u}if(u=_h(h=e.g=i,o,!0,e)&&u,u=_h(h,o,!1,e)&&u,t)for(f=0;f<t.length;f++)u=_h(h=e.g=t[f],o,!1,e)&&u}function _h(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,f=0;f<e.length;++f){var h=e[f];if(h&&!h.ca&&h.capture==t){var g=h.listener,_=h.ia||h.src;h.fa&&qm(i.i,h),u=!1!==g.call(_,o)&&u}}return u&&!o.defaultPrevented}jn(Bn,Co),Bn.prototype[Ou]=!0,Bn.prototype.removeEventListener=function(i,e,t,o){Qm(this,i,e,t,o)},Bn.prototype.M=function(){if(Bn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)Pu(t[o]);delete i.g[e],i.h--}}this.I=null},Bn.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Bn.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var Jm=ot.JSON.stringify;function LS(){var i=ny,e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ey,Xm=function(){function i(){this.h=this.g=null}return i.prototype.add=function(e,t){var o=hE.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o},i}(),hE=new(function(){function i(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return i.prototype.get=function(){var e;return 0<this.h?(this.h--,this.g=(e=this.g).next,e.next=null):e=this.i(),e},i}())(function(){return new VS},function(i){return i.reset()}),VS=function(){function i(){this.next=this.g=this.h=null}return i.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},i.prototype.reset=function(){this.next=this.g=this.h=null},i}();function bh(i){ot.setTimeout(function(){throw i},0)}function Lc(i,e){ey||function(){var i=ot.Promise.resolve(void 0);ey=function(){i.then(US)}}(),Vc||(ey(),Vc=!0),ny.add(i,e)}var Vc=!1,ny=new Xm;function US(){for(var i;i=LS();){try{i.h.call(i.g)}catch(t){bh(t)}var e=hE;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Vc=!1}function Eh(i,e){Bn.call(this),this.h=i||1,this.g=e||ot,this.j=Ht(this.kb,this),this.l=Date.now()}function Uc(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function pE(i,e,t){if("function"==typeof i)t&&(i=Ht(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Ht(i.handleEvent,i)}return 2147483647<Number(e)?-1:ot.setTimeout(i,e||0)}function gE(i){i.g=pE(function(){i.g=null,i.i&&(i.i=!1,gE(i))},i.j);var e=i.h;i.h=null,i.m.apply(null,e)}jn(Eh,Bn),(Pe=Eh.prototype).da=!1,Pe.S=null,Pe.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pn(this,"tick"),this.da&&(Uc(this),this.start()))}},Pe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Pe.M=function(){Eh.Z.M.call(this),Uc(this),delete this.g};var mE=function(i){function e(t,o){var u=i.call(this)||this;return u.m=t,u.j=o,u.h=null,u.i=!1,u.g=null,u}return function(i,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=i}sh(i,e),i.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}(e,i),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:gE(this)},e.prototype.M=function(){i.prototype.M.call(this),this.g&&(ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(Co);function xu(i){Co.call(this),this.h=i,this.g={}}jn(xu,Co);var ry=[];function iy(i,e,t,o){Array.isArray(t)||(t&&(ry[0]=t.toString()),t=ry);for(var u=0;u<t.length;u++){var f=cE(e,t[u],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function oy(i){rs(i.g,function(e,t){this.g.hasOwnProperty(t)&&vh(e)},i),i.g={}}function Xr(){this.g=!0}function Fu(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var f=u[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var h=1;h<u.length;h++)u[h]=""}}}return Jm(t)}catch(g){return e}}(i,t)+(o?" "+o:"")})}xu.prototype.M=function(){xu.Z.M.call(this),oy(this)},xu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xr.prototype.Aa=function(){this.g=!1},Xr.prototype.info=function(){};var os={},Lu=null;function ss(){return Lu=Lu||new Bn}function yE(i){Jn.call(this,os.Ma,i)}function ra(i){var e=ss();Pn(e,new yE(e,i))}function sy(i,e){Jn.call(this,os.STAT_EVENT,i),this.stat=e}function fr(i){var e=ss();Pn(e,new sy(e,i))}function ay(i,e){Jn.call(this,os.Na,i),this.size=e}function jc(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ot.setTimeout(function(){i()},e)}os.Ma="serverreachability",jn(yE,Jn),os.STAT_EVENT="statevent",jn(sy,Jn),os.Na="timingevent",jn(ay,Jn);var Vu={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},vE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function uy(){}function ia(){}uy.prototype.h=null;var as,Uu={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function cy(){Jn.call(this,"d")}function fy(){Jn.call(this,"c")}function Ch(){}function Bc(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new xu(this),this.P=BS,this.W=new Eh(i=Pc?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _E}function _E(){this.i=null,this.g="",this.h=!1}jn(cy,Jn),jn(fy,Jn),jn(Ch,uy),Ch.prototype.g=function(){return new XMLHttpRequest},Ch.prototype.i=function(){return{}},as=new Ch;var BS=45e3,bE={},Dh={};function Th(i,e,t){i.K=1,i.v=Rh(Xi(e)),i.s=t,i.U=!0,Nt(i,null)}function Nt(i,e){i.F=Date.now(),oa(i),i.A=Xi(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),WS(t.h,"t",o),i.C=0,t=i.l.H,i.h=new _E,i.g=Sy(i.l,t?e:null,!i.s),0<i.O&&(i.L=new mE(Ht(i.Ia,i,i.g),i.O)),iy(i.V,i.g,"readystatechange",i.gb),e=i.H?fh(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),ra(1),function(i,e,t,o,u,f){i.info(function(){if(i.g)if(f)for(var h="",g=f.split("&"),_=0;_<g.length;_++){var E=g[_].split("=");if(1<E.length){var C=E[0];E=E[1];var T=C.split("_");h=2<=T.length&&"type"==T[1]?h+(C+"=")+E+"&":h+(C+"=redacted&")}}else h=null;else h=f;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+h})}(i.j,i.u,i.A,i.m,i.X,i.s)}function Sh(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function GS(i,e,t){for(var u,o=!0;!i.I&&i.C<t.length;){if((u=Do(i,t))==Dh){4==e&&(i.o=4,fr(14),o=!1),Fu(i.j,i.m,null,"[Incomplete Response]");break}if(u==bE){i.o=4,fr(15),Fu(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Fu(i.j,i.m,u,null),Ah(i,u)}Sh(i)&&u!=Dh&&u!=bE&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,fr(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Cy(e),e.L=!0,fr(11))):(Fu(i.j,i.m,t,"[Invalid Chunked Response]"),sa(i),Gc(i))}function Do(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Dh:(t=Number(e.substring(t,o)),isNaN(t)?bE:(o+=1)+t>e.length?Dh:(e=e.substr(o,t),i.C=o+t,e))}function oa(i){i.Y=Date.now()+i.P,Ih(i,i.P)}function Ih(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=jc(Ht(i.eb,i),e)}function dy(i){i.B&&(ot.clearTimeout(i.B),i.B=null)}function Gc(i){0==i.l.G||i.I||NE(i.l,i)}function sa(i){dy(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Uc(i.W),oy(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ah(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Wc(t.i,i)))if(t.I=i.N,!i.J&&Wc(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(Q){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(t.u)t.ta=u[1],0<t.ta-t.U&&37500>u[2]&&t.N&&0==t.A&&!t.v&&(t.v=jc(Ht(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;Jc(t),Yc(t)}Uh(t),fr(18)}if(1>=yy(t.i)&&t.ka){try{t.ka()}catch(Q){}t.ka=void 0}}else ga(t,11)}else if((i.J||t.g==i)&&Jc(t),!Gm(e))for(u=t.Ca.g.parse(e),e=0;e<u.length;e++){var f=u[e];if(t.U=f[0],f=f[1],2==t.G)if("c"==f[0]){t.J=f[1],t.la=f[2];var h=f[3];null!=h&&(t.ma=h,t.h.info("VER="+t.ma));var g=f[4];null!=g&&(t.za=g,t.h.info("SVER="+t.za));var _=f[5];null!=_&&"number"==typeof _&&0<_&&(t.K=o=1.5*_,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;var E=i.g;if(E){var C=E.g?E.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(C){var T=o.i;!T.g&&(lr(C,"spdy")||lr(C,"quic")||lr(C,"h2"))&&(T.j=T.l,T.g=new Set,T.h&&(vy(T,T.h),T.h=null))}if(o.D){var I=E.g?E.g.getResponseHeader("X-HTTP-Session-Id"):null;I&&(o.sa=I,$t(o.F,o.D,I))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var N=i;if((o=t).oa=RE(o,o.H?o.la:null,o.W),N.J){Oh(o.i,N);var P=N,j=o.K;j&&P.setTimeout(j),P.B&&(dy(P),oa(P)),o.g=N}else ME(o);0<t.l.length&&Zc(t)}else"stop"!=f[0]&&"close"!=f[0]||ga(t,7);else 3==t.G&&("stop"==f[0]||"close"==f[0]?"stop"==f[0]?ga(t,7):Lh(t):"noop"!=f[0]&&t.j&&t.j.wa(f),t.A=0)}ra(4)}catch(Q){}}function Mh(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(eE(i)||"string"==typeof i)rE(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(eE(i)||"string"==typeof i){t=[];for(var o=i.length,u=0;u<o;u++)t.push(u)}else for(u in t=[],o=0,i)t[o++]=u;u=(o=function(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(eE(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i)).length;for(var f=0;f<u;f++)e.call(void 0,o[f],t&&t[f],i)}}function aa(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof aa)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function hy(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];ua(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var u={};for(t=e=0;e<i.g.length;)ua(u,o=i.g[e])||(i.g[t++]=o,u[o]=1),e++;i.g.length=t}}function ua(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(Pe=Bc.prototype).setTimeout=function(i){this.P=i},Pe.gb=function(i){i=i.target;var e=this.L;e&&3==Sr(i)?e.l():this.Ia(i)},Pe.Ia=function(i){try{if(i==this.g)e:{var e=Sr(this.g),t=this.g.Da(),o=this.g.ba();if(!(3>e)&&(3!=e||Pc||this.g&&(this.h.h||this.g.ga()||ha(this.g)))){this.I||4!=e||7==t||ra(8==t||0>=o?3:2),dy(this);var u=this.g.ba();this.N=u;t:if(Sh(this)){var f=ha(this.g);i="";var h=f.length,g=4==Sr(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){sa(this),Gc(this);var _="";break t}this.h.i=new ot.TextDecoder}for(t=0;t<h;t++)this.h.h=!0,i+=this.h.i.decode(f[t],{stream:g&&t==h-1});f.splice(0,h),this.h.g+=i,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=200==u,function(i,e,t,o,u,f,h){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+f+" "+h})}(this.j,this.u,this.A,this.m,this.X,e,u),this.i){if(this.$&&!this.J){t:{if(this.g){var E,C=this.g;if((E=C.g?C.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gm(E)){var T=E;break t}}T=null}if(!(u=T)){this.i=!1,this.o=3,fr(12),sa(this),Gc(this);break e}Fu(this.j,this.m,u,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ah(this,u)}this.U?(GS(this,e,_),Pc&&this.i&&3==e&&(iy(this.V,this.W,"tick",this.fb),this.W.start())):(Fu(this.j,this.m,_,null),Ah(this,_)),4==e&&sa(this),this.i&&!this.I&&(4==e?NE(this.l,this):(this.i=!1,oa(this)))}else 400==u&&0<_.indexOf("Unknown SID")?(this.o=3,fr(12)):(this.o=0,fr(13)),sa(this),Gc(this)}}}catch(I){}},Pe.fb=function(){if(this.g){var i=Sr(this.g),e=this.g.ga();this.C<e.length&&(dy(this),GS(this,i,e),this.i&&4!=i&&oa(this))}},Pe.cancel=function(){this.I=!0,sa(this)},Pe.eb=function(){this.B=null;var i=Date.now();0<=i-this.Y?(function(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ra(3),fr(17)),sa(this),this.o=2,Gc(this)):Ih(this,this.Y-i)},(Pe=aa.prototype).R=function(){hy(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},Pe.T=function(){return hy(this),this.g.concat()},Pe.get=function(i,e){return ua(this.h,i)?this.h[i]:e},Pe.set=function(i,e){ua(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},Pe.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var u=t[o],f=this.get(u);i.call(e,f,u,this)}};var ju=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function us(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof us){this.g=void 0!==e?e:i.g,Hc(this,i.j),this.s=i.s,$c(this,i.i),Nh(this,i.m),this.l=i.l,e=i.h;var t=new Gu;t.i=e.i,e.g&&(t.g=new aa(e.g),t.h=e.h),wE(this,t),this.o=i.o}else i&&(t=String(i).match(ju))?(this.g=!!e,Hc(this,t[1]||"",!0),this.s=Bu(t[2]||""),$c(this,t[3]||"",!0),Nh(this,t[4]),this.l=Bu(t[5]||"",!0),wE(this,t[6]||"",!0),this.o=Bu(t[7]||"")):(this.g=!!e,this.h=new Gu(null,this.g))}function Xi(i){return new us(i)}function Hc(i,e,t){i.j=t?Bu(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function $c(i,e,t){i.i=t?Bu(e,!0):e}function Nh(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function wE(i,e,t){e instanceof Gu?(i.h=e,function(i,e){e&&!i.j&&(la(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(ei(this,o),WS(this,u,t))},i)),i.j=e}(i.h,i.g)):(t||(e=qc(e,qS)),i.h=new Gu(e,i.g))}function $t(i,e,t){i.h.set(e,t)}function Rh(i){return $t(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function Bu(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function qc(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,HS),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function HS(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}us.prototype.toString=function(){var i=[],e=this.j;e&&i.push(qc(e,$S,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(qc(e,$S,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(qc(t,"/"==t.charAt(0)?gy:xN,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",qc(t,DE)),i.join("")};var $S=/[#\/\?@]/g,xN=/[#\?:]/g,gy=/[#\?]/g,qS=/[#\?@]/g,DE=/#/g;function Gu(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function la(i){i.g||(i.g=new aa,i.h=0,i.i&&function(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var f=i[t].substring(0,o);u=i[t].substring(o+1)}else f=i[t];e(f,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function ei(i,e){la(i),e=zc(i,e),ua(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,ua((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&hy(i)))}function zS(i,e){return la(i),e=zc(i,e),ua(i.g.h,e)}function WS(i,e,t){ei(i,e),0<t.length&&(i.i=null,i.g.set(zc(i,e),Bm(t)),i.h+=t.length)}function zc(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}(Pe=Gu.prototype).add=function(i,e){la(this),this.i=null,i=zc(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Pe.forEach=function(i,e){la(this),this.g.forEach(function(t,o){rE(t,function(u){i.call(e,u,o,this)},this)},this)},Pe.T=function(){la(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var u=i[o],f=0;f<u.length;f++)t.push(e[o]);return t},Pe.R=function(i){la(this);var e=[];if("string"==typeof i)zS(this,i)&&(e=jm(e,this.g.get(zc(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=jm(e,i[t])}return e},Pe.set=function(i,e){return la(this),this.i=null,zS(this,i=zc(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Pe.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},Pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],u=encodeURIComponent(String(o));o=this.R(o);for(var f=0;f<o.length;f++){var h=u;""!==o[f]&&(h+="="+encodeURIComponent(String(o[f]))),i.push(h)}}return this.i=i.join("&")};var SE=function(e,t){this.h=e,this.g=t};function my(i){this.l=i||KS,i=ot.PerformanceNavigationTiming?0<(i=ot.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ot.g&&ot.g.Ea&&ot.g.Ea()&&ot.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var KS=10;function QS(i){return!!i.h||!!i.g&&i.g.size>=i.j}function yy(i){return i.h?1:i.g?i.g.size:0}function Wc(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function vy(i,e){i.g?i.g.add(e):i.h=e}function Oh(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function IE(i){var e,t;if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){var o=i.i;try{for(var u=Jb(i.g.values()),f=u.next();!f.done;f=u.next())o=o.concat(f.value.D)}catch(g){e={error:g}}finally{try{f&&!f.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return o}return Bm(i.i)}function _y(){}function YS(){this.g=new _y}function ZS(i,e,t){var o=t||"";try{Mh(i,function(u,f){var h=u;ah(u)&&(h=Jm(u)),e.push(o+f+"="+encodeURIComponent(h))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Ph(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(f){}}function ls(i){this.l=i.$b||null,this.j=i.ib||!1}function To(i,e){Bn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=xh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}my.prototype.cancel=function(){var i,e;if(this.i=IE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var t=Jb(this.g.values()),o=t.next();!o.done;o=t.next())o.value.cancel()}catch(f){i={error:f}}finally{try{o&&!o.done&&(e=t.return)&&e.call(t)}finally{if(i)throw i.error}}this.g.clear()}},_y.prototype.stringify=function(i){return ot.JSON.stringify(i,void 0)},_y.prototype.parse=function(i){return ot.JSON.parse(i,void 0)},jn(ls,uy),ls.prototype.g=function(){return new To(this.l,this.j)},ls.prototype.i=function(i){return function(){return i}}({}),jn(To,Bn);var xh=0;function ti(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function So(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Kc(i)}function Kc(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Pe=To.prototype).open=function(i,e){if(this.readyState!=xh)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Kc(this)},Pe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ot).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,So(this)),this.readyState=xh},Pe.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Kc(this)),this.g&&(this.readyState=3,Kc(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ot.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ti(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},Pe.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?So(this):Kc(this),3==this.readyState&&ti(this)}},Pe.Ua=function(i){this.g&&(this.response=this.responseText=i,So(this))},Pe.Ta=function(i){this.g&&(this.response=i,So(this))},Pe.ha=function(){this.g&&So(this)},Pe.setRequestHeader=function(i,e){this.v.append(i,e)},Pe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Pe.getAllResponseHeaders=function(){if(!this.h)return"";for(var i=[],e=this.h.entries(),t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(To.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var XS=ot.JSON.parse;function sn(i){Bn.call(this),this.headers=new aa,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ii,this.K=this.L=!1}jn(sn,Bn);var Ii="",Qc=/^https?$/i,Xn=["POST","PUT"];function Fh(i){return"content-type"==i.toLowerCase()}function jr(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,kh(i),Io(i)}function kh(i){i.D||(i.D=!0,Pn(i,"complete"),Pn(i,"error"))}function fa(i){if(i.h&&void 0!==Xb&&(!i.C[1]||4!=Sr(i)||2!=i.ba()))if(i.v&&4==Sr(i))pE(i.Fa,0,i);else if(Pn(i,"readystatechange"),4==Sr(i)){i.h=!1;try{var o,e=i.ba();e:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}if(!(o=t)){var u;if(u=0===e){var f=String(i.H).match(ju)[1]||null;if(!f&&ot.self&&ot.self.location){var h=ot.self.location.protocol;f=h.substr(0,h.length-1)}u=!Qc.test(f?f.toLowerCase():"")}o=u}if(o)Pn(i,"complete"),Pn(i,"success");else{i.m=6;try{var g=2<Sr(i)?i.g.statusText:""}catch(_){g=""}i.j=g+" ["+i.ba()+"]",kh(i)}}finally{Io(i)}}}function Io(i,e){if(i.g){da(i);var t=i.g,o=i.C[0]?Vm:null;i.g=null,i.C=null,e||Pn(i,"ready");try{t.onreadystatechange=o}catch(u){}}}function da(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ot.clearTimeout(i.A),i.A=null)}function Sr(i){return i.g?i.g.readyState:0}function ha(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Ii:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function cs(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function(i){var e="";return rs(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):$t(i,e,t))}function eo(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function pa(i){this.za=0,this.l=[],this.h=new Xr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=eo("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=eo("baseRetryDelayMs",5e3,i),this.$a=eo("retryDelaySeedMs",1e4,i),this.Ya=eo("forwardChannelMaxRetries",2,i),this.ra=eo("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new my(i&&i.concurrentRequestLimit),this.Ca=new YS,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function Lh(i){if(by(i),3==i.G){var e=i.V++,t=Xi(i.F);$t(t,"SID",i.J),$t(t,"RID",e),$t(t,"TYPE","terminate"),$u(i,t),(e=new Bc(i,i.h,e,void 0)).K=2,e.v=Rh(Xi(t)),t=!1,ot.navigator&&ot.navigator.sendBeacon&&(t=ot.navigator.sendBeacon(e.v.toString(),"")),!t&&ot.Image&&((new Image).src=e.v,t=!0),t||(e.g=Sy(e.l,null),e.g.ea(e.v)),e.F=Date.now(),oa(e)}Ty(i)}function Yc(i){i.g&&(Cy(i),i.g.cancel(),i.g=null)}function by(i){Yc(i),i.u&&(ot.clearTimeout(i.u),i.u=null),Jc(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ot.clearTimeout(i.m),i.m=null)}function Vh(i,e){i.l.push(new SE(i.Za++,e)),3==i.G&&Zc(i)}function Zc(i){QS(i.i)||i.m||(i.m=!0,Lc(i.Ha,i),i.C=0)}function Ey(i,e){var t;t=e?e.m:i.V++;var o=Xi(i.F);$t(o,"SID",i.J),$t(o,"RID",t),$t(o,"AID",i.U),$u(i,o),i.o&&i.s&&cs(o,i.o,i.s),t=new Bc(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=wy(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),vy(i.i,t),Th(t,o,e)}function $u(i,e){i.j&&Mh({},function(t,o){$t(e,o,t)})}function wy(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Ht(i.j.Oa,i.j,i):null;e:for(var u=i.l,f=-1;;){var h=["count="+t];-1==f?0<t?h.push("ofs="+(f=u[0].h)):f=0:h.push("ofs="+f);for(var g=!0,_=0;_<t;_++){var E=u[_].h,C=u[_].g;if(0>(E-=f))f=Math.max(0,u[_].h-100),g=!1;else try{ZS(C,h,"req"+E+"_")}catch(T){o&&o(C)}}if(g){o=h.join("&");break e}}return i=i.l.splice(0,t),e.D=i,o}function ME(i){i.g||i.u||(i.Y=1,Lc(i.Ga,i),i.A=0)}function Uh(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=jc(Ht(i.Ga,i),eI(i,i.A)),i.A++,0))}function Cy(i){null!=i.B&&(ot.clearTimeout(i.B),i.B=null)}function Dy(i){i.g=new Bc(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=Xi(i.oa);$t(e,"RID","rpc"),$t(e,"SID",i.J),$t(e,"CI",i.N?"0":"1"),$t(e,"AID",i.U),$u(i,e),$t(e,"TYPE","xmlhttp"),i.o&&i.s&&cs(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=Rh(Xi(e)),t.s=null,t.U=!0,Nt(t,i)}function Jc(i){null!=i.v&&(ot.clearTimeout(i.v),i.v=null)}function NE(i,e){var t=null;if(i.g==e){Jc(i),Cy(i),i.g=null;var o=2}else{if(!Wc(i.i,e))return;t=e.D,Oh(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;Pn(o=ss(),new ay(o,t,e,u)),Zc(i)}else ME(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function(i,e){return!(yy(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=jc(Ht(i.Ha,i,e),eI(i,i.C)),i.C++,0)))}(i,e)||2==o&&Uh(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),u){case 1:ga(i,5);break;case 4:ga(i,10);break;case 3:ga(i,6);break;default:ga(i,2)}}function eI(i,e){var t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function ga(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Ht(i.jb,i);t||(t=new us("//www.google.com/images/cleardot.gif"),ot.location&&"http"==ot.location.protocol||Hc(t,"https"),Rh(t)),function(i,e){var t=new Xr;if(ot.Image){var o=new Image;o.onload=Mu(Ph,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Mu(Ph,t,o,"TestLoadImage: error",!1,e),o.onabort=Mu(Ph,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Mu(Ph,t,o,"TestLoadImage: timeout",!1,e),ot.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else fr(2);i.G=0,i.j&&i.j.va(e),Ty(i),by(i)}function Ty(i){i.G=0,i.I=-1,i.j&&((0!=IE(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Bm(i.l),i.l.length=0),i.j.ua())}function RE(i,e,t){var o=function(i){return i instanceof us?Xi(i):new us(i,void 0)}(t);if(""!=o.i)e&&$c(o,e+"."+o.i),Nh(o,o.m);else{var u=ot.location;o=function(i,e,t,o){var u=new us(null,void 0);return i&&Hc(u,i),e&&$c(u,e),t&&Nh(u,t),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,t)}return i.aa&&rs(i.aa,function(f,h){$t(o,h,f)}),t=i.sa,(e=i.D)&&t&&$t(o,e,t),$t(o,"VER",i.ma),$u(i,o),o}function Sy(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new sn(t&&i.Ba&&!i.qa?new ls({ib:!0}):i.qa)).L=i.H,e}function OE(){}function jh(){if(na&&!(10<=Number(Ur)))throw Error("Environmental error: no available transport.")}function ni(i,e){Bn.call(this),this.g=new pa(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Gm(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Gm(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new Xc(this)}function PE(i){cy.call(this);var e=i.__sm__;if(e){e:{for(var t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function Iy(){fy.call(this),this.status=1}function Xc(i){this.g=i}(Pe=sn.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():as.g(),this.C=function(i){return i.h||(i.h=i.i())}(this.u?this.u:as),this.g.onreadystatechange=Ht(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(f){return void jr(this,f)}i=t||"";var u=new aa(this.headers);o&&Mh(o,function(f,h){u.set(h,f)}),o=function(i){e:{for(var e=Fh,t=i.length,o="string"==typeof i?i.split(""):i,u=0;u<t;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),t=ot.FormData&&i instanceof ot.FormData,!(0<=uh(Xn,e))||o||t||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(f,h){this.g.setRequestHeader(h,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{da(this),0<this.B&&((this.K=function(i){return na&&uE()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ht(this.pa,this)):this.A=pE(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){jr(this,f)}},Pe.pa=function(){void 0!==Xb&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pn(this,"timeout"),this.abort(8))},Pe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,Pn(this,"complete"),Pn(this,"abort"),Io(this))},Pe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Io(this,!0)),sn.Z.M.call(this)},Pe.Fa=function(){this.s||(this.F||this.v||this.l?fa(this):this.cb())},Pe.cb=function(){fa(this)},Pe.ba=function(){try{return 2<Sr(this)?this.g.status:-1}catch(i){return-1}},Pe.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},Pe.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),XS(e)}},Pe.Da=function(){return this.m},Pe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Pe=pa.prototype).ma=8,Pe.G=1,Pe.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},Pe.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;var e=new Bc(this,this.h,i,void 0),t=this.s;if(this.P&&(t?Ru(t=fh(t),this.P):t=this.P),null===this.o&&(e.H=t),this.ja)e:{for(var o=0,u=0;u<this.l.length;u++){var f=this.l[u];if(void 0===(f="__data__"in f.g&&"string"==typeof(f=f.g.__data__)?f.length:void 0))break;if(4096<(o+=f)){o=u;break e}if(4096===o||u===this.l.length-1){o=u+1;break e}}o=1e3}else o=1e3;o=wy(this,e,o),$t(u=Xi(this.F),"RID",i),$t(u,"CVER",22),this.D&&$t(u,"X-HTTP-Session-Id",this.D),$u(this,u),this.o&&t&&cs(u,this.o,t),vy(this.i,e),this.Ra&&$t(u,"TYPE","init"),this.ja?($t(u,"$req",o),$t(u,"SID","null"),e.$=!0,Th(e,u,null)):Th(e,u,o),this.G=2}}else 3==this.G&&(i?Ey(this,i):0==this.l.length||QS(this.i)||Ey(this))},Pe.Ga=function(){if(this.u=null,Dy(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=jc(Ht(this.bb,this),i)}},Pe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,fr(10),Yc(this),Dy(this))},Pe.ab=function(){null!=this.v&&(this.v=null,Yc(this),Uh(this),fr(19))},Pe.jb=function(i){i?(this.h.info("Successfully pinged google.com"),fr(2)):(this.h.info("Failed to ping google.com"),fr(1))},(Pe=OE.prototype).xa=function(){},Pe.wa=function(){},Pe.va=function(){},Pe.ua=function(){},Pe.Oa=function(){},jh.prototype.g=function(i,e){return new ni(i,e)},jn(ni,Bn),ni.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),Lc(Ht(i.hb,i,e))),fr(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=RE(i,null,i.W),Zc(i)},ni.prototype.close=function(){Lh(this.g)},ni.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Vh(this.g,e)}else this.v?((e={}).__data__=Jm(i),Vh(this.g,e)):Vh(this.g,i)},ni.prototype.M=function(){this.g.j=null,delete this.j,Lh(this.g),delete this.g,ni.Z.M.call(this)},jn(PE,cy),jn(Iy,fy),jn(Xc,OE),Xc.prototype.xa=function(){Pn(this.g,"a")},Xc.prototype.wa=function(i){Pn(this.g,new PE(i))},Xc.prototype.va=function(i){Pn(this.g,new Iy(i))},Xc.prototype.ua=function(){Pn(this.g,"b")},jh.prototype.createWebChannel=jh.prototype.g,ni.prototype.send=ni.prototype.u,ni.prototype.open=ni.prototype.m,ni.prototype.close=ni.prototype.close,Vu.NO_ERROR=0,Vu.TIMEOUT=8,Vu.HTTP_ERROR=6,vE.COMPLETE="complete",ia.EventType=Uu,Uu.OPEN="a",Uu.CLOSE="b",Uu.ERROR="c",Uu.MESSAGE="d",Bn.prototype.listen=Bn.prototype.N,sn.prototype.listenOnce=sn.prototype.O,sn.prototype.getLastError=sn.prototype.La,sn.prototype.getLastErrorCode=sn.prototype.Da,sn.prototype.getStatus=sn.prototype.ba,sn.prototype.getResponseJson=sn.prototype.Qa,sn.prototype.getResponseText=sn.prototype.ga,sn.prototype.send=sn.prototype.ea;var Bh=Vu,rI=vE,xE=os,Ay_PROXY=10,Ay_NOPROXY=11,Gh=ls,ma=ia,FE=sn,ri=function(){function i(e,t){var o=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(u){return o.t(u)},this.i=function(u){return t.writeSequenceNumber(u)})}return i.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},i.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},i}();ri.o=-1;var te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ye=function(i){function e(t,o){var u=this;return(u=i.call(this,o)||this).code=t,u.message=o,u.name="FirebaseError",u.toString=function(){return u.name+": [code="+u.code+"]: "+u.message},u}return(0,M.ZT)(e,i),e}(Error),to=new Au.Yd("@firebase/firestore");function My(){return to.logLevel}function Ce(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(to.logLevel<=Au.in.DEBUG){var o=e.map(Ny);to.debug.apply(to,(0,M.ev)(["Firestore (8.10.0): "+i],o))}}function vn(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(to.logLevel<=Au.in.ERROR){var o=e.map(Ny);to.error.apply(to,(0,M.ev)(["Firestore (8.10.0): "+i],o))}}function qu(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(to.logLevel<=Au.in.WARN){var o=e.map(Ny);to.warn.apply(to,(0,M.ev)(["Firestore (8.10.0): "+i],o))}}function Ny(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function Le(i){void 0===i&&(i="Unexpected state");var e="FIRESTORE (8.10.0) INTERNAL ASSERTION FAILED: "+i;throw vn(e),new Error(e)}function qe(i,e){i||Le()}function Te(i,e){return i}function kE(i){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(var o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}var LE=function(){function i(){}return i.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,o="";o.length<20;)for(var u=kE(40),f=0;f<u.length;++f)o.length<20&&u[f]<t&&(o+=e.charAt(u[f]%e.length));return o},i}();function _t(i,e){return i<e?-1:i>e?1:0}function zu(i,e,t){return i.length===e.length&&i.every(function(o,u){return t(o,e[u])})}function VE(i){return i+"\0"}var Ir=function(){function i(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ye(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return i.now=function(){return i.fromMillis(Date.now())},i.fromDate=function(e){return i.fromMillis(e.getTime())},i.fromMillis=function(e){var t=Math.floor(e/1e3);return new i(t,Math.floor(1e6*(e-1e3*t)))},i.prototype.toDate=function(){return new Date(this.toMillis())},i.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},i.prototype._compareTo=function(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)},i.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},i.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},i.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},i.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},i}(),dt=function(){function i(e){this.timestamp=e}return i.fromTimestamp=function(e){return new i(e)},i.min=function(){return new i(new Ir(0,0))},i.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},i.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},i.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},i.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},i.prototype.toTimestamp=function(){return this.timestamp},i}();function UE(i){var e=0;for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function fs(i,e){for(var t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Ry(i){for(var e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}var Hh=function(){function i(e,t,o){void 0===t?t=0:t>e.length&&Le(),void 0===o?o=e.length-t:o>e.length-t&&Le(),this.segments=e,this.offset=t,this.len=o}return Object.defineProperty(i.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return 0===i.comparator(this,e)},i.prototype.child=function(e){var t=this.segments.slice(this.offset,this.limit());return e instanceof i?e.forEach(function(o){t.push(o)}):t.push(e),this.construct(t)},i.prototype.limit=function(){return this.offset+this.length},i.prototype.popFirst=function(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)},i.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},i.prototype.firstSegment=function(){return this.segments[this.offset]},i.prototype.lastSegment=function(){return this.get(this.length-1)},i.prototype.get=function(e){return this.segments[this.offset+e]},i.prototype.isEmpty=function(){return 0===this.length},i.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},i.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},i.prototype.forEach=function(e){for(var t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])},i.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},i.comparator=function(e,t){for(var o=Math.min(e.length,t.length),u=0;u<o;u++){var f=e.get(u),h=t.get(u);if(f<h)return-1;if(f>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0},i}(),St=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.construct=function(t,o,u){return new e(t,o,u)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];for(var u=[],f=0,h=t;f<h.length;f++){var g=h[f];if(g.indexOf("//")>=0)throw new ye(te.INVALID_ARGUMENT,"Invalid segment ("+g+"). Paths must not contain // in them.");u.push.apply(u,g.split("/").filter(function(_){return _.length>0}))}return new e(u)},e.emptyPath=function(){return new e([])},e}(Hh),Oy=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ai=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.construct=function(t,o,u){return new e(t,o,u)},e.isValidIdentifier=function(t){return Oy.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var o=[],u="",f=0,h=function(){if(0===u.length)throw new ye(te.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");o.push(u),u=""},g=!1;f<t.length;){var _=t[f];if("\\"===_){if(f+1===t.length)throw new ye(te.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var E=t[f+1];if("\\"!==E&&"."!==E&&"`"!==E)throw new ye(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);u+=E,f+=2}else"`"===_?(g=!g,f++):"."!==_||g?(u+=_,f++):(h(),f++)}if(h(),g)throw new ye(te.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(o)},e.emptyPath=function(){return new e([])},e}(Hh),ef=function(){function i(e){this.fields=e,e.sort(Ai.comparator)}return i.prototype.covers=function(e){for(var t=0,o=this.fields;t<o.length;t++)if(o[t].isPrefixOf(e))return!0;return!1},i.prototype.isEqual=function(e){return zu(this.fields,e.fields,function(t,o){return t.isEqual(o)})},i}(),Tn=function(){function i(e){this.binaryString=e}return i.fromBase64String=function(e){return new i(atob(e))},i.fromUint8Array=function(e){return new i(function(t){for(var o="",u=0;u<t.length;++u)o+=String.fromCharCode(t[u]);return o}(e))},i.prototype.toBase64=function(){return btoa(this.binaryString)},i.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)},i.prototype.approximateByteSize=function(){return 2*this.binaryString.length},i.prototype.compareTo=function(e){return _t(this.binaryString,e.binaryString)},i.prototype.isEqual=function(e){return this.binaryString===e.binaryString},i}();Tn.EMPTY_BYTE_STRING=new Tn("");var iI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(i){if(qe(!!i),"string"==typeof i){var e=0,t=iI.exec(i);if(qe(!!t),t[1]){var o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}var u=new Date(i);return{seconds:Math.floor(u.getTime()/1e3),nanos:e}}return{seconds:an(i.seconds),nanos:an(i.nanos)}}function an(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Wu(i){return"string"==typeof i?Tn.fromBase64String(i):Tn.fromUint8Array(i)}function tf(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function $h(i){var e=i.mapValue.fields.__previous_value__;return tf(e)?$h(e):e}function Ku(i){var e=no(i.mapValue.fields.__local_write_time__.timestampValue);return new Ir(e.seconds,e.nanos)}function Qu(i){return null==i}function qh(i){return 0===i&&1/i==-1/0}function Py(i){return"number"==typeof i&&Number.isInteger(i)&&!qh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}var Ve=function(){function i(e){this.path=e}return i.fromPath=function(e){return new i(St.fromString(e))},i.fromName=function(e){return new i(St.fromString(e).popFirst(5))},i.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},i.prototype.isEqual=function(e){return null!==e&&0===St.comparator(this.path,e.path)},i.prototype.toString=function(){return this.path.toString()},i.comparator=function(e,t){return St.comparator(e.path,t.path)},i.isDocumentKey=function(e){return e.length%2==0},i.fromSegments=function(e){return new i(new St(e.slice()))},i}();function ya(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?tf(i)?4:10:Le()}function Mi(i,e){var u,t=ya(i);if(t!==ya(e))return!1;switch(t){case 0:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Ku(i).isEqual(Ku(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;var f=no(o.timestampValue),h=no(u.timestampValue);return f.seconds===h.seconds&&f.nanos===h.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Wu(i.bytesValue).isEqual(Wu(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return an(o.geoPointValue.latitude)===an(u.geoPointValue.latitude)&&an(o.geoPointValue.longitude)===an(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return an(o.integerValue)===an(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){var f=an(o.doubleValue),h=an(u.doubleValue);return f===h?qh(f)===qh(h):isNaN(f)&&isNaN(h)}return!1}(i,e);case 9:return zu(i.arrayValue.values||[],e.arrayValue.values||[],Mi);case 10:return function(o,u){var f=o.mapValue.fields||{},h=u.mapValue.fields||{};if(UE(f)!==UE(h))return!1;for(var g in f)if(f.hasOwnProperty(g)&&(void 0===h[g]||!Mi(f[g],h[g])))return!1;return!0}(i,e);default:return Le()}}function va(i,e){return void 0!==(i.values||[]).find(function(t){return Mi(t,e)})}function _a(i,e){var u,f,h,g,t=ya(i),o=ya(e);if(t!==o)return _t(t,o);switch(t){case 0:return 0;case 1:return _t(i.booleanValue,e.booleanValue);case 2:return f=e,(h=an((u=i).integerValue||u.doubleValue))<(g=an(f.integerValue||f.doubleValue))?-1:h>g?1:h===g?0:isNaN(h)?isNaN(g)?0:-1:1;case 3:return zh(i.timestampValue,e.timestampValue);case 4:return zh(Ku(i),Ku(e));case 5:return _t(i.stringValue,e.stringValue);case 6:return function(u,f){var h=Wu(u),g=Wu(f);return h.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){for(var h=u.split("/"),g=f.split("/"),_=0;_<h.length&&_<g.length;_++){var E=_t(h[_],g[_]);if(0!==E)return E}return _t(h.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){var h=_t(an(u.latitude),an(f.latitude));return 0!==h?h:_t(an(u.longitude),an(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,f){for(var h=u.values||[],g=f.values||[],_=0;_<h.length&&_<g.length;++_){var E=_a(h[_],g[_]);if(E)return E}return _t(h.length,g.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,f){var h=u.fields||{},g=Object.keys(h),_=f.fields||{},E=Object.keys(_);g.sort(),E.sort();for(var C=0;C<g.length&&C<E.length;++C){var T=_t(g[C],E[C]);if(0!==T)return T;var I=_a(h[g[C]],_[E[C]]);if(0!==I)return I}return _t(g.length,E.length)}(i.mapValue,e.mapValue);default:throw Le()}}function zh(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return _t(i,e);var t=no(i),o=no(e),u=_t(t.seconds,o.seconds);return 0!==u?u:_t(t.nanos,o.nanos)}function nf(i){return Wh(i)}function Wh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?"time("+(u=no(i.timestampValue)).seconds+","+u.nanos+")":"stringValue"in i?i.stringValue:"bytesValue"in i?Wu(i.bytesValue).toBase64():"referenceValue"in i?Ve.fromName(i.referenceValue).toString():"geoPointValue"in i?"geo("+(e=i.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in i?function(o){for(var u="[",f=!0,h=0,g=o.values||[];h<g.length;h++)f?f=!1:u+=",",u+=Wh(g[h]);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){for(var u="{",f=!0,h=0,g=Object.keys(o.fields||{}).sort();h<g.length;h++){var _=g[h];f?f=!1:u+=",",u+=_+":"+Wh(o.fields[_])}return u+"}"}(i.mapValue):Le();var u,e}function Kh(i,e){return{referenceValue:"projects/"+i.projectId+"/databases/"+i.database+"/documents/"+e.path.canonicalString()}}function Qh(i){return!!i&&"integerValue"in i}function Yh(i){return!!i&&"arrayValue"in i}function Zh(i){return!!i&&"nullValue"in i}function xy(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Jh(i){return!!i&&"mapValue"in i}function rf(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){var e={mapValue:{fields:{}}};return fs(i.mapValue.fields,function(u,f){return e.mapValue.fields[u]=rf(f)}),e}if(i.arrayValue){for(var t={arrayValue:{values:[]}},o=0;o<(i.arrayValue.values||[]).length;++o)t.arrayValue.values[o]=rf(i.arrayValue.values[o]);return t}return Object.assign({},i)}var Br=function(){function i(e){this.value=e}return i.empty=function(){return new i({mapValue:{}})},i.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,o=0;o<e.length-1;++o)if(!Jh(t=(t.mapValue.fields||{})[e.get(o)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},i.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=rf(t)},i.prototype.setAll=function(e){var t=this,o=Ai.emptyPath(),u={},f=[];e.forEach(function(g,_){if(!o.isImmediateParentOf(_)){var E=t.getFieldsMap(o);t.applyChanges(E,u,f),u={},f=[],o=_.popLast()}g?u[_.lastSegment()]=rf(g):f.push(_.lastSegment())});var h=this.getFieldsMap(o);this.applyChanges(h,u,f)},i.prototype.delete=function(e){var t=this.field(e.popLast());Jh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},i.prototype.isEqual=function(e){return Mi(this.value,e.value)},i.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var o=0;o<e.length;++o){var u=t.mapValue.fields[e.get(o)];Jh(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields},i.prototype.applyChanges=function(e,t,o){fs(t,function(g,_){return e[g]=_});for(var u=0,f=o;u<f.length;u++)delete e[f[u]]},i.prototype.clone=function(){return new i(rf(this.value))},i}();function Xh(i){var e=[];return fs(i.fields,function(t,o){var u=new Ai([t]);if(Jh(o)){var f=Xh(o.mapValue).fields;if(0===f.length)e.push(u);else for(var h=0,g=f;h<g.length;h++)e.push(u.child(g[h]))}else e.push(u)}),new ef(e)}var Sn=function(){function i(e,t,o,u,f){this.key=e,this.documentType=t,this.version=o,this.data=u,this.documentState=f}return i.newInvalidDocument=function(e){return new i(e,0,dt.min(),Br.empty(),0)},i.newFoundDocument=function(e,t,o){return new i(e,1,t,o,0)},i.newNoDocument=function(e,t){return new i(e,2,t,Br.empty(),0)},i.newUnknownDocument=function(e,t){return new i(e,3,t,Br.empty(),2)},i.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},i.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this},i.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this},i.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},i.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(i.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),i.prototype.isValidDocument=function(){return 0!==this.documentType},i.prototype.isFoundDocument=function(){return 1===this.documentType},i.prototype.isNoDocument=function(){return 2===this.documentType},i.prototype.isUnknownDocument=function(){return 3===this.documentType},i.prototype.isEqual=function(e){return e instanceof i&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},i.prototype.clone=function(){return new i(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},i.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},i}(),jE=function(i,e,t,o,u,f,h){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===u&&(u=null),void 0===f&&(f=null),void 0===h&&(h=null),this.path=i,this.collectionGroup=e,this.orderBy=t,this.filters=o,this.limit=u,this.startAt=f,this.endAt=h,this.h=null};function Fy(i,e,t,o,u,f,h){return void 0===e&&(e=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===u&&(u=null),void 0===f&&(f=null),void 0===h&&(h=null),new jE(i,e,t,o,u,f,h)}function Yu(i){var e=Te(i);if(null===e.h){var t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(function(o){return(u=o).field.canonicalString()+u.op.toString()+nf(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(function(o){return(u=o).field.canonicalString()+u.dir;var u}).join(","),Qu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=ep(e.startAt)),e.endAt&&(t+="|ub:",t+=ep(e.endAt)),e.h=t}return e.h}function of(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(var t=0;t<i.orderBy.length;t++)if(!qE(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(var o=0;o<i.filters.length;o++)if((u=i.filters[o]).op!==(f=e.filters[o]).op||!u.field.isEqual(f.field)||!Mi(u.value,f.value))return!1;var u,f;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!ky(i.startAt,e.startAt)&&ky(i.endAt,e.endAt)}function sf(i){return Ve.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}var Ar=function(i){function e(t,o,u){var f=this;return(f=i.call(this)||this).field=t,f.op=o,f.value=u,f}return(0,M.ZT)(e,i),e.create=function(t,o,u){return t.isKeyField()?"in"===o||"not-in"===o?this.l(t,o,u):new BE(t,o,u):"array-contains"===o?new oI(t,u):"in"===o?new $E(t,u):"not-in"===o?new sI(t,u):"array-contains-any"===o?new In(t,u):new e(t,o,u)},e.l=function(t,o,u){return"in"===o?new GE(t,u):new FN(t,u)},e.prototype.matches=function(t){var o=t.data.field(this.field);return"!="===this.op?null!==o&&this.m(_a(o,this.value)):null!==o&&ya(this.value)===ya(o)&&this.m(_a(o,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Le()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),BE=function(i){function e(t,o,u){var f=this;return(f=i.call(this,t,o,u)||this).key=Ve.fromName(u.referenceValue),f}return(0,M.ZT)(e,i),e.prototype.matches=function(t){var o=Ve.comparator(t.key,this.key);return this.m(o)},e}(Ar),GE=function(i){function e(t,o){var u=this;return(u=i.call(this,t,"in",o)||this).keys=HE(0,o),u}return(0,M.ZT)(e,i),e.prototype.matches=function(t){return this.keys.some(function(o){return o.isEqual(t.key)})},e}(Ar),FN=function(i){function e(t,o){var u=this;return(u=i.call(this,t,"not-in",o)||this).keys=HE(0,o),u}return(0,M.ZT)(e,i),e.prototype.matches=function(t){return!this.keys.some(function(o){return o.isEqual(t.key)})},e}(Ar);function HE(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(function(o){return Ve.fromName(o.referenceValue)})}var oI=function(i){function e(t,o){return i.call(this,t,"array-contains",o)||this}return(0,M.ZT)(e,i),e.prototype.matches=function(t){var o=t.data.field(this.field);return Yh(o)&&va(o.arrayValue,this.value)},e}(Ar),$E=function(i){function e(t,o){return i.call(this,t,"in",o)||this}return(0,M.ZT)(e,i),e.prototype.matches=function(t){var o=t.data.field(this.field);return null!==o&&va(this.value.arrayValue,o)},e}(Ar),sI=function(i){function e(t,o){return i.call(this,t,"not-in",o)||this}return(0,M.ZT)(e,i),e.prototype.matches=function(t){if(va(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var o=t.data.field(this.field);return null!==o&&!va(this.value.arrayValue,o)},e}(Ar),In=function(i){function e(t,o){return i.call(this,t,"array-contains-any",o)||this}return(0,M.ZT)(e,i),e.prototype.matches=function(t){var o=this,u=t.data.field(this.field);return!(!Yh(u)||!u.arrayValue.values)&&u.arrayValue.values.some(function(f){return va(o.value.arrayValue,f)})},e}(Ar),Zu=function(i,e){this.position=i,this.before=e};function ep(i){return(i.before?"b":"a")+":"+i.position.map(function(e){return nf(e)}).join(",")}var Ju=function(i,e){void 0===e&&(e="asc"),this.field=i,this.dir=e};function qE(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function zE(i,e,t){for(var o=0,u=0;u<i.position.length;u++){var f=e[u],h=i.position[u];if(o=f.field.isKeyField()?Ve.comparator(Ve.fromName(h.referenceValue),t.key):_a(h,t.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return i.before?o<=0:o<0}function ky(i,e){if(null===i)return null===e;if(null===e||i.before!==e.before||i.position.length!==e.position.length)return!1;for(var t=0;t<i.position.length;t++)if(!Mi(i.position[t],e.position[t]))return!1;return!0}var ro=function(i,e,t,o,u,f,h,g){void 0===e&&(e=null),void 0===t&&(t=[]),void 0===o&&(o=[]),void 0===u&&(u=null),void 0===f&&(f="F"),void 0===h&&(h=null),void 0===g&&(g=null),this.path=i,this.collectionGroup=e,this.explicitOrderBy=t,this.filters=o,this.limit=u,this.limitType=f,this.startAt=h,this.endAt=g,this.p=null,this.T=null};function ba(i,e,t,o,u,f,h,g){return new ro(i,e,t,o,u,f,h,g)}function Xu(i){return new ro(i)}function tp(i){return!Qu(i.limit)&&"F"===i.limitType}function af(i){return!Qu(i.limit)&&"L"===i.limitType}function Ly(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function np(i){for(var e=0,t=i.filters;e<t.length;e++){var o=t[e];if(o.g())return o.field}return null}function WE(i){return null!==i.collectionGroup}function Ea(i){var e=Te(i);if(null===e.p){e.p=[];var t=np(e),o=Ly(e);if(null!==t&&null===o)t.isKeyField()||e.p.push(new Ju(t)),e.p.push(new Ju(Ai.keyField(),"asc"));else{for(var u=!1,f=0,h=e.explicitOrderBy;f<h.length;f++){var g=h[f];e.p.push(g),g.field.isKeyField()&&(u=!0)}if(!u){var _=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Ju(Ai.keyField(),_))}}}return e.p}function Mr(i){var e=Te(i);if(!e.T)if("F"===e.limitType)e.T=Fy(e.path,e.collectionGroup,Ea(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var t=[],o=0,u=Ea(e);o<u.length;o++){var f=u[o];t.push(new Ju(f.field,"desc"===f.dir?"asc":"desc"))}var g=e.endAt?new Zu(e.endAt.position,!e.endAt.before):null,_=e.startAt?new Zu(e.startAt.position,!e.startAt.before):null;e.T=Fy(e.path,e.collectionGroup,t,e.filters,e.limit,g,_)}return e.T}function Ni(i,e,t){return new ro(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function uf(i,e){return of(Mr(i),Mr(e))&&i.limitType===e.limitType}function KE(i){return Yu(Mr(i))+"|lt:"+i.limitType}function ii(i){return"Query(target="+(t=(e=Mr(i)).path.canonicalString(),null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map(function(o){return(u=o).field.canonicalString()+" "+u.op+" "+nf(u.value);var u}).join(", ")+"]"),Qu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map(function(o){return(u=o).field.canonicalString()+" ("+u.dir+")";var u}).join(", ")+"]"),e.startAt&&(t+=", startAt: "+ep(e.startAt)),e.endAt&&(t+=", endAt: "+ep(e.endAt)),"Target("+t+"); limitType=")+i.limitType+")";var e,t}function dr(i,e){return e.isFoundDocument()&&(u=(o=e).key.path,null!==(t=i).collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):Ve.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u))&&function(t,o){for(var u=0,f=t.explicitOrderBy;u<f.length;u++){var h=f[u];if(!h.field.isKeyField()&&null===o.data.field(h.field))return!1}return!0}(i,e)&&function(t,o){for(var u=0,f=t.filters;u<f.length;u++)if(!f[u].matches(o))return!1;return!0}(i,e)&&function(t,o){return!(t.startAt&&!zE(t.startAt,Ea(t),o)||t.endAt&&zE(t.endAt,Ea(t),o))}(i,e);var t,o,u}function oi(i){return function(e,t){for(var o=!1,u=0,f=Ea(i);u<f.length;u++){var h=f[u],g=QE(h,e,t);if(0!==g)return g;o=o||h.field.isKeyField()}return 0}}function QE(i,e,t){var u,h,g,_,o=i.field.isKeyField()?Ve.comparator(e.key,t.key):(h=t,g=e.data.field(u=i.field),_=h.data.field(u),null!==g&&null!==_?_a(g,_):Le());switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return Le()}}function Vy(i,e){if(i.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qh(e)?"-0":e}}function YE(i){return{integerValue:""+i}}function ZE(i,e){return Py(e)?YE(e):Vy(i,e)}var rp=function(){this._=void 0};function aI(i,e,t){return i instanceof tl?(f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:(o=t).seconds,nanos:o.nanoseconds}}}},(u=e)&&(f.fields.__previous_value__=u),{mapValue:f}):i instanceof ds?JE(i,e):i instanceof hs?jy(i,e):function(o,u){var f=el(o,u),h=XE(f)+XE(o.A);return Qh(f)&&Qh(o.A)?YE(h):Vy(o.R,h)}(i,e);var o,u,f}function Uy(i,e,t){return i instanceof ds?JE(i,e):i instanceof hs?jy(i,e):t}function el(i,e){return i instanceof Ao?Qh(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}var tl=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e}(rp),ds=function(i){function e(t){var o=this;return(o=i.call(this)||this).elements=t,o}return(0,M.ZT)(e,i),e}(rp);function JE(i,e){for(var t=By(e),o=function(h){t.some(function(g){return Mi(g,h)})||t.push(h)},u=0,f=i.elements;u<f.length;u++)o(f[u]);return{arrayValue:{values:t}}}var hs=function(i){function e(t){var o=this;return(o=i.call(this)||this).elements=t,o}return(0,M.ZT)(e,i),e}(rp);function jy(i,e){for(var t=By(e),o=function(h){t=t.filter(function(g){return!Mi(g,h)})},u=0,f=i.elements;u<f.length;u++)o(f[u]);return{arrayValue:{values:t}}}var Ao=function(i){function e(t,o){var u=this;return(u=i.call(this)||this).R=t,u.A=o,u}return(0,M.ZT)(e,i),e}(rp);function XE(i){return an(i.integerValue||i.doubleValue)}function By(i){return Yh(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}var nl=function(i,e){this.field=i,this.transform=e},Gy=function(i,e){this.version=i,this.transformResults=e},xn=function(){function i(e,t){this.updateTime=e,this.exists=t}return i.none=function(){return new i},i.exists=function(e){return new i(void 0,e)},i.updateTime=function(e){return new i(e)},Object.defineProperty(i.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},i}();function lf(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}var cf=function(){};function ew(i,e,t){var o,u,f,h,g;i instanceof rl?(u=e,f=t,h=(o=i).value.clone(),g=rw(o.fieldTransforms,u,f.transformResults),h.setAll(g),u.convertToFoundDocument(f.version,h).setHasCommittedMutations()):i instanceof ps?function(o,u,f){if(lf(o.precondition,u)){var h=rw(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(nw(o)),g.setAll(h),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()}else u.convertToUnknownDocument(f.version)}(i,e,t):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,t)}function ip(i,e,t){var u;i instanceof rl?function(o,u,f){if(lf(o.precondition,u)){var h=o.value.clone(),g=iw(o.fieldTransforms,f,u);h.setAll(g),u.convertToFoundDocument($y(u),h).setHasLocalMutations()}}(i,e,t):i instanceof ps?function(o,u,f){if(lf(o.precondition,u)){var h=iw(o.fieldTransforms,f,u),g=u.data;g.setAll(nw(o)),g.setAll(h),u.convertToFoundDocument($y(u),g).setHasLocalMutations()}}(i,e,t):lf(i.precondition,u=e)&&u.convertToNoDocument(dt.min())}function tw(i,e){for(var t=null,o=0,u=i.fieldTransforms;o<u.length;o++){var f=u[o],h=e.data.field(f.field),g=el(f.transform,h||null);null!=g&&(null==t&&(t=Br.empty()),t.set(f.field,g))}return t||null}function Hy(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&zu(t,o,function(u,f){return(h=u).field.isEqual((g=f).field)&&(E=g.transform,(_=h.transform)instanceof ds&&E instanceof ds||_ instanceof hs&&E instanceof hs?zu(_.elements,E.elements,Mi):_ instanceof Ao&&E instanceof Ao?Mi(_.A,E.A):_ instanceof tl&&E instanceof tl);var h,g,_,E})))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function $y(i){return i.isFoundDocument()?i.version:dt.min()}var rl=function(i){function e(t,o,u,f){void 0===f&&(f=[]);var h=this;return(h=i.call(this)||this).key=t,h.value=o,h.precondition=u,h.fieldTransforms=f,h.type=0,h}return(0,M.ZT)(e,i),e}(cf),ps=function(i){function e(t,o,u,f,h){void 0===h&&(h=[]);var g=this;return(g=i.call(this)||this).key=t,g.data=o,g.fieldMask=u,g.precondition=f,g.fieldTransforms=h,g.type=1,g}return(0,M.ZT)(e,i),e}(cf);function nw(i){var e=new Map;return i.fieldMask.fields.forEach(function(t){if(!t.isEmpty()){var o=i.data.field(t);e.set(t,o)}}),e}function rw(i,e,t){var o=new Map;qe(i.length===t.length);for(var u=0;u<t.length;u++){var f=i[u],h=f.transform,g=e.data.field(f.field);o.set(f.field,Uy(h,g,t[u]))}return o}function iw(i,e,t){for(var o=new Map,u=0,f=i;u<f.length;u++){var h=f[u],g=h.transform,_=t.data.field(h.field);o.set(h.field,aI(g,_,e))}return o}var _n,wt,ff=function(i){function e(t,o){var u=this;return(u=i.call(this)||this).key=t,u.precondition=o,u.type=2,u.fieldTransforms=[],u}return(0,M.ZT)(e,i),e}(cf),qy=function(i){function e(t,o){var u=this;return(u=i.call(this)||this).key=t,u.precondition=o,u.type=3,u.fieldTransforms=[],u}return(0,M.ZT)(e,i),e}(cf),uI=function(i){this.count=i};function ow(i){switch(i){case te.OK:return Le();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Le()}}function sw(i){if(void 0===i)return vn("GRPC error has no .code"),te.UNKNOWN;switch(i){case _n.OK:return te.OK;case _n.CANCELLED:return te.CANCELLED;case _n.UNKNOWN:return te.UNKNOWN;case _n.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case _n.INTERNAL:return te.INTERNAL;case _n.UNAVAILABLE:return te.UNAVAILABLE;case _n.UNAUTHENTICATED:return te.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case _n.NOT_FOUND:return te.NOT_FOUND;case _n.ALREADY_EXISTS:return te.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return te.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case _n.ABORTED:return te.ABORTED;case _n.OUT_OF_RANGE:return te.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return te.UNIMPLEMENTED;case _n.DATA_LOSS:return te.DATA_LOSS;default:return Le()}}(wt=_n||(_n={}))[wt.OK=0]="OK",wt[wt.CANCELLED=1]="CANCELLED",wt[wt.UNKNOWN=2]="UNKNOWN",wt[wt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wt[wt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wt[wt.NOT_FOUND=5]="NOT_FOUND",wt[wt.ALREADY_EXISTS=6]="ALREADY_EXISTS",wt[wt.PERMISSION_DENIED=7]="PERMISSION_DENIED",wt[wt.UNAUTHENTICATED=16]="UNAUTHENTICATED",wt[wt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wt[wt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wt[wt.ABORTED=10]="ABORTED",wt[wt.OUT_OF_RANGE=11]="OUT_OF_RANGE",wt[wt.UNIMPLEMENTED=12]="UNIMPLEMENTED",wt[wt.INTERNAL=13]="INTERNAL",wt[wt.UNAVAILABLE=14]="UNAVAILABLE",wt[wt.DATA_LOSS=15]="DATA_LOSS";var er=function(){function i(e,t){this.comparator=e,this.root=t||gs.EMPTY}return i.prototype.insert=function(e,t){return new i(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gs.BLACK,null,null))},i.prototype.remove=function(e){return new i(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gs.BLACK,null,null))},i.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null},i.prototype.indexOf=function(e){for(var t=0,o=this.root;!o.isEmpty();){var u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1},i.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(i.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),i.prototype.minKey=function(){return this.root.minKey()},i.prototype.maxKey=function(){return this.root.maxKey()},i.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},i.prototype.forEach=function(e){this.inorderTraversal(function(t,o){return e(t,o),!1})},i.prototype.toString=function(){var e=[];return this.inorderTraversal(function(t,o){return e.push(t+":"+o),!1}),"{"+e.join(", ")+"}"},i.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},i.prototype.getIterator=function(){return new op(this.root,null,this.comparator,!1)},i.prototype.getIteratorFrom=function(e){return new op(this.root,e,this.comparator,!1)},i.prototype.getReverseIterator=function(){return new op(this.root,null,this.comparator,!0)},i.prototype.getReverseIteratorFrom=function(e){return new op(this.root,e,this.comparator,!0)},i}(),op=function(){function i(e,t,o,u){this.isReverse=u,this.nodeStack=[];for(var f=1;!e.isEmpty();)if(f=t?o(e.key,t):1,u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return i.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},i.prototype.hasNext=function(){return this.nodeStack.length>0},i.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},i}(),gs=function(){function i(e,t,o,u,f){this.key=e,this.value=t,this.color=null!=o?o:i.RED,this.left=null!=u?u:i.EMPTY,this.right=null!=f?f:i.EMPTY,this.size=this.left.size+1+this.right.size}return i.prototype.copy=function(e,t,o,u,f){return new i(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=f?f:this.right)},i.prototype.isEmpty=function(){return!1},i.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},i.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},i.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},i.prototype.minKey=function(){return this.min().key},i.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},i.prototype.insert=function(e,t,o){var u=this,f=o(e,u.key);return(u=f<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===f?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o))).fixUp()},i.prototype.removeMin=function(){if(this.left.isEmpty())return i.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},i.prototype.remove=function(e,t){var o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return i.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()},i.prototype.isRed=function(){return this.color},i.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},i.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},i.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},i.prototype.rotateLeft=function(){var e=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},i.prototype.rotateRight=function(){var e=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},i.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},i.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},i.prototype.check=function(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();var e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)},i}();gs.EMPTY=null,gs.RED=!0,gs.BLACK=!1,gs.EMPTY=new(function(){function i(){this.size=0}return Object.defineProperty(i.prototype,"key",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"value",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"color",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"left",{get:function(){throw Le()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"right",{get:function(){throw Le()},enumerable:!1,configurable:!0}),i.prototype.copy=function(e,t,o,u,f){return this},i.prototype.insert=function(e,t,o){return new gs(e,t)},i.prototype.remove=function(e,t){return this},i.prototype.isEmpty=function(){return!0},i.prototype.inorderTraversal=function(e){return!1},i.prototype.reverseTraversal=function(e){return!1},i.prototype.minKey=function(){return null},i.prototype.maxKey=function(){return null},i.prototype.isRed=function(){return!1},i.prototype.checkMaxDepth=function(){return!0},i.prototype.check=function(){return 0},i}());var An=function(){function i(e){this.comparator=e,this.data=new er(this.comparator)}return i.prototype.has=function(e){return null!==this.data.get(e)},i.prototype.first=function(){return this.data.minKey()},i.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(i.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),i.prototype.indexOf=function(e){return this.data.indexOf(e)},i.prototype.forEach=function(e){this.data.inorderTraversal(function(t,o){return e(t),!1})},i.prototype.forEachInRange=function(e,t){for(var o=this.data.getIteratorFrom(e[0]);o.hasNext();){var u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}},i.prototype.forEachWhile=function(e,t){var o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return},i.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},i.prototype.getIterator=function(){return new aw(this.data.getIterator())},i.prototype.getIteratorFrom=function(e){return new aw(this.data.getIteratorFrom(e))},i.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},i.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},i.prototype.isEmpty=function(){return this.data.isEmpty()},i.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(o){t=t.add(o)}),t},i.prototype.isEqual=function(e){if(!(e instanceof i)||this.size!==e.size)return!1;for(var t=this.data.getIterator(),o=e.data.getIterator();t.hasNext();){var u=t.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0},i.prototype.toArray=function(){var e=[];return this.forEach(function(t){e.push(t)}),e},i.prototype.toString=function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"},i.prototype.copy=function(e){var t=new i(this.comparator);return t.data=e,t},i}(),aw=function(){function i(e){this.iter=e}return i.prototype.getNext=function(){return this.iter.getNext().key},i.prototype.hasNext=function(){return this.iter.hasNext()},i}(),lI=new er(Ve.comparator);function si(){return lI}var uw=new er(Ve.comparator);function sp(){return uw}var lw=new er(Ve.comparator);function zy(){return lw}var cw=new An(Ve.comparator);function Rt(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];for(var t=cw,o=0,u=i;o<u.length;o++){var f=u[o];t=t.add(f)}return t}var fw=new An(_t);function df(){return fw}var ap=function(){function i(e,t,o,u,f){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}return i.createSynthesizedRemoteEventForCurrentChange=function(e,t){var o=new Map;return o.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,t)),new i(dt.min(),o,df(),si(),Rt())},i}(),hf=function(){function i(e,t,o,u,f){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}return i.createSynthesizedTargetChangeForCurrentChange=function(e,t){return new i(Tn.EMPTY_BYTE_STRING,t,Rt(),Rt(),Rt())},i}(),pf=function(i,e,t,o){this.v=i,this.removedTargetIds=e,this.key=t,this.P=o},ms=function(i,e){this.targetId=i,this.V=e},dw=function(i,e,t,o){void 0===t&&(t=Tn.EMPTY_BYTE_STRING),void 0===o&&(o=null),this.state=i,this.targetIds=e,this.resumeToken=t,this.cause=o},hw=function(){function i(){this.S=0,this.D=up(),this.C=Tn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(i.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),i.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},i.prototype.M=function(){var e=Rt(),t=Rt(),o=Rt();return this.D.forEach(function(u,f){switch(f){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:Le()}}),new hf(this.C,this.N,e,t,o)},i.prototype.L=function(){this.k=!1,this.D=up()},i.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},i.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},i.prototype.U=function(){this.S+=1},i.prototype.K=function(){this.S-=1},i.prototype.j=function(){this.k=!0,this.N=!0},i}(),il=function(){function i(e){this.W=e,this.G=new Map,this.H=si(),this.J=cI(),this.Y=new An(_t)}return i.prototype.X=function(e){for(var t=0,o=e.v;t<o.length;t++){var u=o[t];e.P&&e.P.isFoundDocument()?this.Z(u,e.P):this.tt(u,e.key,e.P)}for(var f=0,h=e.removedTargetIds;f<h.length;f++)this.tt(u=h[f],e.key,e.P)},i.prototype.et=function(e){var t=this;this.forEachTarget(e,function(o){var u=t.nt(o);switch(e.state){case 0:t.st(o)&&u.O(e.resumeToken);break;case 1:u.K(),u.F||u.L(),u.O(e.resumeToken);break;case 2:u.K(),u.F||t.removeTarget(o);break;case 3:t.st(o)&&(u.j(),u.O(e.resumeToken));break;case 4:t.st(o)&&(t.it(o),u.O(e.resumeToken));break;default:Le()}})},i.prototype.forEachTarget=function(e,t){var o=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach(function(u,f){o.st(f)&&t(f)})},i.prototype.rt=function(e){var t=e.targetId,o=e.V.count,u=this.ot(t);if(u){var f=u.target;if(sf(f))if(0===o){var h=new Ve(f.path);this.tt(t,h,Sn.newNoDocument(h,dt.min()))}else qe(1===o);else this.ct(t)!==o&&(this.it(t),this.Y=this.Y.add(t))}},i.prototype.ut=function(e){var t=this,o=new Map;this.G.forEach(function(h,g){var _=t.ot(g);if(_){if(h.current&&sf(_.target)){var E=new Ve(_.target.path);null!==t.H.get(E)||t.at(g,E)||t.tt(g,E,Sn.newNoDocument(E,e))}h.$&&(o.set(g,h.M()),h.L())}});var u=Rt();this.J.forEach(function(h,g){var _=!0;g.forEachWhile(function(E){var C=t.ot(E);return!C||2===C.purpose||(_=!1,!1)}),_&&(u=u.add(h))});var f=new ap(e,o,this.Y,this.H,u);return this.H=si(),this.J=cI(),this.Y=new An(_t),f},i.prototype.Z=function(e,t){if(this.st(e)){var o=this.at(e,t.key)?2:0;this.nt(e).B(t.key,o),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},i.prototype.tt=function(e,t,o){if(this.st(e)){var u=this.nt(e);this.at(e,t)?u.B(t,1):u.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),o&&(this.H=this.H.insert(t,o))}},i.prototype.removeTarget=function(e){this.G.delete(e)},i.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},i.prototype.U=function(e){this.nt(e).U()},i.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new hw,this.G.set(e,t)),t},i.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new An(_t),this.J=this.J.insert(e,t)),t},i.prototype.st=function(e){var t=null!==this.ot(e);return t||Ce("WatchChangeAggregator","Detected inactive target",e),t},i.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},i.prototype.it=function(e){var t=this;this.G.set(e,new hw),this.W.getRemoteKeysForTarget(e).forEach(function(o){t.tt(e,o,null)})},i.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},i}();function cI(){return new er(Ve.comparator)}function up(){return new er(Ve.comparator)}var kN={asc:"ASCENDING",desc:"DESCENDING"},pw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gw=function(i,e){this.databaseId=i,this.I=e};function lp(i,e){return i.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ge(i,e){return i.I?e.toBase64():e.toUint8Array()}function fI(i,e){return lp(i,e.toTimestamp())}function Fn(i){return qe(!!i),dt.fromTimestamp((t=no(i),new Ir(t.seconds,t.nanos)));var t}function Wy(i,e){return(t=i,new St(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function gf(i){var e=St.fromString(i);return qe(Cw(e)),e}function mf(i,e){return Wy(i.databaseId,e.path)}function Gr(i,e){var t=gf(e);if(t.get(1)!==i.databaseId.projectId)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new ye(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new Ve(Ky(t))}function ol(i,e){return Wy(i.databaseId,e)}function Qt(i){var e=gf(i);return 4===e.length?St.emptyPath():Ky(e)}function cp(i){return new St(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ky(i){return qe(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function fp(i,e,t){return{name:mf(i,e),fields:t.value.mapValue.fields}}function mw(i,e,t){var o=Gr(i,e.name),u=Fn(e.updateTime),f=new Br({mapValue:{fields:e.fields}}),h=Sn.newFoundDocument(o,u,f);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function yf(i,e){var t,u;if(e instanceof rl)t={update:fp(i,e.key,e.value)};else if(e instanceof ff)t={delete:mf(i,e.key)};else if(e instanceof ps)t={update:fp(i,e.key,e.data),updateMask:ww(e.fieldMask)};else{if(!(e instanceof qy))return Le();t={verify:mf(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(function(o){return function(u,f){var h=f.transform;if(h instanceof tl)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ds)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof hs)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Ao)return{fieldPath:f.field.canonicalString(),increment:h.A};throw Le()}(0,o)})),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:fI(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:Le()),t}function Qy(i,e){var E,t=e.currentDocument?void 0!==(E=e.currentDocument).updateTime?xn.updateTime(Fn(E.updateTime)):void 0!==E.exists?xn.exists(E.exists):xn.none():xn.none(),o=e.updateTransforms?e.updateTransforms.map(function(E){return function(C,T){var I=null;"setToServerValue"in T?(qe("REQUEST_TIME"===T.setToServerValue),I=new tl):"appendMissingElements"in T?I=new ds(T.appendMissingElements.values||[]):"removeAllFromArray"in T?I=new hs(T.removeAllFromArray.values||[]):"increment"in T?I=new Ao(C,T.increment):Le();var j=Ai.fromServerFormat(T.fieldPath);return new nl(j,I)}(i,E)}):[];if(e.update){var u=Gr(i,e.update.name),f=new Br({mapValue:{fields:e.update.fields}});if(e.updateMask){var h=function(E){return new ef((E.fieldPaths||[]).map(function(T){return Ai.fromServerFormat(T)}))}(e.updateMask);return new ps(u,f,h,t,o)}return new rl(u,f,t,o)}if(e.delete){var g=Gr(i,e.delete);return new ff(g,t)}if(e.verify){var _=Gr(i,e.verify);return new qy(_,t)}return Le()}function Yy(i,e){return{documents:[ol(i,e.path)]}}function Zy(i,e){var t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=ol(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=ol(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);var u=function(g){if(0!==g.length){var _=g.map(function(E){return function(C){if("=="===C.op){if(xy(C.value))return{unaryFilter:{field:al(C.field),op:"IS_NAN"}};if(Zh(C.value))return{unaryFilter:{field:al(C.field),op:"IS_NULL"}}}else if("!="===C.op){if(xy(C.value))return{unaryFilter:{field:al(C.field),op:"IS_NOT_NAN"}};if(Zh(C.value))return{unaryFilter:{field:al(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:al(C.field),op:hI(C.op),value:C.value}}}(E)});return 1===_.length?_[0]:{compositeFilter:{op:"AND",filters:_}}}}(e.filters);u&&(t.structuredQuery.where=u);var f=function(g){if(0!==g.length)return g.map(function(_){return{field:al((E=_).field),direction:dI(E.dir)};var E})}(e.orderBy);f&&(t.structuredQuery.orderBy=f);var _,h=(_=e.limit,i.I||Qu(_)?_:{value:_});return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=_w(e.startAt)),e.endAt&&(t.structuredQuery.endAt=_w(e.endAt)),t}function yw(i){var e=Qt(i.parent),t=i.structuredQuery,o=t.from?t.from.length:0,u=null;if(o>0){qe(1===o);var f=t.from[0];f.allDescendants?u=f.collectionId:e=e.child(f.collectionId)}var h=[];t.where&&(h=vw(t.where));var g=[];t.orderBy&&(g=t.orderBy.map(function(T){return new Ju(Mo((I=T).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));var T,I,_=null;t.limit&&(_=Qu(I="object"==typeof(T=t.limit)?T.value:T)?null:I);var E=null;t.startAt&&(E=sl(t.startAt));var C=null;return t.endAt&&(C=sl(t.endAt)),ba(e,u,g,h,_,"F",E,C)}function vw(i){return i?void 0!==i.unaryFilter?[Ew(i)]:void 0!==i.fieldFilter?[bw(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(function(e){return vw(e)}).reduce(function(e,t){return e.concat(t)}):Le():[]}function _w(i){return{before:i.before,values:i.position}}function sl(i){return new Zu(i.values||[],!!i.before)}function dI(i){return kN[i]}function hI(i){return pw[i]}function al(i){return{fieldPath:i.canonicalString()}}function Mo(i){return Ai.fromServerFormat(i.fieldPath)}function bw(i){return Ar.create(Mo(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Le()}}(i.fieldFilter.op),i.fieldFilter.value)}function Ew(i){switch(i.unaryFilter.op){case"IS_NAN":var e=Mo(i.unaryFilter.field);return Ar.create(e,"==",{doubleValue:NaN});case"IS_NULL":var t=Mo(i.unaryFilter.field);return Ar.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var o=Mo(i.unaryFilter.field);return Ar.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var u=Mo(i.unaryFilter.field);return Ar.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Le()}}function ww(i){var e=[];return i.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function Cw(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function hr(i){for(var e="",t=0;t<i.length;t++)e.length>0&&(e=Dw(e)),e=vf(i.get(t),e);return Dw(e)}function vf(i,e){for(var t=e,o=i.length,u=0;u<o;u++){var f=i.charAt(u);switch(f){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=f}}return t}function Dw(i){return i+"\x01\x01"}function No(i){var e=i.length;if(qe(e>=2),2===e)return qe("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),St.emptyPath();for(var t=e-2,o=[],u="",f=0;f<e;){var h=i.indexOf("\x01",f);switch((h<0||h>t)&&Le(),i.charAt(h+1)){case"\x01":var g=i.substring(f,h),_=void 0;0===u.length?_=g:(_=u+=g,u=""),o.push(_);break;case"\x10":u+=i.substring(f,h),u+="\0";break;case"\x11":u+=i.substring(f,h+1);break;default:Le()}f=h+2}return new St(o)}var pI=function(i,e){this.seconds=i,this.nanoseconds=e},Nr=function(i,e,t){this.ownerId=i,this.allowTabSynchronization=e,this.leaseTimestampMs=t};Nr.store="owner",Nr.key="owner";var Ro=function(i,e,t){this.userId=i,this.lastAcknowledgedBatchId=e,this.lastStreamToken=t};Ro.store="mutationQueues",Ro.keyPath="userId";var Vt=function(i,e,t,o,u){this.userId=i,this.batchId=e,this.localWriteTimeMs=t,this.baseMutations=o,this.mutations=u};Vt.store="mutations",Vt.keyPath="batchId",Vt.userMutationsIndex="userMutationsIndex",Vt.userMutationsKeyPath=["userId","batchId"];var tr=function(){function i(){}return i.prefixForUser=function(e){return[e]},i.prefixForPath=function(e,t){return[e,hr(t)]},i.key=function(e,t,o){return[e,hr(t),o]},i}();tr.store="documentMutations",tr.PLACEHOLDER=new tr;var Tw=function(i,e){this.path=i,this.readTime=e},gI=function(i,e){this.path=i,this.version=e},un=function(i,e,t,o,u,f){this.unknownDocument=i,this.noDocument=e,this.document=t,this.hasCommittedMutations=o,this.readTime=u,this.parentPath=f};un.store="remoteDocuments",un.readTimeIndex="readTimeIndex",un.readTimeIndexPath="readTime",un.collectionReadTimeIndex="collectionReadTimeIndex",un.collectionReadTimeIndexPath=["parentPath","readTime"];var Oo=function(i){this.byteSize=i};Oo.store="remoteDocumentGlobal",Oo.key="remoteDocumentGlobalKey";var Hr=function(i,e,t,o,u,f,h){this.targetId=i,this.canonicalId=e,this.readTime=t,this.resumeToken=o,this.lastListenSequenceNumber=u,this.lastLimboFreeSnapshotVersion=f,this.query=h};Hr.store="targets",Hr.keyPath="targetId",Hr.queryTargetsIndexName="queryTargetsIndex",Hr.queryTargetsKeyPath=["canonicalId","targetId"];var nr=function(i,e,t){this.targetId=i,this.path=e,this.sequenceNumber=t};nr.store="targetDocuments",nr.keyPath=["targetId","path"],nr.documentTargetsIndex="documentTargetsIndex",nr.documentTargetsKeyPath=["path","targetId"];var ai=function(i,e,t,o){this.highestTargetId=i,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=t,this.targetCount=o};ai.key="targetGlobalKey",ai.store="targetGlobal";var ys=function(i,e){this.collectionId=i,this.parent=e};ys.store="collectionParents",ys.keyPath=["collectionId","parent"];var ui=function(i,e,t,o){this.clientId=i,this.updateTimeMs=e,this.networkEnabled=t,this.inForeground=o};ui.store="clientMetadata",ui.keyPath="clientId";var ul=function(i,e,t){this.bundleId=i,this.createTime=e,this.version=t};ul.store="bundles",ul.keyPath="bundleId";var ll=function(i,e,t){this.name=i,this.readTime=e,this.bundledQuery=t};ll.store="namedQueries",ll.keyPath="name";var Sw=(0,M.ev)((0,M.ev)([],(0,M.ev)((0,M.ev)([],(0,M.ev)((0,M.ev)([],(0,M.ev)((0,M.ev)([],[Ro.store,Vt.store,tr.store,un.store,Hr.store,Nr.store,ai.store,nr.store]),[ui.store])),[Oo.store])),[ys.store])),[ul.store,ll.store]),cl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Iw=function(){function i(){this.onCommittedListeners=[]}return i.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},i.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(e){return e()})},i}(),rr=function(){var i=this;this.promise=new Promise(function(e,t){i.resolve=e,i.reject=t})},Ee=function(){function i(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(function(o){t.isDone=!0,t.result=o,t.nextCallback&&t.nextCallback(o)},function(o){t.isDone=!0,t.error=o,t.catchCallback&&t.catchCallback(o)})}return i.prototype.catch=function(e){return this.next(void 0,e)},i.prototype.next=function(e,t){var o=this;return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new i(function(u,f){o.nextCallback=function(h){o.wrapSuccess(e,h).next(u,f)},o.catchCallback=function(h){o.wrapFailure(t,h).next(u,f)}})},i.prototype.toPromise=function(){var e=this;return new Promise(function(t,o){e.next(t,o)})},i.prototype.wrapUserFunction=function(e){try{var t=e();return t instanceof i?t:i.resolve(t)}catch(o){return i.reject(o)}},i.prototype.wrapSuccess=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):i.resolve(t)},i.prototype.wrapFailure=function(e,t){return e?this.wrapUserFunction(function(){return e(t)}):i.reject(t)},i.resolve=function(e){return new i(function(t,o){t(e)})},i.reject=function(e){return new i(function(t,o){o(e)})},i.waitFor=function(e){return new i(function(t,o){var u=0,f=0,h=!1;e.forEach(function(g){++u,g.next(function(){++f,h&&f===u&&t()},function(_){return o(_)})}),h=!0,f===u&&t()})},i.or=function(e){for(var t=i.resolve(!1),o=function(h){t=t.next(function(g){return g?i.resolve(g):h()})},u=0,f=e;u<f.length;u++)o(f[u]);return t},i.forEach=function(e,t){var o=this,u=[];return e.forEach(function(f,h){u.push(t.call(o,f,h))}),this.waitFor(u)},i}(),Aw=function(){function i(e,t){var o=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new rr,this.transaction.oncomplete=function(){o.ft.resolve()},this.transaction.onabort=function(){t.error?o.ft.reject(new _f(e,t.error)):o.ft.resolve()},this.transaction.onerror=function(u){var f=Xy(u.target.error);o.ft.reject(new _f(e,f))}}return i.open=function(e,t,o,u){try{return new i(t,e.transaction(u,o))}catch(f){throw new _f(t,f)}},Object.defineProperty(i.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),i.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(Ce("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},i.prototype.store=function(e){var t=this.transaction.objectStore(e);return new dl(t)},i}(),fl=function(){function i(e,t,o){this.name=e,this.version=t,this.wt=o,12.2===i._t((0,Tt.z$)())&&vn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return i.delete=function(e){return Ce("SimpleDb","Removing database:",e),Ca(window.indexedDB.deleteDatabase(e)).toPromise()},i.yt=function(){if("undefined"==typeof indexedDB)return!1;if(i.gt())return!0;var e=(0,Tt.z$)(),t=i._t(e),o=0<t&&t<10,u=i.Et(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)},i.gt=function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Tt)},i.It=function(e,t){return e.store(t)},i._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)},i.Et=function(e){var t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)},i.prototype.At=function(e){return(0,M.mG)(this,void 0,void 0,function(){var t,o=this;return(0,M.Jh)(this,function(u){switch(u.label){case 0:return this.db?[3,2]:(Ce("SimpleDb","Opening database:",this.name),t=this,[4,new Promise(function(f,h){var g=indexedDB.open(o.name,o.version);g.onsuccess=function(_){f(_.target.result)},g.onblocked=function(){h(new _f(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=function(_){var E=_.target.error;h("VersionError"===E.name?new ye(te.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new _f(e,E))},g.onupgradeneeded=function(_){Ce("SimpleDb",'Database "'+o.name+'" requires upgrade from version:',_.oldVersion),o.wt.Rt(_.target.result,g.transaction,_.oldVersion,o.version).next(function(){Ce("SimpleDb","Database upgrade to version "+o.version+" complete")})}})]);case 1:t.db=u.sent(),u.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(f){return o.bt(f)}),this.db)]}})})},i.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},i.prototype.runTransaction=function(e,t,o,u){return(0,M.mG)(this,void 0,void 0,function(){var f,h,g,_,E;return(0,M.Jh)(this,function(C){switch(C.label){case 0:f="readonly"===t,h=0,g=function(){var T,I,N,P,j;return(0,M.Jh)(this,function(Q){switch(Q.label){case 0:++h,Q.label=1;case 1:return Q.trys.push([1,4,,5]),[4,_.At(e)];case 2:return _.db=Q.sent(),T=Aw.open(_.db,e,f?"readonly":"readwrite",o),I=u(T).catch(function(ce){return T.abort(ce),Ee.reject(ce)}).toPromise(),N={},I.catch(function(){}),[4,T.dt];case 3:return[2,(N.value=(Q.sent(),I),N)];case 4:return Ce("SimpleDb","Transaction failed with error:",(P=Q.sent()).message,"Retrying:",j="FirebaseError"!==P.name&&h<3),_.close(),j?[3,5]:[2,{value:Promise.reject(P)}];case 5:return[2]}})},_=this,C.label=1;case 1:return[5,g()];case 2:if("object"==typeof(E=C.sent()))return[2,E.value];C.label=3;case 3:return[3,1];case 4:return[2]}})})},i.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},i}(),Mw=function(){function i(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(i.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),i.prototype.done=function(){this.Vt=!0},i.prototype.Ct=function(e){this.St=e},i.prototype.delete=function(){return Ca(this.Pt.delete())},i}(),_f=function(i){function e(t,o){var u=this;return(u=i.call(this,te.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+o)||this).name="IndexedDbTransactionError",u}return(0,M.ZT)(e,i),e}(ye);function wa(i){return"IndexedDbTransactionError"===i.name}var dl=function(){function i(e){this.store=e}return i.prototype.put=function(e,t){var o;return void 0!==t?(Ce("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(Ce("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ca(o)},i.prototype.add=function(e){return Ce("SimpleDb","ADD",this.store.name,e,e),Ca(this.store.add(e))},i.prototype.get=function(e){var t=this;return Ca(this.store.get(e)).next(function(o){return void 0===o&&(o=null),Ce("SimpleDb","GET",t.store.name,e,o),o})},i.prototype.delete=function(e){return Ce("SimpleDb","DELETE",this.store.name,e),Ca(this.store.delete(e))},i.prototype.count=function(){return Ce("SimpleDb","COUNT",this.store.name),Ca(this.store.count())},i.prototype.Nt=function(e,t){var o=this.cursor(this.options(e,t)),u=[];return this.xt(o,function(f,h){u.push(h)}).next(function(){return u})},i.prototype.kt=function(e,t){Ce("SimpleDb","DELETE ALL",this.store.name);var o=this.options(e,t);o.Ft=!1;var u=this.cursor(o);return this.xt(u,function(f,h,g){return g.delete()})},i.prototype.$t=function(e,t){var o;t?o=e:(o={},t=e);var u=this.cursor(o);return this.xt(u,t)},i.prototype.Ot=function(e){var t=this.cursor({});return new Ee(function(o,u){t.onerror=function(f){var h=Xy(f.target.error);u(h)},t.onsuccess=function(f){var h=f.target.result;h?e(h.primaryKey,h.value).next(function(g){g?h.continue():o()}):o()}})},i.prototype.xt=function(e,t){var o=[];return new Ee(function(u,f){e.onerror=function(h){f(h.target.error)},e.onsuccess=function(h){var g=h.target.result;if(g){var _=new Mw(g),E=t(g.primaryKey,g.value,_);if(E instanceof Ee){var C=E.catch(function(T){return _.done(),Ee.reject(T)});o.push(C)}_.isDone?u():null===_.Dt?g.continue():g.continue(_.Dt)}else u()}}).next(function(){return Ee.waitFor(o)})},i.prototype.options=function(e,t){var o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}},i.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var o=this.store.index(e.index);return e.Ft?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},i}();function Ca(i){return new Ee(function(e,t){i.onsuccess=function(o){e(o.target.result)},i.onerror=function(o){var u=Xy(o.target.error);t(u)}})}var Jy=!1;function Xy(i){var e=fl._t((0,Tt.z$)());if(e>=12.2&&e<13){var t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){var o=new ye("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+t+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Jy||(Jy=!0,setTimeout(function(){throw o},0)),o}}return i}var ev=function(i){function e(t,o){var u=this;return(u=i.call(this)||this).Mt=t,u.currentSequenceNumber=o,u}return(0,M.ZT)(e,i),e}(Iw);function Rr(i,e){var t=Te(i);return fl.It(t.Mt,e)}var dp=function(){function i(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}return i.prototype.applyToRemoteDocument=function(e,t){for(var o=t.mutationResults,u=0;u<this.mutations.length;u++){var f=this.mutations[u];f.key.isEqual(e.key)&&ew(f,e,o[u])}},i.prototype.applyToLocalView=function(e){for(var t=0,o=this.baseMutations;t<o.length;t++)(h=o[t]).key.isEqual(e.key)&&ip(h,e,this.localWriteTime);for(var u=0,f=this.mutations;u<f.length;u++){var h;(h=f[u]).key.isEqual(e.key)&&ip(h,e,this.localWriteTime)}},i.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach(function(o){var u=e.get(o.key),f=u;t.applyToLocalView(f),u.isValidDocument()||f.convertToNoDocument(dt.min())})},i.prototype.keys=function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},Rt())},i.prototype.isEqual=function(e){return this.batchId===e.batchId&&zu(this.mutations,e.mutations,function(t,o){return Hy(t,o)})&&zu(this.baseMutations,e.baseMutations,function(t,o){return Hy(t,o)})},i}(),mI=function(){function i(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}return i.from=function(e,t,o){qe(e.mutations.length===o.length);for(var u=zy(),f=e.mutations,h=0;h<f.length;h++)u=u.insert(f[h].key,o[h].version);return new i(e,t,o,u)},i}(),hl=function(){function i(e,t,o,u,f,h,g){void 0===f&&(f=dt.min()),void 0===h&&(h=dt.min()),void 0===g&&(g=Tn.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=g}return i.prototype.withSequenceNumber=function(e){return new i(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},i.prototype.withResumeToken=function(e,t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)},i.prototype.withLastLimboFreeSnapshotVersion=function(e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},i}(),Nw=function(i){this.Lt=i};function hp(i,e){if(e.document)return mw(i.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var t=Ve.fromSegments(e.noDocument.path),o=vs(e.noDocument.readTime),u=Sn.newNoDocument(t,o);return e.hasCommittedMutations?u.setHasCommittedMutations():u}if(e.unknownDocument){var f=Ve.fromSegments(e.unknownDocument.path);return o=vs(e.unknownDocument.version),Sn.newUnknownDocument(f,o)}return Le()}function tv(i,e,t){var T,I,o=nv(t),u=e.key.path.popLast().toArray();if(e.isFoundDocument()){var f={name:mf(T=i.Lt,(I=e).key),fields:I.data.value.mapValue.fields,updateTime:lp(T,I.version.toTimestamp())},h=e.hasCommittedMutations;return new un(null,null,f,h,o,u)}if(e.isNoDocument()){var g=e.key.path.toArray(),_=pl(e.version);return h=e.hasCommittedMutations,new un(null,new Tw(g,_),null,h,o,u)}if(e.isUnknownDocument()){var E=e.key.path.toArray(),C=pl(e.version);return new un(new gI(E,C),null,null,!0,o,u)}return Le()}function nv(i){var e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function Rw(i){var e=new Ir(i[0],i[1]);return dt.fromTimestamp(e)}function pl(i){var e=i.toTimestamp();return new pI(e.seconds,e.nanoseconds)}function vs(i){var e=new Ir(i.seconds,i.nanoseconds);return dt.fromTimestamp(e)}function gl(i,e){for(var t=(e.baseMutations||[]).map(function(_){return Qy(i.Lt,_)}),o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);var h=e.mutations.map(function(_){return Qy(i.Lt,_)}),g=Ir.fromMillis(e.localWriteTimeMs);return new dp(e.batchId,g,t,h)}function ml(i){var e,t,o=vs(i.readTime),u=void 0!==i.lastLimboFreeSnapshotVersion?vs(i.lastLimboFreeSnapshotVersion):dt.min();return void 0!==i.query.documents?(qe(1===(t=i.query).documents.length),e=Mr(Xu(Qt(t.documents[0])))):e=Mr(yw(i.query)),new hl(e,i.targetId,0,i.lastListenSequenceNumber,o,u,Tn.fromBase64String(i.resumeToken))}function Ow(i,e){var t,o=pl(e.snapshotVersion),u=pl(e.lastLimboFreeSnapshotVersion);t=sf(e.target)?Yy(i.Lt,e.target):Zy(i.Lt,e.target);var f=e.resumeToken.toBase64();return new Hr(e.targetId,Yu(e.target),o,f,e.sequenceNumber,u,t)}function rv(i){var e=yw({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?Ni(e,e.limit,"L"):e}var yI=function(){function i(){}return i.prototype.getBundleMetadata=function(e,t){return Pw(e).get(t).next(function(o){if(o)return{id:(u=o).bundleId,createTime:vs(u.createTime),version:u.version};var u})},i.prototype.saveBundleMetadata=function(e,t){return Pw(e).put({bundleId:(o=t).id,createTime:pl(Fn(o.createTime)),version:o.version});var o},i.prototype.getNamedQuery=function(e,t){return xw(e).get(t).next(function(o){if(o)return{name:(u=o).name,query:rv(u.bundledQuery),readTime:vs(u.readTime)};var u})},i.prototype.saveNamedQuery=function(e,t){return xw(e).put({name:(o=t).name,readTime:pl(Fn(o.readTime)),bundledQuery:o.bundledQuery});var o},i}();function Pw(i){return Rr(i,ul.store)}function xw(i){return Rr(i,ll.store)}var vI=function(){function i(){this.Bt=new iv}return i.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),Ee.resolve()},i.prototype.getCollectionParents=function(e,t){return Ee.resolve(this.Bt.getEntries(t))},i}(),iv=function(){function i(){this.index={}}return i.prototype.add=function(e){var t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new An(St.comparator),f=!u.has(o);return this.index[t]=u.add(o),f},i.prototype.has=function(e){var t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)},i.prototype.getEntries=function(e){return(this.index[e]||new An(St.comparator)).toArray()},i}(),_I=function(){function i(){this.qt=new iv}return i.prototype.addToCollectionParentIndex=function(e,t){var o=this;if(!this.qt.has(t)){var u=t.lastSegment(),f=t.popLast();e.addOnCommittedListener(function(){o.qt.add(t)});var h={collectionId:u,parent:hr(f)};return ov(e).put(h)}return Ee.resolve()},i.prototype.getCollectionParents=function(e,t){var o=[],u=IDBKeyRange.bound([t,""],[VE(t),""],!1,!0);return ov(e).Nt(u).next(function(f){for(var h=0,g=f;h<g.length;h++){var _=g[h];if(_.collectionId!==t)break;o.push(No(_.parent))}return o})},i}();function ov(i){return Rr(i,ys.store)}var sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},io=function(){function i(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}return i.withCacheSize=function(e){return new i(e,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},i}();function Fw(i,e,t){var o=i.store(Vt.store),u=i.store(tr.store),f=[],h=IDBKeyRange.only(t.batchId),g=0,_=o.$t({range:h},function(P,j,Q){return g++,Q.delete()});f.push(_.next(function(){qe(1===g)}));for(var E=[],C=0,T=t.mutations;C<T.length;C++){var I=T[C],N=tr.key(e,I.key.path,t.batchId);f.push(u.delete(N)),E.push(I.key)}return Ee.waitFor(f).next(function(){return E})}function bf(i){if(!i)return 0;var e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw Le();e=i.noDocument}return JSON.stringify(e).length}io.DEFAULT_COLLECTION_PERCENTILE=10,io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,io.DEFAULT=new io(41943040,io.DEFAULT_COLLECTION_PERCENTILE,io.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),io.DISABLED=new io(-1,0,0);var bI=function(){function i(e,t,o,u){this.userId=e,this.R=t,this.Ut=o,this.referenceDelegate=u,this.Kt={}}return i.Qt=function(e,t,o,u){return qe(""!==e.uid),new i(e.isAuthenticated()?e.uid:"",t,o,u)},i.prototype.checkEmpty=function(e){var t=!0,o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return _s(e).$t({index:Vt.userMutationsIndex,range:o},function(u,f,h){t=!1,h.done()}).next(function(){return t})},i.prototype.addMutationBatch=function(e,t,o,u){var f=this,h=bs(e),g=_s(e);return g.add({}).next(function(_){qe("number"==typeof _);for(var E=new dp(_,t,o,u),C=function(ce,_e,we){var Re=we.baseMutations.map(function(ut){return yf(ce.Lt,ut)}),Ne=we.mutations.map(function(ut){return yf(ce.Lt,ut)});return new Vt(_e,we.batchId,we.localWriteTime.toMillis(),Re,Ne)}(f.R,f.userId,E),T=[],I=new An(function(ce,_e){return _t(ce.canonicalString(),_e.canonicalString())}),N=0,P=u;N<P.length;N++){var j=P[N],Q=tr.key(f.userId,j.key.path,_);I=I.add(j.key.path.popLast()),T.push(g.put(C)),T.push(h.put(Q,tr.PLACEHOLDER))}return I.forEach(function(ce){T.push(f.Ut.addToCollectionParentIndex(e,ce))}),e.addOnCommittedListener(function(){f.Kt[_]=E.keys()}),Ee.waitFor(T).next(function(){return E})})},i.prototype.lookupMutationBatch=function(e,t){var o=this;return _s(e).get(t).next(function(u){return u?(qe(u.userId===o.userId),gl(o.R,u)):null})},i.prototype.jt=function(e,t){var o=this;return this.Kt[t]?Ee.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next(function(u){if(u){var f=u.keys();return o.Kt[t]=f,f}return null})},i.prototype.getNextMutationBatchAfterBatchId=function(e,t){var o=this,u=t+1,f=IDBKeyRange.lowerBound([this.userId,u]),h=null;return _s(e).$t({index:Vt.userMutationsIndex,range:f},function(g,_,E){_.userId===o.userId&&(qe(_.batchId>=u),h=gl(o.R,_)),E.done()}).next(function(){return h})},i.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),o=-1;return _s(e).$t({index:Vt.userMutationsIndex,range:t,reverse:!0},function(u,f,h){o=f.batchId,h.done()}).next(function(){return o})},i.prototype.getAllMutationBatches=function(e){var t=this,o=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return _s(e).Nt(Vt.userMutationsIndex,o).next(function(u){return u.map(function(f){return gl(t.R,f)})})},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var o=this,u=tr.prefixForPath(this.userId,t.path),f=IDBKeyRange.lowerBound(u),h=[];return bs(e).$t({range:f},function(g,_,E){var C=g[0],I=g[2],N=No(g[1]);if(C===o.userId&&t.path.isEqual(N))return _s(e).get(I).next(function(P){if(!P)throw Le();qe(P.userId===o.userId),h.push(gl(o.R,P))});E.done()}).next(function(){return h})},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var o=this,u=new An(_t),f=[];return t.forEach(function(h){var g=tr.prefixForPath(o.userId,h.path),_=IDBKeyRange.lowerBound(g),E=bs(e).$t({range:_},function(C,T,I){var N=C[0],j=C[2],Q=No(C[1]);N===o.userId&&h.path.isEqual(Q)?u=u.add(j):I.done()});f.push(E)}),Ee.waitFor(f).next(function(){return o.Wt(e,u)})},i.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var o=this,u=t.path,f=u.length+1,h=tr.prefixForPath(this.userId,u),g=IDBKeyRange.lowerBound(h),_=new An(_t);return bs(e).$t({range:g},function(E,C,T){var I=E[0],P=E[2],j=No(E[1]);I===o.userId&&u.isPrefixOf(j)?j.length===f&&(_=_.add(P)):T.done()}).next(function(){return o.Wt(e,_)})},i.prototype.Wt=function(e,t){var o=this,u=[],f=[];return t.forEach(function(h){f.push(_s(e).get(h).next(function(g){if(null===g)throw Le();qe(g.userId===o.userId),u.push(gl(o.R,g))}))}),Ee.waitFor(f).next(function(){return u})},i.prototype.removeMutationBatch=function(e,t){var o=this;return Fw(e.Mt,this.userId,t).next(function(u){return e.addOnCommittedListener(function(){o.Gt(t.batchId)}),Ee.forEach(u,function(f){return o.referenceDelegate.markPotentiallyOrphaned(e,f)})})},i.prototype.Gt=function(e){delete this.Kt[e]},i.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next(function(o){if(!o)return Ee.resolve();var u=IDBKeyRange.lowerBound(tr.prefixForUser(t.userId)),f=[];return bs(e).$t({range:u},function(h,g,_){if(h[0]===t.userId){var E=No(h[1]);f.push(E)}else _.done()}).next(function(){qe(0===f.length)})})},i.prototype.containsKey=function(e,t){return kw(e,this.userId,t)},i.prototype.zt=function(e){var t=this;return pp(e).get(this.userId).next(function(o){return o||new Ro(t.userId,-1,"")})},i}();function kw(i,e,t){var o=tr.prefixForPath(e,t.path),u=o[1],f=IDBKeyRange.lowerBound(o),h=!1;return bs(i).$t({range:f,Ft:!0},function(g,_,E){g[0]===e&&g[1]===u&&(h=!0),E.done()}).next(function(){return h})}function _s(i){return Rr(i,Vt.store)}function bs(i){return Rr(i,tr.store)}function pp(i){return Rr(i,Ro.store)}var Ef=function(){function i(e){this.Ht=e}return i.prototype.next=function(){return this.Ht+=2,this.Ht},i.Jt=function(){return new i(0)},i.Yt=function(){return new i(-1)},i}(),av=function(){function i(e,t){this.referenceDelegate=e,this.R=t}return i.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next(function(o){var u=new Ef(o.highestTargetId);return o.highestTargetId=u.next(),t.Zt(e,o).next(function(){return o.highestTargetId})})},i.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next(function(t){return dt.fromTimestamp(new Ir(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},i.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next(function(t){return t.highestListenSequenceNumber})},i.prototype.setTargetsMetadata=function(e,t,o){var u=this;return this.Xt(e).next(function(f){return f.highestListenSequenceNumber=t,o&&(f.lastRemoteSnapshotVersion=o.toTimestamp()),t>f.highestListenSequenceNumber&&(f.highestListenSequenceNumber=t),u.Zt(e,f)})},i.prototype.addTargetData=function(e,t){var o=this;return this.te(e,t).next(function(){return o.Xt(e).next(function(u){return u.targetCount+=1,o.ee(t,u),o.Zt(e,u)})})},i.prototype.updateTargetData=function(e,t){return this.te(e,t)},i.prototype.removeTargetData=function(e,t){var o=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next(function(){return yl(e).delete(t.targetId)}).next(function(){return o.Xt(e)}).next(function(u){return qe(u.targetCount>0),u.targetCount-=1,o.Zt(e,u)})},i.prototype.removeTargets=function(e,t,o){var u=this,f=0,h=[];return yl(e).$t(function(g,_){var E=ml(_);E.sequenceNumber<=t&&null===o.get(E.targetId)&&(f++,h.push(u.removeTargetData(e,E)))}).next(function(){return Ee.waitFor(h)}).next(function(){return f})},i.prototype.forEachTarget=function(e,t){return yl(e).$t(function(o,u){var f=ml(u);t(f)})},i.prototype.Xt=function(e){return Lw(e).get(ai.key).next(function(t){return qe(null!==t),t})},i.prototype.Zt=function(e,t){return Lw(e).put(ai.key,t)},i.prototype.te=function(e,t){return yl(e).put(Ow(this.R,t))},i.prototype.ee=function(e,t){var o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o},i.prototype.getTargetCount=function(e){return this.Xt(e).next(function(t){return t.targetCount})},i.prototype.getTargetData=function(e,t){var o=Yu(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]),f=null;return yl(e).$t({range:u,index:Hr.queryTargetsIndexName},function(h,g,_){var E=ml(g);of(t,E.target)&&(f=E,_.done())}).next(function(){return f})},i.prototype.addMatchingKeys=function(e,t,o){var u=this,f=[],h=oo(e);return t.forEach(function(g){var _=hr(g.path);f.push(h.put(new nr(o,_))),f.push(u.referenceDelegate.addReference(e,o,g))}),Ee.waitFor(f)},i.prototype.removeMatchingKeys=function(e,t,o){var u=this,f=oo(e);return Ee.forEach(t,function(h){var g=hr(h.path);return Ee.waitFor([f.delete([o,g]),u.referenceDelegate.removeReference(e,o,h)])})},i.prototype.removeMatchingKeysForTargetId=function(e,t){var o=oo(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)},i.prototype.getMatchingKeysForTargetId=function(e,t){var o=IDBKeyRange.bound([t],[t+1],!1,!0),u=oo(e),f=Rt();return u.$t({range:o,Ft:!0},function(h,g,_){var E=No(h[1]),C=new Ve(E);f=f.add(C)}).next(function(){return f})},i.prototype.containsKey=function(e,t){var o=hr(t.path),u=IDBKeyRange.bound([o],[VE(o)],!1,!0),f=0;return oo(e).$t({index:nr.documentTargetsIndex,Ft:!0,range:u},function(h,g,_){0!==h[0]&&(f++,_.done())}).next(function(){return f>0})},i.prototype.lt=function(e,t){return yl(e).get(t).next(function(o){return o?ml(o):null})},i}();function yl(i){return Rr(i,Hr.store)}function Lw(i){return Rr(i,ai.store)}function oo(i){return Rr(i,nr.store)}function Da(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){if(i.code!==te.FAILED_PRECONDITION||i.message!==cl)throw i;return Ce("LocalStore","Unexpectedly lost primary lease"),[2]})})}function uv(i,e){var o=i[1],f=e[1],h=_t(i[0],e[0]);return 0===h?_t(o,f):h}var EI=function(){function i(e){this.ne=e,this.buffer=new An(uv),this.se=0}return i.prototype.ie=function(){return++this.se},i.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var o=this.buffer.last();uv(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}},Object.defineProperty(i.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),i}(),Vw=function(){function i(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return i.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},i.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(i.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),i.prototype.ue=function(e){var t=this,o=this.oe?3e5:6e4;Ce("LruGarbageCollector","Garbage collection scheduled in "+o+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,function(){return(0,M.mG)(t,void 0,void 0,function(){var u;return(0,M.Jh)(this,function(f){switch(f.label){case 0:this.ce=null,this.oe=!0,f.label=1;case 1:return f.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return f.sent(),[3,7];case 3:return wa(u=f.sent())?(Ce("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u),[3,6]):[3,4];case 4:return[4,Da(u)];case 5:f.sent(),f.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return f.sent(),[2]}})})})},i}(),Uw=function(){function i(e,t){this.ae=e,this.params=t}return i.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next(function(o){return Math.floor(t/100*o)})},i.prototype.nthSequenceNumber=function(e,t){var o=this;if(0===t)return Ee.resolve(ri.o);var u=new EI(t);return this.ae.forEachTarget(e,function(f){return u.re(f.sequenceNumber)}).next(function(){return o.ae.le(e,function(f){return u.re(f)})}).next(function(){return u.maxValue})},i.prototype.removeTargets=function(e,t,o){return this.ae.removeTargets(e,t,o)},i.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},i.prototype.collect=function(e,t){var o=this;return-1===this.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; disabled"),Ee.resolve(sv)):this.getCacheSize(e).next(function(u){return u<o.params.cacheSizeCollectionThreshold?(Ce("LruGarbageCollector","Garbage collection skipped; Cache size "+u+" is lower than threshold "+o.params.cacheSizeCollectionThreshold),sv):o.fe(e,t)})},i.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},i.prototype.fe=function(e,t){var o,u,f,h,g,_,E,C=this,T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(function(I){return I>C.params.maximumSequenceNumbersToCollect?(Ce("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+C.params.maximumSequenceNumbersToCollect+" from "+I),u=C.params.maximumSequenceNumbersToCollect):u=I,h=Date.now(),C.nthSequenceNumber(e,u)}).next(function(I){return o=I,g=Date.now(),C.removeTargets(e,o,t)}).next(function(I){return f=I,_=Date.now(),C.removeOrphanedDocuments(e,o)}).next(function(I){return E=Date.now(),My()<=Au.in.DEBUG&&Ce("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(h-T)+"ms\n\tDetermined least recently used "+u+" in "+(g-h)+"ms\n\tRemoved "+f+" targets in "+(_-g)+"ms\n\tRemoved "+I+" documents in "+(E-_)+"ms\nTotal Duration: "+(E-T)+"ms"),Ee.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:I})})},i}(),jw=function(){function i(e,t){this.db=e,this.garbageCollector=new Uw(this,t)}return i.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next(function(o){return t.next(function(u){return o+u})})},i.prototype.de=function(e){var t=0;return this.le(e,function(o){t++}).next(function(){return t})},i.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},i.prototype.le=function(e,t){return this.we(e,function(o,u){return t(u)})},i.prototype.addReference=function(e,t,o){return lv(e,o)},i.prototype.removeReference=function(e,t,o){return lv(e,o)},i.prototype.removeTargets=function(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)},i.prototype.markPotentiallyOrphaned=function(e,t){return lv(e,t)},i.prototype._e=function(e,t){return u=t,f=!1,pp(o=e).Ot(function(h){return kw(o,h,u).next(function(g){return g&&(f=!0),Ee.resolve(!g)})}).next(function(){return f});var o,u,f},i.prototype.removeOrphanedDocuments=function(e,t){var o=this,u=this.db.getRemoteDocumentCache().newChangeBuffer(),f=[],h=0;return this.we(e,function(g,_){if(_<=t){var E=o._e(e,g).next(function(C){if(!C)return h++,u.getEntry(e,g).next(function(){return u.removeEntry(g),oo(e).delete([0,hr(g.path)])})});f.push(E)}}).next(function(){return Ee.waitFor(f)}).next(function(){return u.apply(e)}).next(function(){return h})},i.prototype.removeTarget=function(e,t){var o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)},i.prototype.updateLimboDocument=function(e,t){return lv(e,t)},i.prototype.we=function(e,t){var o,u=oo(e),f=ri.o;return u.$t({index:nr.documentTargetsIndex},function(h,g){var E=g.path,C=g.sequenceNumber;0===h[0]?(f!==ri.o&&t(new Ve(No(o)),f),f=C,o=E):f=ri.o}).next(function(){f!==ri.o&&t(new Ve(No(o)),f)})},i.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},i}();function lv(i,e){return oo(i).put((o=i.currentSequenceNumber,new nr(0,hr(e.path),o)));var o}var vl=function(){function i(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return i.prototype.get=function(e){var t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(var u=0,f=o;u<f.length;u++){var h=f[u],_=h[1];if(this.equalsFn(h[0],e))return _}},i.prototype.has=function(e){return void 0!==this.get(e)},i.prototype.set=function(e,t){var o=this.mapKeyFn(e),u=this.inner[o];if(void 0!==u){for(var f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,t]);u.push([e,t])}else this.inner[o]=[[e,t]]},i.prototype.delete=function(e){var t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(var u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),!0;return!1},i.prototype.forEach=function(e){fs(this.inner,function(t,o){for(var u=0,f=o;u<f.length;u++){var h=f[u];e(h[0],h[1])}})},i.prototype.isEmpty=function(){return Ry(this.inner)},i}(),Es=function(){function i(){this.changes=new vl(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return i.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:dt.min()},i.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},i.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Sn.newInvalidDocument(e),readTime:t})},i.prototype.getEntry=function(e,t){this.assertNotApplied();var o=this.changes.get(t);return void 0!==o?Ee.resolve(o.document):this.getFromCache(e,t)},i.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},i.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},i.prototype.assertNotApplied=function(){},i}(),LN=function(){function i(e,t){this.R=e,this.Ut=t}return i.prototype.addEntry=function(e,t,o){return ws(e).put(Po(t),o)},i.prototype.removeEntry=function(e,t){var o=ws(e),u=Po(t);return o.delete(u)},i.prototype.updateMetadata=function(e,t){var o=this;return this.getMetadata(e).next(function(u){return u.byteSize+=t,o.me(e,u)})},i.prototype.getEntry=function(e,t){var o=this;return ws(e).get(Po(t)).next(function(u){return o.ye(t,u)})},i.prototype.ge=function(e,t){var o=this;return ws(e).get(Po(t)).next(function(u){return{document:o.ye(t,u),size:bf(u)}})},i.prototype.getEntries=function(e,t){var o=this,u=si();return this.pe(e,t,function(f,h){var g=o.ye(f,h);u=u.insert(f,g)}).next(function(){return u})},i.prototype.Ee=function(e,t){var o=this,u=si(),f=new er(Ve.comparator);return this.pe(e,t,function(h,g){var _=o.ye(h,g);u=u.insert(h,_),f=f.insert(h,bf(g))}).next(function(){return{documents:u,Te:f}})},i.prototype.pe=function(e,t,o){if(t.isEmpty())return Ee.resolve();var u=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),f=t.getIterator(),h=f.getNext();return ws(e).$t({range:u},function(g,_,E){for(var C=Ve.fromSegments(g);h&&Ve.comparator(h,C)<0;)o(h,null),h=f.getNext();h&&h.isEqual(C)&&(o(h,_),h=f.hasNext()?f.getNext():null),h?E.Ct(h.path.toArray()):E.done()}).next(function(){for(;h;)o(h,null),h=f.hasNext()?f.getNext():null})},i.prototype.getDocumentsMatchingQuery=function(e,t,o){var u=this,f=si(),h=t.path.length+1,g={};if(o.isEqual(dt.min())){var _=t.path.toArray();g.range=IDBKeyRange.lowerBound(_)}else{var E=t.path.toArray(),C=nv(o);g.range=IDBKeyRange.lowerBound([E,C],!0),g.index=un.collectionReadTimeIndex}return ws(e).$t(g,function(T,I,N){if(T.length===h){var P=hp(u.R,I);t.path.isPrefixOf(P.key.path)?dr(t,P)&&(f=f.insert(P.key,P)):N.done()}}).next(function(){return f})},i.prototype.newChangeBuffer=function(e){return new cv(this,!!e&&e.trackRemovals)},i.prototype.getSize=function(e){return this.getMetadata(e).next(function(t){return t.byteSize})},i.prototype.getMetadata=function(e){return wf(e).get(Oo.key).next(function(t){return qe(!!t),t})},i.prototype.me=function(e,t){return wf(e).put(Oo.key,t)},i.prototype.ye=function(e,t){if(t){var o=hp(this.R,t);if(!o.isNoDocument()||!o.version.isEqual(dt.min()))return o}return Sn.newInvalidDocument(e)},i}(),cv=function(i){function e(t,o){var u=this;return(u=i.call(this)||this).Ie=t,u.trackRemovals=o,u.Ae=new vl(function(f){return f.toString()},function(f,h){return f.isEqual(h)}),u}return(0,M.ZT)(e,i),e.prototype.applyChanges=function(t){var o=this,u=[],f=0,h=new An(function(g,_){return _t(g.canonicalString(),_.canonicalString())});return this.changes.forEach(function(g,_){var E=o.Ae.get(g);if(_.document.isValidDocument()){var C=tv(o.Ie.R,_.document,o.getReadTime(g));h=h.add(g.path.popLast());var T=bf(C);f+=T-E,u.push(o.Ie.addEntry(t,g,C))}else if(f-=E,o.trackRemovals){var I=tv(o.Ie.R,Sn.newNoDocument(g,dt.min()),o.getReadTime(g));u.push(o.Ie.addEntry(t,g,I))}else u.push(o.Ie.removeEntry(t,g))}),h.forEach(function(g){u.push(o.Ie.Ut.addToCollectionParentIndex(t,g))}),u.push(this.Ie.updateMetadata(t,f)),Ee.waitFor(u)},e.prototype.getFromCache=function(t,o){var u=this;return this.Ie.ge(t,o).next(function(f){return u.Ae.set(o,f.size),f.document})},e.prototype.getAllFromCache=function(t,o){var u=this;return this.Ie.Ee(t,o).next(function(f){var h=f.documents;return f.Te.forEach(function(g,_){u.Ae.set(g,_)}),h})},e}(Es);function wf(i){return Rr(i,Oo.store)}function ws(i){return Rr(i,un.store)}function Po(i){return i.path.toArray()}var wI=function(){function i(e){this.R=e}return i.prototype.Rt=function(e,t,o,u){var f=this;qe(o<u&&o>=0&&u<=11);var _,h=new Aw("createOrUpgrade",t);o<1&&u>=1&&(e.createObjectStore(Nr.store),(_=e).createObjectStore(Ro.store,{keyPath:Ro.keyPath}),_.createObjectStore(Vt.store,{keyPath:Vt.keyPath,autoIncrement:!0}).createIndex(Vt.userMutationsIndex,Vt.userMutationsKeyPath,{unique:!0}),_.createObjectStore(tr.store),CI(e),function(_){_.createObjectStore(un.store)}(e));var g=Ee.resolve();return o<3&&u>=3&&(0!==o&&(function(_){_.deleteObjectStore(nr.store),_.deleteObjectStore(Hr.store),_.deleteObjectStore(ai.store)}(e),CI(e)),g=g.next(function(){return function(_){var E=_.store(ai.store),C=new ai(0,0,dt.min().toTimestamp(),0);return E.put(ai.key,C)}(h)})),o<4&&u>=4&&(0!==o&&(g=g.next(function(){return function(_,E){return E.store(Vt.store).Nt().next(function(C){_.deleteObjectStore(Vt.store),_.createObjectStore(Vt.store,{keyPath:Vt.keyPath,autoIncrement:!0}).createIndex(Vt.userMutationsIndex,Vt.userMutationsKeyPath,{unique:!0});var T=E.store(Vt.store),I=C.map(function(N){return T.put(N)});return Ee.waitFor(I)})}(e,h)})),g=g.next(function(){!function(_){_.createObjectStore(ui.store,{keyPath:ui.keyPath})}(e)})),o<5&&u>=5&&(g=g.next(function(){return f.Re(h)})),o<6&&u>=6&&(g=g.next(function(){return function(_){_.createObjectStore(Oo.store)}(e),f.be(h)})),o<7&&u>=7&&(g=g.next(function(){return f.ve(h)})),o<8&&u>=8&&(g=g.next(function(){return f.Pe(e,h)})),o<9&&u>=9&&(g=g.next(function(){(function(_){_.objectStoreNames.contains("remoteDocumentChanges")&&_.deleteObjectStore("remoteDocumentChanges")})(e),function(_){var E=_.objectStore(un.store);E.createIndex(un.readTimeIndex,un.readTimeIndexPath,{unique:!1}),E.createIndex(un.collectionReadTimeIndex,un.collectionReadTimeIndexPath,{unique:!1})}(t)})),o<10&&u>=10&&(g=g.next(function(){return f.Ve(h)})),o<11&&u>=11&&(g=g.next(function(){(function(_){_.createObjectStore(ul.store,{keyPath:ul.keyPath})})(e),function(_){_.createObjectStore(ll.store,{keyPath:ll.keyPath})}(e)})),g},i.prototype.be=function(e){var t=0;return e.store(un.store).$t(function(o,u){t+=bf(u)}).next(function(){var o=new Oo(t);return e.store(Oo.store).put(Oo.key,o)})},i.prototype.Re=function(e){var t=this,o=e.store(Ro.store),u=e.store(Vt.store);return o.Nt().next(function(f){return Ee.forEach(f,function(h){var g=IDBKeyRange.bound([h.userId,-1],[h.userId,h.lastAcknowledgedBatchId]);return u.Nt(Vt.userMutationsIndex,g).next(function(_){return Ee.forEach(_,function(E){qe(E.userId===h.userId);var C=gl(t.R,E);return Fw(e,h.userId,C).next(function(){})})})})})},i.prototype.ve=function(e){var t=e.store(nr.store),o=e.store(un.store);return e.store(ai.store).get(ai.key).next(function(u){var f=[];return o.$t(function(h,g){var _=new St(h),E=[0,hr(_)];f.push(t.get(E).next(function(C){return C?Ee.resolve():t.put(new nr(0,hr(_),u.highestListenSequenceNumber))}))}).next(function(){return Ee.waitFor(f)})})},i.prototype.Pe=function(e,t){e.createObjectStore(ys.store,{keyPath:ys.keyPath});var o=t.store(ys.store),u=new iv,f=function(h){if(u.add(h)){var g=h.lastSegment(),_=h.popLast();return o.put({collectionId:g,parent:hr(_)})}};return t.store(un.store).$t({Ft:!0},function(h,g){var _=new St(h);return f(_.popLast())}).next(function(){return t.store(tr.store).$t({Ft:!0},function(h,g){var E=No(h[1]);return f(E.popLast())})})},i.prototype.Ve=function(e){var t=this,o=e.store(Hr.store);return o.$t(function(u,f){var h=ml(f),g=Ow(t.R,h);return o.put(g)})},i}();function CI(i){i.createObjectStore(nr.store,{keyPath:nr.keyPath}).createIndex(nr.documentTargetsIndex,nr.documentTargetsKeyPath,{unique:!0}),i.createObjectStore(Hr.store,{keyPath:Hr.keyPath}).createIndex(Hr.queryTargetsIndexName,Hr.queryTargetsKeyPath,{unique:!0}),i.createObjectStore(ai.store)}var fv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",so=function(){function i(e,t,o,u,f,h,g,_,E,C){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Se=f,this.window=h,this.document=g,this.De=E,this.Ce=C,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(T){return Promise.resolve()},!i.yt())throw new ye(te.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new jw(this,u),this.Le=t+"main",this.R=new Nw(_),this.Be=new fl(this.Le,11,new wI(this.R)),this.qe=new av(this.referenceDelegate,this.R),this.Ut=new _I,this.Ue=new LN(this.R,this.Ut),this.Ke=new yI,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===C&&vn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return i.prototype.start=function(){var e=this;return this.je().then(function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ye(te.FAILED_PRECONDITION,fv);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",function(t){return e.qe.getHighestSequenceNumber(t)})}).then(function(t){e.Ne=new ri(t,e.De)}).then(function(){e.xe=!0}).catch(function(t){return e.Be&&e.Be.close(),Promise.reject(t)})},i.prototype.He=function(e){var t=this;return this.Me=function(o){return(0,M.mG)(t,void 0,void 0,function(){return(0,M.Jh)(this,function(u){return this.started?[2,e(o)]:[2]})})},e(this.isPrimary)},i.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt(function(o){return(0,M.mG)(t,void 0,void 0,function(){return(0,M.Jh)(this,function(u){switch(u.label){case 0:return null===o.newVersion?[4,e()]:[3,2];case 1:u.sent(),u.label=2;case 2:return[2]}})})})},i.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget(function(){return(0,M.mG)(t,void 0,void 0,function(){return(0,M.Jh)(this,function(o){switch(o.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:o.sent(),o.label=2;case 2:return[2]}})})}))},i.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(t){return dv(t).put(new ui(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next(function(){if(e.isPrimary)return e.Je(t).next(function(o){o||(e.isPrimary=!1,e.Se.enqueueRetryable(function(){return e.Me(!1)}))})}).next(function(){return e.Ye(t)}).next(function(o){return e.isPrimary&&!o?e.Xe(t).next(function(){return!1}):!!o&&e.Ze(t).next(function(){return!0})})}).catch(function(t){if(wa(t))return Ce("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Ce("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(function(t){e.isPrimary!==t&&e.Se.enqueueRetryable(function(){return e.Me(t)}),e.isPrimary=t})},i.prototype.Je=function(e){var t=this;return _l(e).get(Nr.key).next(function(o){return Ee.resolve(t.tn(o))})},i.prototype.en=function(e){return dv(e).delete(this.clientId)},i.prototype.nn=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,f=this;return(0,M.Jh)(this,function(h){switch(h.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(g){var _=Rr(g,ui.store);return _.Nt().next(function(E){var C=f.rn(E,18e5),T=E.filter(function(I){return-1===C.indexOf(I)});return Ee.forEach(T,function(I){return _.delete(I.clientId)}).next(function(){return T})})}).catch(function(){return[]})]);case 1:if(e=h.sent(),this.Qe)for(t=0,o=e;t<o.length;t++)this.Qe.removeItem(this.on(o[t].clientId));h.label=2;case 2:return[2]}})})},i.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return e.je().then(function(){return e.nn()}).then(function(){return e.ze()})})},i.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},i.prototype.Ye=function(e){var t=this;return this.Ce?Ee.resolve(!0):_l(e).get(Nr.key).next(function(o){if(null!==o&&t.sn(o.leaseTimestampMs,5e3)&&!t.cn(o.ownerId)){if(t.tn(o)&&t.networkEnabled)return!0;if(!t.tn(o)){if(!o.allowTabSynchronization)throw new ye(te.FAILED_PRECONDITION,fv);return!1}}return!(!t.networkEnabled||!t.inForeground)||dv(e).Nt().next(function(u){return void 0===t.rn(u,5e3).find(function(f){return!(t.clientId===f.clientId||!(!t.networkEnabled&&f.networkEnabled||!t.inForeground&&f.inForeground&&t.networkEnabled===f.networkEnabled))})})}).next(function(o){return t.isPrimary!==o&&Ce("IndexedDbPersistence","Client "+(o?"is":"is not")+" eligible for a primary lease."),o})},i.prototype.shutdown=function(){return(0,M.mG)(this,void 0,void 0,function(){var e=this;return(0,M.Jh)(this,function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Nr.store,ui.store],function(o){var u=new ev(o,ri.o);return e.Xe(u).next(function(){return e.en(u)})})];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}})})},i.prototype.rn=function(e,t){var o=this;return e.filter(function(u){return o.sn(u.updateTimeMs,t)&&!o.cn(u.clientId)})},i.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",function(t){return dv(t).Nt().next(function(o){return e.rn(o,18e5).map(function(u){return u.clientId})})})},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.getMutationQueue=function(e){return bI.Qt(e,this.R,this.Ut,this.referenceDelegate)},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(e,t,o){var f,u=this;return Ce("IndexedDbPersistence","Starting transaction:",e),this.Be.runTransaction(e,"readonly"===t?"readonly":"readwrite",Sw,function(g){return f=new ev(g,u.Ne?u.Ne.next():ri.o),"readwrite-primary"===t?u.Je(f).next(function(_){return!!_||u.Ye(f)}).next(function(_){if(!_)throw vn("Failed to obtain primary lease for action '"+e+"'."),u.isPrimary=!1,u.Se.enqueueRetryable(function(){return u.Me(!1)}),new ye(te.FAILED_PRECONDITION,cl);return o(f)}).next(function(_){return u.Ze(f).next(function(){return _})}):u.dn(f).next(function(){return o(f)})}).then(function(g){return f.raiseOnCommittedEvent(),g})},i.prototype.dn=function(e){var t=this;return _l(e).get(Nr.key).next(function(o){if(null!==o&&t.sn(o.leaseTimestampMs,5e3)&&!t.cn(o.ownerId)&&!t.tn(o)&&!(t.Ce||t.allowTabSynchronization&&o.allowTabSynchronization))throw new ye(te.FAILED_PRECONDITION,fv)})},i.prototype.Ze=function(e){var t=new Nr(this.clientId,this.allowTabSynchronization,Date.now());return _l(e).put(Nr.key,t)},i.yt=function(){return fl.yt()},i.prototype.Xe=function(e){var t=this,o=_l(e);return o.get(Nr.key).next(function(u){return t.tn(u)?(Ce("IndexedDbPersistence","Releasing primary lease."),o.delete(Nr.key)):Ee.resolve()})},i.prototype.sn=function(e,t){var o=Date.now();return!(e<o-t||e>o&&(vn("Detected an update time that is in the future: "+e+" > "+o),1))},i.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget(function(){return e.inForeground="visible"===e.document.visibilityState,e.je()})},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},i.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},i.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,Tt.G6)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("pagehide",this.ke))},i.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},i.prototype.cn=function(e){var t;try{var o=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return Ce("IndexedDbPersistence","Client '"+e+"' "+(o?"is":"is not")+" zombied in LocalStorage"),o}catch(u){return vn("IndexedDbPersistence","Failed to get zombied client id.",u),!1}},i.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){vn("Failed to set zombie client id.",e)}},i.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},i.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},i}();function _l(i){return Rr(i,Nr.store)}function dv(i){return Rr(i,ui.store)}function bl(i,e){var t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}var DI=function(i,e){this.progress=i,this.wn=e},Bw=function(){function i(e,t,o){this.Ue=e,this._n=t,this.Ut=o}return i.prototype.mn=function(e,t){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(u){return o.yn(e,t,u)})},i.prototype.yn=function(e,t,o){return this.Ue.getEntry(e,t).next(function(u){for(var f=0,h=o;f<h.length;f++)h[f].applyToLocalView(u);return u})},i.prototype.gn=function(e,t){e.forEach(function(o,u){for(var f=0,h=t;f<h.length;f++)h[f].applyToLocalView(u)})},i.prototype.pn=function(e,t){var o=this;return this.Ue.getEntries(e,t).next(function(u){return o.En(e,u).next(function(){return u})})},i.prototype.En=function(e,t){var o=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(u){return o.gn(t,u)})},i.prototype.getDocumentsMatchingQuery=function(e,t,o){return Ve.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.Tn(e,t.path):WE(t)?this.In(e,t,o):this.An(e,t,o);var u},i.prototype.Tn=function(e,t){return this.mn(e,new Ve(t)).next(function(o){var u=sp();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})},i.prototype.In=function(e,t,o){var u=this,f=t.collectionGroup,h=sp();return this.Ut.getCollectionParents(e,f).next(function(g){return Ee.forEach(g,function(_){var C,T,E=(C=t,T=_.child(f),new ro(T,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));return u.An(e,E,o).next(function(C){C.forEach(function(T,I){h=h.insert(T,I)})})}).next(function(){return h})})},i.prototype.An=function(e,t,o){var u,f,h=this;return this.Ue.getDocumentsMatchingQuery(e,t,o).next(function(g){return u=g,h._n.getAllMutationBatchesAffectingQuery(e,t)}).next(function(g){return h.Rn(e,f=g,u).next(function(_){u=_;for(var E=0,C=f;E<C.length;E++)for(var T=C[E],I=0,N=T.mutations;I<N.length;I++){var P=N[I],j=P.key,Q=u.get(j);null==Q&&(Q=Sn.newInvalidDocument(j),u=u.insert(j,Q)),ip(P,Q,T.localWriteTime),Q.isFoundDocument()||(u=u.remove(j))}})}).next(function(){return u.forEach(function(g,_){dr(t,_)||(u=u.remove(g))}),u})},i.prototype.Rn=function(e,t,o){for(var u=Rt(),f=0,h=t;f<h.length;f++)for(var g=0,_=h[f].mutations;g<_.length;g++){var E=_[g];E instanceof ps&&null===o.get(E.key)&&(u=u.add(E.key))}var C=o;return this.Ue.getEntries(e,u).next(function(T){return T.forEach(function(I,N){N.isFoundDocument()&&(C=C.insert(I,N))}),C})},i}(),VN=function(){function i(e,t,o,u){this.targetId=e,this.fromCache=t,this.bn=o,this.vn=u}return i.Pn=function(e,t){for(var o=Rt(),u=Rt(),f=0,h=t.docChanges;f<h.length;f++){var g=h[f];switch(g.type){case 0:o=o.add(g.doc.key);break;case 1:u=u.add(g.doc.key)}}return new i(e,t.fromCache,o,u)},i}(),Gw=function(){function i(){}return i.prototype.Vn=function(e){this.Sn=e},i.prototype.getDocumentsMatchingQuery=function(e,t,o,u){var h,f=this;return 0===(h=t).filters.length&&null===h.limit&&null==h.startAt&&null==h.endAt&&(0===h.explicitOrderBy.length||1===h.explicitOrderBy.length&&h.explicitOrderBy[0].field.isKeyField())||o.isEqual(dt.min())?this.Dn(e,t):this.Sn.pn(e,u).next(function(h){var g=f.Cn(t,h);return(tp(t)||af(t))&&f.Nn(t.limitType,g,u,o)?f.Dn(e,t):(My()<=Au.in.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ii(t)),f.Sn.getDocumentsMatchingQuery(e,t,o).next(function(_){return g.forEach(function(E){_=_.insert(E.key,E)}),_}))})},i.prototype.Cn=function(e,t){var o=new An(oi(e));return t.forEach(function(u,f){dr(e,f)&&(o=o.add(f))}),o},i.prototype.Nn=function(e,t,o,u){if(o.size!==t.size)return!0;var f="F"===e?t.last():t.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)},i.prototype.Dn=function(e,t){return My()<=Au.in.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",ii(t)),this.Sn.getDocumentsMatchingQuery(e,t,dt.min())},i}(),TI=function(){function i(e,t,o,u){this.persistence=e,this.xn=t,this.R=u,this.kn=new er(_t),this.Fn=new vl(function(f){return Yu(f)},of),this.$n=dt.min(),this._n=e.getMutationQueue(o),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Bw(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return i.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(o){return e.collect(o,t.kn)})},i}();function Hw(i,e,t,o){return new TI(i,e,t,o)}function gp(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u,f;return(0,M.Jh)(this,function(h){switch(h.label){case 0:return t=Te(i),o=t._n,u=t.Mn,[4,t.persistence.runTransaction("Handle user change","readonly",function(g){var _;return t._n.getAllMutationBatches(g).next(function(E){return _=E,o=t.persistence.getMutationQueue(e),u=new Bw(t.On,o,t.persistence.getIndexManager()),o.getAllMutationBatches(g)}).next(function(E){for(var C=[],T=[],I=Rt(),N=0,P=_;N<P.length;N++){var j=P[N];C.push(j.batchId);for(var Q=0,ce=j.mutations;Q<ce.length;Q++)I=I.add(ce[Q].key)}for(var we=0,Re=E;we<Re.length;we++){var Ne=Re[we];T.push(Ne.batchId);for(var ut=0,It=Ne.mutations;ut<It.length;ut++)I=I.add(It[ut].key)}return u.pn(g,I).next(function(Wr){return{Ln:Wr,removedBatchIds:C,addedBatchIds:T}})})})];case 1:return f=h.sent(),[2,(t._n=o,t.Mn=u,t.xn.Vn(t.Mn),f)]}})})}function $w(i,e){var t=Te(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(o){var h,g,_,E,C,T,I,u=e.batch.keys(),f=t.On.newChangeBuffer({trackRemovals:!0});return(h=t,g=o,_=e,E=f,C=_.batch,T=C.keys(),I=Ee.resolve(),T.forEach(function(N){I=I.next(function(){return E.getEntry(g,N)}).next(function(P){var j=_.docVersions.get(N);qe(null!==j),P.version.compareTo(j)<0&&(C.applyToRemoteDocument(P,_),P.isValidDocument()&&E.addEntry(P,_.commitVersion))})}),I.next(function(){return h._n.removeMutationBatch(g,C)})).next(function(){return f.apply(o)}).next(function(){return t._n.performConsistencyCheck(o)}).next(function(){return t.Mn.pn(o,u)})})}function mp(i){var e=Te(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function qw(i,e){var t=Te(i),o=e.snapshotVersion,u=t.kn;return t.persistence.runTransaction("Apply remote event","readwrite-primary",function(f){var h=t.On.newChangeBuffer({trackRemovals:!0});u=t.kn;var g=[];e.targetChanges.forEach(function(C,T){var j,Q,ce,I=u.get(T);if(I){g.push(t.qe.removeMatchingKeys(f,C.removedDocuments,T).next(function(){return t.qe.addMatchingKeys(f,C.addedDocuments,T)}));var N=C.resumeToken;if(N.approximateByteSize()>0){var P=I.withResumeToken(N,o).withSequenceNumber(f.currentSequenceNumber);u=u.insert(T,P),j=I,ce=C,qe((Q=P).resumeToken.approximateByteSize()>0),(0===j.resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0)&&g.push(t.qe.updateTargetData(f,P))}}});var _=si();if(e.documentUpdates.forEach(function(C,T){e.resolvedLimboDocuments.has(C)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(f,C))}),g.push(zw(f,h,e.documentUpdates,o,void 0).next(function(C){_=C})),!o.isEqual(dt.min())){var E=t.qe.getLastRemoteSnapshotVersion(f).next(function(C){return t.qe.setTargetsMetadata(f,f.currentSequenceNumber,o)});g.push(E)}return Ee.waitFor(g).next(function(){return h.apply(f)}).next(function(){return t.Mn.En(f,_)}).next(function(){return _})}).then(function(f){return t.kn=u,f})}function zw(i,e,t,o,u){var f=Rt();return t.forEach(function(h){return f=f.add(h)}),e.getEntries(i,f).next(function(h){var g=si();return t.forEach(function(_,E){var C=h.get(_),T=(null==u?void 0:u.get(_))||o;E.isNoDocument()&&E.version.isEqual(dt.min())?(e.removeEntry(_,T),g=g.insert(_,E)):!C.isValidDocument()||E.version.compareTo(C.version)>0||0===E.version.compareTo(C.version)&&C.hasPendingWrites?(e.addEntry(E,T),g=g.insert(_,E)):Ce("LocalStore","Ignoring outdated watch update for ",_,". Current version:",C.version," Watch version:",E.version)}),g})}function UN(i,e){var t=Te(i);return t.persistence.runTransaction("Get next mutation batch","readonly",function(o){return void 0===e&&(e=-1),t._n.getNextMutationBatchAfterBatchId(o,e)})}function El(i,e){var t=Te(i);return t.persistence.runTransaction("Allocate target","readwrite",function(o){var u;return t.qe.getTargetData(o,e).next(function(f){return f?Ee.resolve(u=f):t.qe.allocateTargetId(o).next(function(h){return u=new hl(e,h,0,o.currentSequenceNumber),t.qe.addTargetData(o,u).next(function(){return u})})})}).then(function(o){var u=t.kn.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.kn=t.kn.insert(o.targetId,o),t.Fn.set(e,o.targetId)),o})}function wl(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u,f,h;return(0,M.Jh)(this,function(g){switch(g.label){case 0:o=Te(i),u=o.kn.get(e),f=t?"readwrite":"readwrite-primary",g.label=1;case 1:return g.trys.push([1,4,,5]),t?[3,3]:[4,o.persistence.runTransaction("Release target",f,function(_){return o.persistence.referenceDelegate.removeTarget(_,u)})];case 2:g.sent(),g.label=3;case 3:return[3,5];case 4:if(!wa(h=g.sent()))throw h;return Ce("LocalStore","Failed to update sequence numbers for target "+e+": "+h),[3,5];case 5:return o.kn=o.kn.remove(e),o.Fn.delete(u.target),[2]}})})}function yp(i,e,t){var o=Te(i),u=dt.min(),f=Rt();return o.persistence.runTransaction("Execute query","readonly",function(h){return(g=o,_=h,E=Mr(e),C=Te(g),T=C.Fn.get(E),void 0!==T?Ee.resolve(C.kn.get(T)):C.qe.getTargetData(_,E)).next(function(g){if(g)return u=g.lastLimboFreeSnapshotVersion,o.qe.getMatchingKeysForTargetId(h,g.targetId).next(function(_){f=_})}).next(function(){return o.xn.getDocumentsMatchingQuery(h,e,t?u:dt.min(),t?f:Rt())}).next(function(g){return{documents:g,Bn:f}});var g,_,E,C,T})}function hv(i,e){var t=Te(i),o=Te(t.qe),u=t.kn.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",function(f){return o.lt(f,e).next(function(h){return h?h.target:null})})}function pv(i){var e=Te(i);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return u=t,f=e.$n,h=Te(e.On),g=si(),_=nv(f),E=ws(u),C=IDBKeyRange.lowerBound(_,!0),E.$t({index:un.readTimeIndex,range:C},function(T,I){var N=hp(h.R,I);g=g.insert(N.key,N),_=I.readTime}).next(function(){return{wn:g,readTime:Rw(_)}});var u,f,h,g,_,E,C}).then(function(t){var o=t.wn;return e.$n=t.readTime,o})}function Ww(i){return(0,M.mG)(this,void 0,void 0,function(){var e;return(0,M.Jh)(this,function(t){return[2,(e=Te(i)).persistence.runTransaction("Synchronize last document change read time","readonly",function(o){return f=ws(o),h=dt.min(),f.$t({index:un.readTimeIndex,reverse:!0},function(g,_,E){_.readTime&&(h=Rw(_.readTime)),E.done()}).next(function(){return h});var f,h}).then(function(o){e.$n=o})]})})}function SI(i,e,t,o){return(0,M.mG)(this,void 0,void 0,function(){var u,f,h,g,_,E,C,T,I,N;return(0,M.Jh)(this,function(P){switch(P.label){case 0:for(u=Te(i),f=Rt(),h=si(),g=zy(),_=0,E=t;_<E.length;_++)T=e.qn((C=E[_]).metadata.name),C.document&&(f=f.add(T)),h=h.insert(T,e.Un(C)),g=g.insert(T,e.Kn(C.metadata.readTime));return I=u.On.newChangeBuffer({trackRemovals:!0}),[4,El(u,(j=o,Mr(Xu(St.fromString("__bundle__/docs/"+j)))))];case 1:return N=P.sent(),[2,u.persistence.runTransaction("Apply bundle documents","readwrite",function(j){return zw(j,I,h,dt.min(),g).next(function(Q){return I.apply(j),Q}).next(function(Q){return u.qe.removeMatchingKeysForTargetId(j,N.targetId).next(function(){return u.qe.addMatchingKeys(j,f,N.targetId)}).next(function(){return u.Mn.En(j,Q)}).next(function(){return Q})})})]}var j})})}function II(i,e,t){return void 0===t&&(t=Rt()),(0,M.mG)(this,void 0,void 0,function(){var o,u;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return[4,El(i,Mr(rv(e.bundledQuery)))];case 1:return o=f.sent(),[2,(u=Te(i)).persistence.runTransaction("Save named query","readwrite",function(h){var g=Fn(e.readTime);if(o.snapshotVersion.compareTo(g)>=0)return u.Ke.saveNamedQuery(h,e);var _=o.withResumeToken(Tn.EMPTY_BYTE_STRING,g);return u.kn=u.kn.insert(_.targetId,_),u.qe.updateTargetData(h,_).next(function(){return u.qe.removeMatchingKeysForTargetId(h,o.targetId)}).next(function(){return u.qe.addMatchingKeys(h,t,o.targetId)}).next(function(){return u.Ke.saveNamedQuery(h,e)})})]}})})}var Kw=function(){function i(e){this.R=e,this.Qn=new Map,this.jn=new Map}return i.prototype.getBundleMetadata=function(e,t){return Ee.resolve(this.Qn.get(t))},i.prototype.saveBundleMetadata=function(e,t){var o;return this.Qn.set(t.id,{id:(o=t).id,version:o.version,createTime:Fn(o.createTime)}),Ee.resolve()},i.prototype.getNamedQuery=function(e,t){return Ee.resolve(this.jn.get(t))},i.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,{name:(o=t).name,query:rv(o.bundledQuery),readTime:Fn(o.readTime)}),Ee.resolve();var o},i}(),Cl=function(){function i(){this.Wn=new An(kn.Gn),this.zn=new An(kn.Hn)}return i.prototype.isEmpty=function(){return this.Wn.isEmpty()},i.prototype.addReference=function(e,t){var o=new kn(e,t);this.Wn=this.Wn.add(o),this.zn=this.zn.add(o)},i.prototype.Jn=function(e,t){var o=this;e.forEach(function(u){return o.addReference(u,t)})},i.prototype.removeReference=function(e,t){this.Yn(new kn(e,t))},i.prototype.Xn=function(e,t){var o=this;e.forEach(function(u){return o.removeReference(u,t)})},i.prototype.Zn=function(e){var t=this,o=new Ve(new St([])),u=new kn(o,e),f=new kn(o,e+1),h=[];return this.zn.forEachInRange([u,f],function(g){t.Yn(g),h.push(g.key)}),h},i.prototype.ts=function(){var e=this;this.Wn.forEach(function(t){return e.Yn(t)})},i.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},i.prototype.es=function(e){var t=new Ve(new St([])),o=new kn(t,e),u=new kn(t,e+1),f=Rt();return this.zn.forEachInRange([o,u],function(h){f=f.add(h.key)}),f},i.prototype.containsKey=function(e){var t=new kn(e,0),o=this.Wn.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)},i}(),kn=function(){function i(e,t){this.key=e,this.ns=t}return i.Gn=function(e,t){return Ve.comparator(e.key,t.key)||_t(e.ns,t.ns)},i.Hn=function(e,t){return _t(e.ns,t.ns)||Ve.comparator(e.key,t.key)},i}(),Qw=function(){function i(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new An(kn.Gn)}return i.prototype.checkEmpty=function(e){return Ee.resolve(0===this._n.length)},i.prototype.addMutationBatch=function(e,t,o,u){var f=this.ss;this.ss++;var h=new dp(f,t,o,u);this._n.push(h);for(var g=0,_=u;g<_.length;g++){var E=_[g];this.rs=this.rs.add(new kn(E.key,f)),this.Ut.addToCollectionParentIndex(e,E.key.path.popLast())}return Ee.resolve(h)},i.prototype.lookupMutationBatch=function(e,t){return Ee.resolve(this.os(t))},i.prototype.getNextMutationBatchAfterBatchId=function(e,t){var u=this.cs(t+1),f=u<0?0:u;return Ee.resolve(this._n.length>f?this._n[f]:null)},i.prototype.getHighestUnacknowledgedBatchId=function(){return Ee.resolve(0===this._n.length?-1:this.ss-1)},i.prototype.getAllMutationBatches=function(e){return Ee.resolve(this._n.slice())},i.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var o=this,u=new kn(t,0),f=new kn(t,Number.POSITIVE_INFINITY),h=[];return this.rs.forEachInRange([u,f],function(g){var _=o.os(g.ns);h.push(_)}),Ee.resolve(h)},i.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var o=this,u=new An(_t);return t.forEach(function(f){var h=new kn(f,0),g=new kn(f,Number.POSITIVE_INFINITY);o.rs.forEachInRange([h,g],function(_){u=u.add(_.ns)})}),Ee.resolve(this.us(u))},i.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var o=t.path,u=o.length+1,f=o;Ve.isDocumentKey(f)||(f=f.child(""));var h=new kn(new Ve(f),0),g=new An(_t);return this.rs.forEachWhile(function(_){var E=_.key.path;return!!o.isPrefixOf(E)&&(E.length===u&&(g=g.add(_.ns)),!0)},h),Ee.resolve(this.us(g))},i.prototype.us=function(e){var t=this,o=[];return e.forEach(function(u){var f=t.os(u);null!==f&&o.push(f)}),o},i.prototype.removeMutationBatch=function(e,t){var o=this;qe(0===this.hs(t.batchId,"removed")),this._n.shift();var u=this.rs;return Ee.forEach(t.mutations,function(f){var h=new kn(f.key,t.batchId);return u=u.delete(h),o.referenceDelegate.markPotentiallyOrphaned(e,f.key)}).next(function(){o.rs=u})},i.prototype.Gt=function(e){},i.prototype.containsKey=function(e,t){var o=new kn(t,0),u=this.rs.firstAfterOrEqual(o);return Ee.resolve(t.isEqual(u&&u.key))},i.prototype.performConsistencyCheck=function(e){return Ee.resolve()},i.prototype.hs=function(e,t){return this.cs(e)},i.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},i.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},i}(),vp=function(){function i(e,t){this.Ut=e,this.ls=t,this.docs=new er(Ve.comparator),this.size=0}return i.prototype.addEntry=function(e,t,o){var u=t.key,f=this.docs.get(u),h=f?f.size:0,g=this.ls(t);return this.docs=this.docs.insert(u,{document:t.clone(),size:g,readTime:o}),this.size+=g-h,this.Ut.addToCollectionParentIndex(e,u.path.popLast())},i.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},i.prototype.getEntry=function(e,t){var o=this.docs.get(t);return Ee.resolve(o?o.document.clone():Sn.newInvalidDocument(t))},i.prototype.getEntries=function(e,t){var o=this,u=si();return t.forEach(function(f){var h=o.docs.get(f);u=u.insert(f,h?h.document.clone():Sn.newInvalidDocument(f))}),Ee.resolve(u)},i.prototype.getDocumentsMatchingQuery=function(e,t,o){for(var u=si(),f=new Ve(t.path.child("")),h=this.docs.getIteratorFrom(f);h.hasNext();){var g=h.getNext(),E=g.value,C=E.document,T=E.readTime;if(!t.path.isPrefixOf(g.key.path))break;T.compareTo(o)<=0||dr(t,C)&&(u=u.insert(C.key,C.clone()))}return Ee.resolve(u)},i.prototype.fs=function(e,t){return Ee.forEach(this.docs,function(o){return t(o)})},i.prototype.newChangeBuffer=function(e){return new _p(this)},i.prototype.getSize=function(e){return Ee.resolve(this.size)},i}(),_p=function(i){function e(t){var o=this;return(o=i.call(this)||this).Ie=t,o}return(0,M.ZT)(e,i),e.prototype.applyChanges=function(t){var o=this,u=[];return this.changes.forEach(function(f,h){h.document.isValidDocument()?u.push(o.Ie.addEntry(t,h.document,o.getReadTime(f))):o.Ie.removeEntry(f)}),Ee.waitFor(u)},e.prototype.getFromCache=function(t,o){return this.Ie.getEntry(t,o)},e.prototype.getAllFromCache=function(t,o){return this.Ie.getEntries(t,o)},e}(Es),Cf=function(){function i(e){this.persistence=e,this.ds=new vl(function(t){return Yu(t)},of),this.lastRemoteSnapshotVersion=dt.min(),this.highestTargetId=0,this.ws=0,this._s=new Cl,this.targetCount=0,this.ys=Ef.Jt()}return i.prototype.forEachTarget=function(e,t){return this.ds.forEach(function(o,u){return t(u)}),Ee.resolve()},i.prototype.getLastRemoteSnapshotVersion=function(e){return Ee.resolve(this.lastRemoteSnapshotVersion)},i.prototype.getHighestSequenceNumber=function(e){return Ee.resolve(this.ws)},i.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),Ee.resolve(this.highestTargetId)},i.prototype.setTargetsMetadata=function(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.ws&&(this.ws=t),Ee.resolve()},i.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new Ef(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},i.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,Ee.resolve()},i.prototype.updateTargetData=function(e,t){return this.te(t),Ee.resolve()},i.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,Ee.resolve()},i.prototype.removeTargets=function(e,t,o){var u=this,f=0,h=[];return this.ds.forEach(function(g,_){_.sequenceNumber<=t&&null===o.get(_.targetId)&&(u.ds.delete(g),h.push(u.removeMatchingKeysForTargetId(e,_.targetId)),f++)}),Ee.waitFor(h).next(function(){return f})},i.prototype.getTargetCount=function(e){return Ee.resolve(this.targetCount)},i.prototype.getTargetData=function(e,t){var o=this.ds.get(t)||null;return Ee.resolve(o)},i.prototype.addMatchingKeys=function(e,t,o){return this._s.Jn(t,o),Ee.resolve()},i.prototype.removeMatchingKeys=function(e,t,o){this._s.Xn(t,o);var u=this.persistence.referenceDelegate,f=[];return u&&t.forEach(function(h){f.push(u.markPotentiallyOrphaned(e,h))}),Ee.waitFor(f)},i.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),Ee.resolve()},i.prototype.getMatchingKeysForTargetId=function(e,t){var o=this._s.es(t);return Ee.resolve(o)},i.prototype.containsKey=function(e,t){return Ee.resolve(this._s.containsKey(t))},i}(),AI=function(){function i(e,t){var o=this;this.gs={},this.Ne=new ri(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new Cf(this),this.Ut=new vI,this.Ue=new vp(this.Ut,function(h){return o.referenceDelegate.ps(h)}),this.R=new Nw(t),this.Ke=new Kw(this.R)}return i.prototype.start=function(){return Promise.resolve()},i.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(i.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),i.prototype.setDatabaseDeletedListener=function(){},i.prototype.setNetworkEnabled=function(){},i.prototype.getIndexManager=function(){return this.Ut},i.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new Qw(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},i.prototype.getTargetCache=function(){return this.qe},i.prototype.getRemoteDocumentCache=function(){return this.Ue},i.prototype.getBundleCache=function(){return this.Ke},i.prototype.runTransaction=function(e,t,o){var u=this;Ce("MemoryPersistence","Starting transaction:",e);var f=new MI(this.Ne.next());return this.referenceDelegate.Es(),o(f).next(function(h){return u.referenceDelegate.Ts(f).next(function(){return h})}).toPromise().then(function(h){return f.raiseOnCommittedEvent(),h})},i.prototype.Is=function(e,t){return Ee.or(Object.values(this.gs).map(function(o){return function(){return o.containsKey(e,t)}}))},i}(),MI=function(i){function e(t){var o=this;return(o=i.call(this)||this).currentSequenceNumber=t,o}return(0,M.ZT)(e,i),e}(Iw),jN=function(){function i(e){this.persistence=e,this.As=new Cl,this.Rs=null}return i.bs=function(e){return new i(e)},Object.defineProperty(i.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Le()},enumerable:!1,configurable:!0}),i.prototype.addReference=function(e,t,o){return this.As.addReference(o,t),this.vs.delete(o.toString()),Ee.resolve()},i.prototype.removeReference=function(e,t,o){return this.As.removeReference(o,t),this.vs.add(o.toString()),Ee.resolve()},i.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),Ee.resolve()},i.prototype.removeTarget=function(e,t){var o=this;this.As.Zn(t.targetId).forEach(function(f){return o.vs.add(f.toString())});var u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(e,t.targetId).next(function(f){f.forEach(function(h){return o.vs.add(h.toString())})}).next(function(){return u.removeTargetData(e,t)})},i.prototype.Es=function(){this.Rs=new Set},i.prototype.Ts=function(e){var t=this,o=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ee.forEach(this.vs,function(u){var f=Ve.fromPath(u);return t.Ps(e,f).next(function(h){h||o.removeEntry(f)})}).next(function(){return t.Rs=null,o.apply(e)})},i.prototype.updateLimboDocument=function(e,t){var o=this;return this.Ps(e,t).next(function(u){u?o.vs.delete(t.toString()):o.vs.add(t.toString())})},i.prototype.ps=function(e){return 0},i.prototype.Ps=function(e,t){var o=this;return Ee.or([function(){return Ee.resolve(o.As.containsKey(t))},function(){return o.persistence.getTargetCache().containsKey(e,t)},function(){return o.persistence.Is(e,t)}])},i}(),Gn=function(){function i(e){this.uid=e}return i.prototype.isAuthenticated=function(){return null!=this.uid},i.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},i.prototype.isEqual=function(e){return e.uid===this.uid},i}();function Yw(i,e){return"firestore_clients_"+i+"_"+e}function Zw(i,e,t){var o="firestore_mutations_"+i+"_"+t;return e.isAuthenticated()&&(o+="_"+e.uid),o}function gv(i,e){return"firestore_targets_"+i+"_"+e}Gn.UNAUTHENTICATED=new Gn(null),Gn.GOOGLE_CREDENTIALS=new Gn("google-credentials-uid"),Gn.FIRST_PARTY=new Gn("first-party-uid"),Gn.MOCK_USER=new Gn("mock-user");var Jw=function(){function i(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}return i.Vs=function(e,t,o){var u,f=JSON.parse(o),h="object"==typeof f&&-1!==["pending","acknowledged","rejected"].indexOf(f.state)&&(void 0===f.error||"object"==typeof f.error);return h&&f.error&&(h="string"==typeof f.error.message&&"string"==typeof f.error.code)&&(u=new ye(f.error.code,f.error.message)),h?new i(e,t,f.state,u):(vn("SharedClientState","Failed to parse mutation state for ID '"+t+"': "+o),null)},i.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},i}(),mv=function(){function i(e,t,o){this.targetId=e,this.state=t,this.error=o}return i.Vs=function(e,t){var o,u=JSON.parse(t),f="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return f&&u.error&&(f="string"==typeof u.error.message&&"string"==typeof u.error.code)&&(o=new ye(u.error.code,u.error.message)),f?new i(e,u.state,o):(vn("SharedClientState","Failed to parse target state for ID '"+e+"': "+t),null)},i.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},i}(),Xw=function(){function i(e,t){this.clientId=e,this.activeTargetIds=t}return i.Vs=function(e,t){for(var o=JSON.parse(t),u="object"==typeof o&&o.activeTargetIds instanceof Array,f=df(),h=0;u&&h<o.activeTargetIds.length;++h)u=Py(o.activeTargetIds[h]),f=f.add(o.activeTargetIds[h]);return u?new i(e,f):(vn("SharedClientState","Failed to parse client data for instance '"+e+"': "+t),null)},i}(),NI=function(){function i(e,t){this.clientId=e,this.onlineState=t}return i.Vs=function(e){var t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new i(t.clientId,t.onlineState):(vn("SharedClientState","Failed to parse online state: "+e),null)},i}(),yv=function(){function i(){this.activeTargetIds=df()}return i.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},i.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},i.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},i}(),eC=function(){function i(e,t,o,u,f){this.window=e,this.Se=t,this.persistenceKey=o,this.Ns=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new er(_t),this.started=!1,this.$s=[];var h=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.Os=Yw(this.persistenceKey,this.Ns),this.Ms="firestore_sequence_number_"+this.persistenceKey,this.Fs=this.Fs.insert(this.Ns,new yv),this.Ls=new RegExp("^firestore_clients_"+h+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+h+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+h+"_(\\d+)$"),this.Us="firestore_online_state_"+this.persistenceKey,this.Ks=function(g){return"firestore_bundle_loaded_"+g}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return i.yt=function(e){return!(!e||!e.localStorage)},i.prototype.start=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,u,f,h,g,_,E,C,I=this;return(0,M.Jh)(this,function(N){switch(N.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=N.sent(),t=0,o=e;t<o.length;t++)(u=o[t])!==this.Ns&&(f=this.getItem(Yw(this.persistenceKey,u)))&&(h=Xw.Vs(u,f))&&(this.Fs=this.Fs.insert(h.clientId,h));for(this.Qs(),(g=this.storage.getItem(this.Us))&&(_=this.js(g))&&this.Ws(_),E=0,C=this.$s;E<C.length;E++)this.ks(C[E]);return this.$s=[],this.window.addEventListener("pagehide",function(){return I.shutdown()}),this.started=!0,[2]}})})},i.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},i.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},i.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach(function(o,u){u.activeTargetIds.has(e)&&(t=!0)}),t},i.prototype.addPendingMutation=function(e){this.zs(e,"pending")},i.prototype.updateMutationState=function(e,t,o){this.zs(e,t,o),this.Hs(e)},i.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var o=this.storage.getItem(gv(this.persistenceKey,e));if(o){var u=mv.Vs(e,o);u&&(t=u.state)}}return this.Js.Ds(e),this.Qs(),t},i.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},i.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},i.prototype.clearQueryState=function(e){this.removeItem(gv(this.persistenceKey,e))},i.prototype.updateQueryState=function(e,t,o){this.Ys(e,t,o)},i.prototype.handleUserChange=function(e,t,o){var u=this;t.forEach(function(f){u.Hs(f)}),this.currentUser=e,o.forEach(function(f){u.addPendingMutation(f)})},i.prototype.setOnlineState=function(e){this.Xs(e)},i.prototype.notifyBundleLoaded=function(){this.Zs()},i.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},i.prototype.getItem=function(e){var t=this.storage.getItem(e);return Ce("SharedClientState","READ",e,t),t},i.prototype.setItem=function(e,t){Ce("SharedClientState","SET",e,t),this.storage.setItem(e,t)},i.prototype.removeItem=function(e){Ce("SharedClientState","REMOVE",e),this.storage.removeItem(e)},i.prototype.ks=function(e){var t=this,o=e;if(o.storageArea===this.storage){if(Ce("SharedClientState","EVENT",o.key,o.newValue),o.key===this.Os)return void vn("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,M.mG)(t,void 0,void 0,function(){var u,f,h,g,_,E;return(0,M.Jh)(this,function(C){if(this.started){if(null!==o.key)if(this.Ls.test(o.key)){if(null==o.newValue)return u=this.ti(o.key),[2,this.ei(u,null)];if(f=this.ni(o.key,o.newValue))return[2,this.ei(f.clientId,f)]}else if(this.Bs.test(o.key)){if(null!==o.newValue&&(h=this.si(o.key,o.newValue)))return[2,this.ii(h)]}else if(this.qs.test(o.key)){if(null!==o.newValue&&(g=this.ri(o.key,o.newValue)))return[2,this.oi(g)]}else if(o.key===this.Us){if(null!==o.newValue&&(_=this.js(o.newValue)))return[2,this.Ws(_)]}else if(o.key===this.Ms)(E=function(T){var I=ri.o;if(null!=T)try{var N=JSON.parse(T);qe("number"==typeof N),I=N}catch(P){vn("SharedClientState","Failed to read sequence number from WebStorage",P)}return I}(o.newValue))!==ri.o&&this.sequenceNumberHandler(E);else if(o.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(o);return[2]})})})}},Object.defineProperty(i.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),i.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},i.prototype.zs=function(e,t,o){var u=new Jw(this.currentUser,e,t,o),f=Zw(this.persistenceKey,this.currentUser,e);this.setItem(f,u.Ss())},i.prototype.Hs=function(e){var t=Zw(this.persistenceKey,this.currentUser,e);this.removeItem(t)},i.prototype.Xs=function(e){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:e}))},i.prototype.Ys=function(e,t,o){var u=gv(this.persistenceKey,e),f=new mv(e,t,o);this.setItem(u,f.Ss())},i.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},i.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},i.prototype.ni=function(e,t){var o=this.ti(e);return Xw.Vs(o,t)},i.prototype.si=function(e,t){var o=this.Bs.exec(e),u=Number(o[1]);return Jw.Vs(new Gn(void 0!==o[2]?o[2]:null),u,t)},i.prototype.ri=function(e,t){var o=this.qs.exec(e),u=Number(o[1]);return mv.Vs(u,t)},i.prototype.js=function(e){return NI.Vs(e)},i.prototype.ii=function(e){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(Ce("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])})})},i.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},i.prototype.ei=function(e,t){var o=this,u=t?this.Fs.insert(e,t):this.Fs.remove(e),f=this.Gs(this.Fs),h=this.Gs(u),g=[],_=[];return h.forEach(function(E){f.has(E)||g.push(E)}),f.forEach(function(E){h.has(E)||_.push(E)}),this.syncEngine.hi(g,_).then(function(){o.Fs=u})},i.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},i.prototype.Gs=function(e){var t=df();return e.forEach(function(o,u){t=t.unionWith(u.activeTargetIds)}),t},i}(),tC=function(){function i(){this.li=new yv,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return i.prototype.addPendingMutation=function(e){},i.prototype.updateMutationState=function(e,t,o){},i.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},i.prototype.updateQueryState=function(e,t,o){this.fi[e]=t},i.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},i.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},i.prototype.clearQueryState=function(e){delete this.fi[e]},i.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},i.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},i.prototype.start=function(){return this.li=new yv,Promise.resolve()},i.prototype.handleUserChange=function(e,t,o){},i.prototype.setOnlineState=function(e){},i.prototype.shutdown=function(){},i.prototype.writeSequenceNumber=function(e){},i.prototype.notifyBundleLoaded=function(){},i}(),Df=function(){function i(){}return i.prototype.di=function(e){},i.prototype.shutdown=function(){},i}(),nC=function(){function i(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return i.prototype.di=function(e){this.gi.push(e)},i.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},i.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},i.prototype._i=function(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},i.prototype.yi=function(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},i.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},i}(),RI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},OI=function(){function i(e){this.Ei=e.Ei,this.Ti=e.Ti}return i.prototype.Ii=function(e){this.Ai=e},i.prototype.Ri=function(e){this.bi=e},i.prototype.onMessage=function(e){this.vi=e},i.prototype.close=function(){this.Ti()},i.prototype.send=function(e){this.Ei(e)},i.prototype.Pi=function(){this.Ai()},i.prototype.Vi=function(e){this.bi(e)},i.prototype.Si=function(e){this.vi(e)},i}(),bp=function(i){function e(t){var o=this;return(o=i.call(this,t)||this).forceLongPolling=t.forceLongPolling,o.autoDetectLongPolling=t.autoDetectLongPolling,o.useFetchStreams=t.useFetchStreams,o}return(0,M.ZT)(e,i),e.prototype.Fi=function(t,o,u,f){return new Promise(function(h,g){var _=new FE;_.listenOnce(rI.COMPLETE,function(){try{switch(_.getLastErrorCode()){case Bh.NO_ERROR:var C=_.getResponseJson();Ce("Connection","XHR received:",JSON.stringify(C)),h(C);break;case Bh.TIMEOUT:Ce("Connection",'RPC "'+t+'" timed out'),g(new ye(te.DEADLINE_EXCEEDED,"Request time out"));break;case Bh.HTTP_ERROR:var T=_.getStatus();if(Ce("Connection",'RPC "'+t+'" failed with status:',T,"response text:",_.getResponseText()),T>0){var I=_.getResponseJson().error;if(I&&I.status&&I.message){var N=(j=I.status.toLowerCase().replace(/_/g,"-"),Object.values(te).indexOf(j)>=0?j:te.UNKNOWN);g(new ye(N,I.message))}else g(new ye(te.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ye(te.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{Ce("Connection",'RPC "'+t+'" completed.')}var j});var E=JSON.stringify(f);_.send(o,"POST",E,u,15)})},e.prototype.Oi=function(t,o){var u=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=new jh,h=ss(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new Gh({})),this.ki(g.initMessageHeaders,o),(0,Tt.uI)()||(0,Tt.b$)()||(0,Tt.d)()||(0,Tt.w1)()||(0,Tt.Mn)()||(0,Tt.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");var _=u.join("");Ce("Connection","Creating WebChannel: "+_,g);var E=f.createWebChannel(_,g),C=!1,T=!1,I=new OI({Ei:function(P){T?Ce("Connection","Not sending because WebChannel is closed:",P):(C||(Ce("Connection","Opening WebChannel transport."),E.open(),C=!0),Ce("Connection","WebChannel sending:",P),E.send(P))},Ti:function(){return E.close()}}),N=function(P,j,Q){P.listen(j,function(ce){try{Q(ce)}catch(_e){setTimeout(function(){throw _e},0)}})};return N(E,ma.EventType.OPEN,function(){T||Ce("Connection","WebChannel transport opened.")}),N(E,ma.EventType.CLOSE,function(){T||(T=!0,Ce("Connection","WebChannel transport closed"),I.Vi())}),N(E,ma.EventType.ERROR,function(P){T||(T=!0,qu("Connection","WebChannel transport errored:",P),I.Vi(new ye(te.UNAVAILABLE,"The operation could not be completed")))}),N(E,ma.EventType.MESSAGE,function(P){var j;if(!T){var Q=P.data[0];qe(!!Q);var _e=Q.error||(null===(j=Q[0])||void 0===j?void 0:j.error);if(_e){Ce("Connection","WebChannel received error:",_e);var we=_e.status,Re=function(ut){var It=_n[ut];if(void 0!==It)return sw(It)}(we),Ne=_e.message;void 0===Re&&(Re=te.INTERNAL,Ne="Unknown error status: "+we+" with message "+_e.message),T=!0,I.Vi(new ye(Re,Ne)),E.close()}else Ce("Connection","WebChannel received:",Q),I.Si(Q)}}),N(h,xE.STAT_EVENT,function(P){P.stat===Ay_PROXY?Ce("Connection","Detected buffering proxy"):P.stat===Ay_NOPROXY&&Ce("Connection","Detected no buffering proxy")}),setTimeout(function(){I.Pi()},0),I},e}(function(){function i(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Di=(e.ssl?"https":"http")+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return i.prototype.Ni=function(e,t,o,u){var f=this.xi(e,t);Ce("RestConnection","Sending: ",f,o);var h={};return this.ki(h,u),this.Fi(e,f,h,o).then(function(g){return Ce("RestConnection","Received: ",g),g},function(g){throw qu("RestConnection",e+" failed with error: ",g,"url: ",f,"request:",o),g})},i.prototype.$i=function(e,t,o,u){return this.Ni(e,t,o,u)},i.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.0",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var o in t.authHeaders)t.authHeaders.hasOwnProperty(o)&&(e[o]=t.authHeaders[o])},i.prototype.xi=function(e,t){return this.Di+"/v1/"+t+":"+RI[e]},i}());function Cs(){return"undefined"!=typeof window?window:null}function Tf(){return"undefined"!=typeof document?document:null}function Sf(i){return new gw(i,!0)}var rC=function(){function i(e,t,o,u,f){void 0===o&&(o=1e3),void 0===u&&(u=1.5),void 0===f&&(f=6e4),this.Se=e,this.timerId=t,this.Mi=o,this.Li=u,this.Bi=f,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return i.prototype.reset=function(){this.qi=0},i.prototype.Qi=function(){this.qi=this.Bi},i.prototype.ji=function(e){var t=this;this.cancel();var o=Math.floor(this.qi+this.Wi()),u=Math.max(0,Date.now()-this.Ki),f=Math.max(0,o-u);f>0&&Ce("ExponentialBackoff","Backing off for "+f+" ms (base delay: "+this.qi+" ms, delay with jitter: "+o+" ms, last attempt: "+u+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,f,function(){return t.Ki=Date.now(),e()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},i.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},i.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},i.prototype.Wi=function(){return(Math.random()-.5)*this.qi},i}(),iC=function(){function i(e,t,o,u,f,h){this.Se=e,this.zi=o,this.Hi=u,this.Ji=f,this.listener=h,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new rC(e,t)}return i.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},i.prototype.er=function(){return 2===this.state},i.prototype.start=function(){3!==this.state?this.auth():this.nr()},i.prototype.stop=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})},i.prototype.sr=function(){this.state=0,this.Zi.reset()},i.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return e.rr()}))},i.prototype.cr=function(e){this.ur(),this.stream.send(e)},i.prototype.rr=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return this.er()?[2,this.close(0)]:[2]})})},i.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},i.prototype.close=function(e,t){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(o){switch(o.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(vn(t.toString()),vn("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===te.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return o.sent(),[2]}})})},i.prototype.ar=function(){},i.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),o=this.Yi;this.Ji.getToken().then(function(u){e.Yi===o&&e.lr(u)},function(u){t(function(){var f=new ye(te.UNKNOWN,"Fetching auth token failed: "+u.message);return e.dr(f)})})},i.prototype.lr=function(e){var t=this,o=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii(function(){o(function(){return t.state=2,t.listener.Ii()})}),this.stream.Ri(function(u){o(function(){return t.dr(u)})}),this.stream.onMessage(function(u){o(function(){return t.onMessage(u)})})},i.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji(function(){return(0,M.mG)(e,void 0,void 0,function(){return(0,M.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},i.prototype.dr=function(e){return Ce("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},i.prototype.hr=function(e){var t=this;return function(o){t.Se.enqueueAndForget(function(){return t.Yi===e?o():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},i}(),Ep=function(i){function e(t,o,u,f,h){var g=this;return(g=i.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",o,u,h)||this).R=f,g}return(0,M.ZT)(e,i),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var o=function(f,h){var g,Q;if("targetChange"in h){var _="NO_CHANGE"===(Q=h.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===Q?1:"REMOVE"===Q?2:"CURRENT"===Q?3:"RESET"===Q?4:Le(),E=h.targetChange.targetIds||[],C=function(Q,ce){return Q.I?(qe(void 0===ce||"string"==typeof ce),Tn.fromBase64String(ce||"")):(qe(void 0===ce||ce instanceof Uint8Array),Tn.fromUint8Array(ce||new Uint8Array))}(f,h.targetChange.resumeToken),T=(I=h.targetChange.cause)&&function(Q){var ce=void 0===Q.code?te.UNKNOWN:sw(Q.code);return new ye(ce,Q.message||"")}(I);g=new dw(_,E,C,T||null)}else if("documentChange"in h){E=Gr(f,(_=h.documentChange).document.name),C=Fn(_.document.updateTime);var I=new Br({mapValue:{fields:_.document.fields}}),N=(T=Sn.newFoundDocument(E,C,I),_.targetIds||[]);g=new pf(N,_.removedTargetIds||[],T.key,T)}else if("documentDelete"in h)E=Gr(f,(_=h.documentDelete).document),C=_.readTime?Fn(_.readTime):dt.min(),I=Sn.newNoDocument(E,C),g=new pf([],T=_.removedTargetIds||[],I.key,I);else if("documentRemove"in h)E=Gr(f,(_=h.documentRemove).document),g=new pf([],C=_.removedTargetIds||[],E,null);else{if(!("filter"in h))return Le();var j=h.filter;E=new uI(_=j.count||0),g=new ms(C=j.targetId,E)}return g}(this.R,t),u=function(f){if(!("targetChange"in f))return dt.min();var h=f.targetChange;return h.targetIds&&h.targetIds.length?dt.min():h.readTime?Fn(h.readTime):dt.min()}(t);return this.listener._r(o,u)},e.prototype.mr=function(t){var f,h,g,_,o={};o.database=cp(this.R),o.addTarget=(f=this.R,(g=sf(_=(h=t).target)?{documents:Yy(f,_)}:{query:Zy(f,_)}).targetId=h.targetId,h.resumeToken.approximateByteSize()>0?g.resumeToken=Ge(f,h.resumeToken):h.snapshotVersion.compareTo(dt.min())>0&&(g.readTime=lp(f,h.snapshotVersion.toTimestamp())),g);var u=function(f,h){var g=function(_,E){switch(E){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Le()}}(0,h.purpose);return null==g?null:{"goog-listen-tags":g}}(0,t);u&&(o.labels=u),this.cr(o)},e.prototype.yr=function(t){var o={};o.database=cp(this.R),o.removeTarget=t,this.cr(o)},e}(iC),PI=function(i){function e(t,o,u,f,h){var g=this;return(g=i.call(this,t,"write_stream_connection_backoff","write_stream_idle",o,u,h)||this).R=f,g.gr=!1,g}return(0,M.ZT)(e,i),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,i.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(qe(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var o=(h=t.commitTime,(f=t.writeResults)&&f.length>0?(qe(void 0!==h),f.map(function(g){return E=h,(C=Fn((_=g).updateTime?_.updateTime:E)).isEqual(dt.min())&&(C=Fn(E)),new Gy(C,_.transformResults||[]);var _,E,C})):[]),u=Fn(t.commitTime);return this.listener.Tr(u,o)}var f,h;return qe(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=cp(this.R),this.cr(t)},e.prototype.Er=function(t){var o=this,u={streamToken:this.lastStreamToken,writes:t.map(function(f){return yf(o.R,f)})};this.cr(u)},e}(iC),xI=function(i){function e(t,o,u){var f=this;return(f=i.call(this)||this).credentials=t,f.Hi=o,f.R=u,f.Rr=!1,f}return(0,M.ZT)(e,i),e.prototype.br=function(){if(this.Rr)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,o,u){var f=this;return this.br(),this.credentials.getToken().then(function(h){return f.Hi.Ni(t,o,u,h)}).catch(function(h){throw"FirebaseError"===h.name?(h.code===te.UNAUTHENTICATED&&f.credentials.invalidateToken(),h):new ye(te.UNKNOWN,h.toString())})},e.prototype.$i=function(t,o,u){var f=this;return this.br(),this.credentials.getToken().then(function(h){return f.Hi.$i(t,o,u,h)}).catch(function(h){throw"FirebaseError"===h.name?(h.code===te.UNAUTHENTICATED&&f.credentials.invalidateToken(),h):new ye(te.UNKNOWN,h.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),oC=function(){function i(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return i.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()}))},i.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},i.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},i.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},i.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(vn(t),this.Vr=!1):Ce("OnlineStateTracker",t)},i.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},i}(),sC=function(i,e,t,o,u){var f=this;this.localStore=i,this.datastore=e,this.asyncQueue=t,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=u,this.Lr.di(function(h){t.enqueueAndForget(function(){return(0,M.mG)(f,void 0,void 0,function(){return(0,M.Jh)(this,function(g){switch(g.label){case 0:return Ri(this)?(Ce("RemoteStore","Restarting streams for network reachability change."),[4,function(_){return(0,M.mG)(this,void 0,void 0,function(){var E;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return(E=Te(_)).Or.add(4),[4,Sa(E)];case 1:return C.sent(),E.Br.set("Unknown"),E.Or.delete(4),[4,Ta(E)];case 2:return C.sent(),[2]}})})}(this)]):[3,2];case 1:g.sent(),g.label=2;case 2:return[2]}})})})}),this.Br=new oC(t,o)};function Ta(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:if(!Ri(i))return[3,4];e=0,t=i.Mr,o.label=1;case 1:return e<t.length?[4,(0,t[e])(!0)]:[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Sa(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:e=0,t=i.Mr,o.label=1;case 1:return e<t.length?[4,(0,t[e])(!1)]:[3,4];case 2:o.sent(),o.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function If(i,e){var t=Te(i);t.$r.has(e.targetId)||(t.$r.set(e.targetId,e),wp(t)?bv(t):Ma(t).er()&&vv(t,e))}function Af(i,e){var t=Te(i),o=Ma(t);t.$r.delete(e),o.er()&&_v(t,e),0===t.$r.size&&(o.er()?o.ir():Ri(t)&&t.Br.set("Unknown"))}function vv(i,e){i.qr.U(e.targetId),Ma(i).mr(e)}function _v(i,e){i.qr.U(e),Ma(i).yr(e)}function bv(i){i.qr=new il({getRemoteKeysForTarget:function(e){return i.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return i.$r.get(e)||null}}),Ma(i).start(),i.Br.Sr()}function wp(i){return Ri(i)&&!Ma(i).tr()&&i.$r.size>0}function Ri(i){return 0===Te(i).Or.size}function Mf(i){i.qr=void 0}function BN(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return i.$r.forEach(function(t,o){vv(i,t)}),[2]})})}function Nf(i,e){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(t){return Mf(i),wp(i)?(i.Br.Nr(e),bv(i)):i.Br.set("Unknown"),[2]})})}function Ot(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u,f;return(0,M.Jh)(this,function(h){switch(h.label){case 0:if(i.Br.set("Online"),!(e instanceof dw&&2===e.state&&e.cause))return[3,6];h.label=1;case 1:return h.trys.push([1,3,,5]),[4,function(g,_){return(0,M.mG)(this,void 0,void 0,function(){var E,C,T,I;return(0,M.Jh)(this,function(N){switch(N.label){case 0:E=_.cause,C=0,T=_.targetIds,N.label=1;case 1:return C<T.length?g.$r.has(I=T[C])?[4,g.remoteSyncer.rejectListen(I,E)]:[3,3]:[3,5];case 2:N.sent(),g.$r.delete(I),g.qr.removeTarget(I),N.label=3;case 3:N.label=4;case 4:return C++,[3,1];case 5:return[2]}})})}(i,e)];case 2:return h.sent(),[3,5];case 3:return o=h.sent(),Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),[4,Oi(i,o)];case 4:return h.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof pf?i.qr.X(e):e instanceof ms?i.qr.rt(e):i.qr.et(e),t.isEqual(dt.min()))return[3,13];h.label=7;case 7:return h.trys.push([7,11,,13]),[4,mp(i.localStore)];case 8:return u=h.sent(),t.compareTo(u)>=0?[4,(g=i,_=t,E=g.qr.ut(_),E.targetChanges.forEach(function(C,T){if(C.resumeToken.approximateByteSize()>0){var I=g.$r.get(T);I&&g.$r.set(T,I.withResumeToken(C.resumeToken,_))}}),E.targetMismatches.forEach(function(C){var T=g.$r.get(C);if(T){g.$r.set(C,T.withResumeToken(Tn.EMPTY_BYTE_STRING,T.snapshotVersion)),_v(g,C);var I=new hl(T.target,C,1,T.sequenceNumber);vv(g,I)}}),g.remoteSyncer.applyRemoteEvent(E))]:[3,10];case 9:h.sent(),h.label=10;case 10:return[3,13];case 11:return Ce("RemoteStore","Failed to raise snapshot:",f=h.sent()),[4,Oi(i,f)];case 12:return h.sent(),[3,13];case 13:return[2]}var g,_,E})})}function Oi(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o=this;return(0,M.Jh)(this,function(u){switch(u.label){case 0:if(!wa(e))throw e;return i.Or.add(1),[4,Sa(i)];case 1:return u.sent(),i.Br.set("Offline"),t||(t=function(){return mp(i.localStore)}),i.asyncQueue.enqueueRetryable(function(){return(0,M.mG)(o,void 0,void 0,function(){return(0,M.Jh)(this,function(f){switch(f.label){case 0:return Ce("RemoteStore","Retrying IndexedDB access"),[4,t()];case 1:return f.sent(),i.Or.delete(1),[4,Ta(i)];case 2:return f.sent(),[2]}})})}),[2]}})})}function Ia(i,e){return e().catch(function(t){return Oi(i,t,e)})}function ao(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,u,f;return(0,M.Jh)(this,function(h){switch(h.label){case 0:e=Te(i),t=Na(e),o=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,h.label=1;case 1:if(!(Ri(g=e)&&g.Fr.length<10))return[3,7];h.label=2;case 2:return h.trys.push([2,4,,6]),[4,UN(e.localStore,o)];case 3:return null===(u=h.sent())?(0===e.Fr.length&&t.ir(),[3,7]):(o=u.batchId,function(g,_){g.Fr.push(_);var E=Na(g);E.er()&&E.pr&&E.Er(_.mutations)}(e,u),[3,6]);case 4:return f=h.sent(),[4,Oi(e,f)];case 5:return h.sent(),[3,6];case 6:return[3,1];case 7:return FI(e)&&tt(e),[2]}var g})})}function FI(i){return Ri(i)&&!Na(i).tr()&&i.Fr.length>0}function tt(i){Na(i).start()}function li(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return Na(i).Ar(),[2]})})}function Ev(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o;return(0,M.Jh)(this,function(f){for(e=Na(i),t=0,o=i.Fr;t<o.length;t++)e.Er(o[t].mutations);return[2]})})}function Aa(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return o=i.Fr.shift(),u=mI.from(o,e,t),[4,Ia(i,function(){return i.remoteSyncer.applySuccessfulWrite(u)})];case 1:return f.sent(),[4,ao(i)];case 2:return f.sent(),[2]}})})}function GN(i,e){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(t){switch(t.label){case 0:return e&&Na(i).pr?[4,function(o,u){return(0,M.mG)(this,void 0,void 0,function(){var f,h;return(0,M.Jh)(this,function(g){switch(g.label){case 0:return ow(h=u.code)&&h!==te.ABORTED?(f=o.Fr.shift(),Na(o).sr(),[4,Ia(o,function(){return o.remoteSyncer.rejectFailedWrite(f.batchId,u)})]):[3,3];case 1:return g.sent(),[4,ao(o)];case 2:g.sent(),g.label=3;case 3:return[2]}})})}(i,e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return FI(i)&&tt(i),[2]}})})}function Cp(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return t=Te(i),e?(t.Or.delete(2),[4,Ta(t)]):[3,2];case 1:return o.sent(),[3,5];case 2:return e?[3,4]:(t.Or.add(2),[4,Sa(t)]);case 3:o.sent(),t.Br.set("Unknown"),o.label=4;case 4:o.label=5;case 5:return[2]}})})}function Ma(i){var t,o,u,f,e=this;return i.Ur||(i.Ur=(t=i.datastore,o=i.asyncQueue,u={Ii:BN.bind(null,i),Ri:Nf.bind(null,i),_r:Ot.bind(null,i)},(f=Te(t)).br(),new Ep(o,f.Hi,f.credentials,f.R,u)),i.Mr.push(function(t){return(0,M.mG)(e,void 0,void 0,function(){return(0,M.Jh)(this,function(o){switch(o.label){case 0:return t?(i.Ur.sr(),wp(i)?bv(i):i.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,i.Ur.stop()];case 2:o.sent(),Mf(i),o.label=3;case 3:return[2]}})})})),i.Ur}function Na(i){var t,o,u,f,e=this;return i.Kr||(i.Kr=(t=i.datastore,o=i.asyncQueue,u={Ii:li.bind(null,i),Ri:GN.bind(null,i),Ir:Ev.bind(null,i),Tr:Aa.bind(null,i)},(f=Te(t)).br(),new PI(o,f.Hi,f.credentials,f.R,u)),i.Mr.push(function(t){return(0,M.mG)(e,void 0,void 0,function(){return(0,M.Jh)(this,function(o){switch(o.label){case 0:return t?(i.Kr.sr(),[4,ao(i)]):[3,2];case 1:return o.sent(),[3,4];case 2:return[4,i.Kr.stop()];case 3:o.sent(),i.Fr.length>0&&(Ce("RemoteStore","Stopping write stream with "+i.Fr.length+" pending writes"),i.Fr=[]),o.label=4;case 4:return[2]}})})})),i.Kr}var kI=function(){function i(e,t,o,u,f){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new rr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(h){})}return i.createAndSchedule=function(e,t,o,u,f){var h=new i(e,t,Date.now()+o,u,f);return h.start(o),h},i.prototype.start=function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)},i.prototype.skipDelay=function(){return this.handleDelayElapsed()},i.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ye(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},i.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})},i.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},i}();function Dl(i,e){if(vn("AsyncQueue",e+": "+i),wa(i))return new ye(te.UNAVAILABLE,e+": "+i);throw i}var $r=function(){function i(e){this.comparator=e?function(t,o){return e(t,o)||Ve.comparator(t.key,o.key)}:function(t,o){return Ve.comparator(t.key,o.key)},this.keyedMap=sp(),this.sortedSet=new er(this.comparator)}return i.emptySet=function(e){return new i(e.comparator)},i.prototype.has=function(e){return null!=this.keyedMap.get(e)},i.prototype.get=function(e){return this.keyedMap.get(e)},i.prototype.first=function(){return this.sortedSet.minKey()},i.prototype.last=function(){return this.sortedSet.maxKey()},i.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},i.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(i.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(e){this.sortedSet.inorderTraversal(function(t,o){return e(t),!1})},i.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},i.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},i.prototype.isEqual=function(e){if(!(e instanceof i)||this.size!==e.size)return!1;for(var t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();t.hasNext();){var u=t.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0},i.prototype.toString=function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},i.prototype.copy=function(e,t){var o=new i;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o},i}(),qt=function(){function i(){this.Qr=new er(Ve.comparator)}return i.prototype.track=function(e){var t=e.doc.key,o=this.Qr.get(t);o?0!==e.type&&3===o.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==o.type?this.Qr=this.Qr.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Qr=this.Qr.remove(t):1===e.type&&2===o.type?this.Qr=this.Qr.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Le():this.Qr=this.Qr.insert(t,e)},i.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal(function(t,o){e.push(o)}),e},i}(),Or=function(){function i(e,t,o,u,f,h,g,_){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=h,this.syncStateChanged=g,this.excludesMetadataChanges=_}return i.fromInitialDocuments=function(e,t,o,u){var f=[];return t.forEach(function(h){f.push({type:0,doc:h})}),new i(e,t,$r.emptySet(t),f,o,u,!0,!1)},Object.defineProperty(i.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(var u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0},i}(),aC=function(){this.Wr=void 0,this.listeners=[]},LI=function(){this.queries=new vl(function(i){return KE(i)},uf),this.onlineState="Unknown",this.Gr=new Set};function Dp(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u,f,h,g,_;return(0,M.Jh)(this,function(E){switch(E.label){case 0:if(t=Te(i),u=!1,(f=t.queries.get(o=e.query))||(u=!0,f=new aC),!u)return[3,4];E.label=1;case 1:return E.trys.push([1,3,,4]),h=f,[4,t.onListen(o)];case 2:return h.Wr=E.sent(),[3,4];case 3:return g=E.sent(),_=Dl(g,"Initialization of query '"+ii(e.query)+"' failed"),[2,void e.onError(_)];case 4:return t.queries.set(o,f),f.listeners.push(e),e.zr(t.onlineState),f.Wr&&e.Hr(f.Wr)&&wv(t),[2]}})})}function Rf(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u,f,h;return(0,M.Jh)(this,function(g){return t=Te(i),u=!1,(f=t.queries.get(o=e.query))&&(h=f.listeners.indexOf(e))>=0&&(f.listeners.splice(h,1),u=0===f.listeners.length),u?[2,(t.queries.delete(o),t.onUnlisten(o))]:[2]})})}function Tl(i,e){for(var t=Te(i),o=!1,u=0,f=e;u<f.length;u++){var h=f[u],_=t.queries.get(h.query);if(_){for(var E=0,C=_.listeners;E<C.length;E++)C[E].Hr(h)&&(o=!0);_.Wr=h}}o&&wv(t)}function Of(i,e,t){var o=Te(i),u=o.queries.get(e);if(u)for(var f=0,h=u.listeners;f<h.length;f++)h[f].onError(t);o.queries.delete(e)}function wv(i){i.Gr.forEach(function(e){e.next()})}var xo=function(){function i(e,t,o){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=o||{}}return i.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],o=0,u=e.docChanges;o<u.length;o++){var f=u[o];3!==f.type&&t.push(f)}e=new Or(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var h=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),h=!0):this.eo(e,this.onlineState)&&(this.no(e),h=!0),this.Xr=e,h},i.prototype.onError=function(e){this.Jr.error(e)},i.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},i.prototype.eo=function(e,t){return!e.fromCache||!(this.options.so&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)},i.prototype.Zr=function(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges},i.prototype.no=function(e){e=Or.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},i}(),VI=function(){function i(e,t){this.payload=e,this.byteLength=t}return i.prototype.io=function(){return"metadata"in this.payload},i}(),Cv=function(){function i(e){this.R=e}return i.prototype.qn=function(e){return Gr(this.R,e)},i.prototype.Un=function(e){return e.metadata.exists?mw(this.R,e.document,!1):Sn.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},i.prototype.Kn=function(e){return Fn(e)},i}();!function(){function i(e,t,o){this.ro=e,this.localStore=t,this.R=o,this.queries=[],this.documents=[],this.progress=function(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}(e)}i.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},i.prototype.co=function(e){for(var t=new Map,o=new Cv(this.R),u=0,f=e;u<f.length;u++){var h=f[u];if(h.metadata.queries)for(var g=o.qn(h.metadata.name),_=0,E=h.metadata.queries;_<E.length;_++){var C=E[_],T=(t.get(C)||Rt()).add(g);t.set(C,T)}}return t},i.prototype.complete=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,u,f;return(0,M.Jh)(this,function(h){switch(h.label){case 0:return[4,SI(this.localStore,new Cv(this.R),this.documents,this.ro.id)];case 1:e=h.sent(),t=this.co(this.documents),o=0,u=this.queries,h.label=2;case 2:return o<u.length?[4,II(this.localStore,f=u[o],t.get(f.name))]:[3,5];case 3:h.sent(),h.label=4;case 4:return o++,[3,2];case 5:return[2,(this.progress.taskState="Success",new DI(Object.assign({},this.progress),e))]}})})}}();var Tp=function(i){this.key=i},Tv=function(i){this.key=i},Ra=function(){function i(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=Rt(),this.mutatedKeys=Rt(),this.lo=oi(e),this.fo=new $r(this.lo)}return Object.defineProperty(i.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),i.prototype._o=function(e,t){var o=this,u=t?t.mo:new qt,f=t?t.fo:this.fo,h=t?t.mutatedKeys:this.mutatedKeys,g=f,_=!1,E=tp(this.query)&&f.size===this.query.limit?f.last():null,C=af(this.query)&&f.size===this.query.limit?f.first():null;if(e.inorderTraversal(function(I,N){var P=f.get(I),j=dr(o.query,N)?N:null,Q=!!P&&o.mutatedKeys.has(P.key),ce=!!j&&(j.hasLocalMutations||o.mutatedKeys.has(j.key)&&j.hasCommittedMutations),_e=!1;P&&j?P.data.isEqual(j.data)?Q!==ce&&(u.track({type:3,doc:j}),_e=!0):o.yo(P,j)||(u.track({type:2,doc:j}),_e=!0,(E&&o.lo(j,E)>0||C&&o.lo(j,C)<0)&&(_=!0)):!P&&j?(u.track({type:0,doc:j}),_e=!0):P&&!j&&(u.track({type:1,doc:P}),_e=!0,(E||C)&&(_=!0)),_e&&(j?(g=g.add(j),h=ce?h.add(I):h.delete(I)):(g=g.delete(I),h=h.delete(I)))}),tp(this.query)||af(this.query))for(;g.size>this.query.limit;){var T=tp(this.query)?g.last():g.first();g=g.delete(T.key),h=h.delete(T.key),u.track({type:1,doc:T})}return{fo:g,mo:u,Nn:_,mutatedKeys:h}},i.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},i.prototype.applyChanges=function(e,t,o){var u=this,f=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var h=e.mo.jr();h.sort(function(C,T){return N=T.type,(P=function(j){switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}})(C.type)-P(N)||u.lo(C.doc,T.doc);var N,P}),this.po(o);var g=t?this.Eo():[],_=0===this.ho.size&&this.current?1:0,E=_!==this.ao;return this.ao=_,0!==h.length||E?{snapshot:new Or(this.query,e.fo,f,h,e.mutatedKeys,0===_,E,!1),To:g}:{To:g}},i.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new qt,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},i.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},i.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach(function(o){return t.uo=t.uo.add(o)}),e.modifiedDocuments.forEach(function(o){}),e.removedDocuments.forEach(function(o){return t.uo=t.uo.delete(o)}),this.current=e.current)},i.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=Rt(),this.fo.forEach(function(u){e.Io(u.key)&&(e.ho=e.ho.add(u.key))});var o=[];return t.forEach(function(u){e.ho.has(u)||o.push(new Tv(u))}),this.ho.forEach(function(u){t.has(u)||o.push(new Tp(u))}),o},i.prototype.Ao=function(e){this.uo=e.Bn,this.ho=Rt();var t=this._o(e.documents);return this.applyChanges(t,!0)},i.prototype.Ro=function(){return Or.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},i}(),UI=function(i,e,t){this.query=i,this.targetId=e,this.view=t},Sp=function(i){this.key=i,this.bo=!1},uC=function(){function i(e,t,o,u,f,h){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=h,this.vo={},this.Po=new vl(function(g){return KE(g)},uf),this.Vo=new Map,this.So=new Set,this.Do=new er(Ve.comparator),this.Co=new Map,this.No=new Cl,this.xo={},this.ko=new Map,this.Fo=Ef.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(i.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),i}();function lC(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,u,f,h,g;return(0,M.Jh)(this,function(_){switch(_.label){case 0:return t=Nv(i),(f=t.Po.get(e))?(t.sharedClientState.addLocalQueryTarget(f.targetId),u=f.view.Ro(),[3,4]):[3,1];case 1:return[4,El(t.localStore,Mr(e))];case 2:return h=_.sent(),g=t.sharedClientState.addLocalQueryTarget(h.targetId),[4,Ip(t,e,h.targetId,"current"===g)];case 3:u=_.sent(),t.isPrimaryClient&&If(t.remoteStore,h),_.label=4;case 4:return[2,u]}})})}function Ip(i,e,t,o){return(0,M.mG)(this,void 0,void 0,function(){var u,f,h,g,_,E;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return i.Oo=function(T,I,N){return function(P,j,Q,ce){return(0,M.mG)(this,void 0,void 0,function(){var _e,we,Re;return(0,M.Jh)(this,function(Ne){switch(Ne.label){case 0:return(_e=j.view._o(Q)).Nn?[4,yp(P.localStore,j.query,!1).then(function(ut){return j.view._o(ut.documents,_e)})]:[3,2];case 1:_e=Ne.sent(),Ne.label=2;case 2:return we=ce&&ce.targetChanges.get(j.targetId),Re=j.view.applyChanges(_e,P.isPrimaryClient,we),[2,(fC(P,j.targetId,Re.To),Re.snapshot)]}})})}(i,T,I,N)},[4,yp(i.localStore,e,!0)];case 1:return u=C.sent(),f=new Ra(e,u.Bn),h=f._o(u.documents),g=hf.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),_=f.applyChanges(h,i.isPrimaryClient,g),fC(i,t,_.To),E=new UI(e,t,f),[2,(i.Po.set(e,E),i.Vo.has(t)?i.Vo.get(t).push(e):i.Vo.set(t,[e]),_.snapshot)]}})})}function Ap(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return t=Te(i),o=t.Po.get(e),(u=t.Vo.get(o.targetId)).length>1?[2,(t.Vo.set(o.targetId,u.filter(function(h){return!uf(h,e)})),void t.Po.delete(e))]:t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)?[3,2]:[4,wl(t.localStore,o.targetId,!1).then(function(){t.sharedClientState.clearQueryState(o.targetId),Af(t.remoteStore,o.targetId),Il(t,o.targetId)}).catch(Da)]):[3,3];case 1:f.sent(),f.label=2;case 2:return[3,5];case 3:return Il(t,o.targetId),[4,wl(t.localStore,o.targetId,!0)];case 4:f.sent(),f.label=5;case 5:return[2]}})})}function jI(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u,f,h;return(0,M.Jh)(this,function(g){switch(g.label){case 0:o=Rp(i),g.label=1;case 1:return g.trys.push([1,5,,6]),[4,(_=o.localStore,E=e,T=Te(_),I=Ir.now(),N=E.reduce(function(P,j){return P.add(j.key)},Rt()),T.persistence.runTransaction("Locally write mutations","readwrite",function(P){return T.Mn.pn(P,N).next(function(j){C=j;for(var Q=[],ce=0,_e=E;ce<_e.length;ce++){var we=_e[ce],Re=tw(we,C.get(we.key));null!=Re&&Q.push(new ps(we.key,Re,Xh(Re.value.mapValue),xn.exists(!0)))}return T._n.addMutationBatch(P,I,Q,E)})}).then(function(P){return P.applyToLocalDocumentSet(C),{batchId:P.batchId,changes:C}}))];case 2:return u=g.sent(),o.sharedClientState.addPendingMutation(u.batchId),function(_,E,C){var T=_.xo[_.currentUser.toKey()];T||(T=new er(_t)),T=T.insert(E,C),_.xo[_.currentUser.toKey()]=T}(o,u.batchId,t),[4,zt(o,u.changes)];case 3:return g.sent(),[4,ao(o.remoteStore)];case 4:return g.sent(),[3,6];case 5:return f=g.sent(),h=Dl(f,"Failed to persist write"),t.reject(h),[3,6];case 6:return[2]}var _,E,C,T,I,N})})}function Mp(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o;return(0,M.Jh)(this,function(u){switch(u.label){case 0:t=Te(i),u.label=1;case 1:return u.trys.push([1,4,,6]),[4,qw(t.localStore,e)];case 2:return o=u.sent(),e.targetChanges.forEach(function(f,h){var g=t.Co.get(h);g&&(qe(f.addedDocuments.size+f.modifiedDocuments.size+f.removedDocuments.size<=1),f.addedDocuments.size>0?g.bo=!0:f.modifiedDocuments.size>0?qe(g.bo):f.removedDocuments.size>0&&(qe(g.bo),g.bo=!1))}),[4,zt(t,o,e)];case 3:return u.sent(),[3,6];case 4:return[4,Da(u.sent())];case 5:return u.sent(),[3,6];case 6:return[2]}})})}function Np(i,e,t){var o=Te(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){var u=[];o.Po.forEach(function(f,h){var g=h.view.zr(e);g.snapshot&&u.push(g.snapshot)}),function(f,h){var g=Te(f);g.onlineState=h;var _=!1;g.queries.forEach(function(E,C){for(var T=0,I=C.listeners;T<I.length;T++)I[T].zr(h)&&(_=!0)}),_&&wv(g)}(o.eventManager,e),u.length&&o.vo._r(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function HN(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u,f,h,g,_;return(0,M.Jh)(this,function(E){switch(E.label){case 0:return(o=Te(i)).sharedClientState.updateQueryState(e,"rejected",t),u=o.Co.get(e),(f=u&&u.key)?(h=(h=new er(Ve.comparator)).insert(f,Sn.newNoDocument(f,dt.min())),g=Rt().add(f),_=new ap(dt.min(),new Map,new An(_t),h,g),[4,Mp(o,_)]):[3,2];case 1:return E.sent(),o.Do=o.Do.remove(f),o.Co.delete(e),Iv(o),[3,4];case 2:return[4,wl(o.localStore,e,!1).then(function(){return Il(o,e,t)}).catch(Da)];case 3:E.sent(),E.label=4;case 4:return[2]}})})}function $N(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u;return(0,M.Jh)(this,function(f){switch(f.label){case 0:t=Te(i),o=e.batch.batchId,f.label=1;case 1:return f.trys.push([1,4,,6]),[4,$w(t.localStore,e)];case 2:return u=f.sent(),Sv(t,o,null),Oa(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),[4,zt(t,u)];case 3:return f.sent(),[3,6];case 4:return[4,Da(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}})})}function nt(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u;return(0,M.Jh)(this,function(f){switch(f.label){case 0:o=Te(i),f.label=1;case 1:return f.trys.push([1,4,,6]),[4,(h=o.localStore,g=e,_=Te(h),_.persistence.runTransaction("Reject batch","readwrite-primary",function(E){var C;return _._n.lookupMutationBatch(E,g).next(function(T){return qe(null!==T),C=T.keys(),_._n.removeMutationBatch(E,T)}).next(function(){return _._n.performConsistencyCheck(E)}).next(function(){return _.Mn.pn(E,C)})}))];case 2:return u=f.sent(),Sv(o,e,t),Oa(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),[4,zt(o,u)];case 3:return f.sent(),[3,6];case 4:return[4,Da(f.sent())];case 5:return f.sent(),[3,6];case 6:return[2]}var h,g,_})})}function qN(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u,f,h;return(0,M.Jh)(this,function(g){switch(g.label){case 0:Ri((t=Te(i)).remoteStore)||Ce("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),g.label=1;case 1:return g.trys.push([1,3,,4]),[4,(_=t.localStore,E=Te(_),E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(C){return E._n.getHighestUnacknowledgedBatchId(C)}))];case 2:return-1===(o=g.sent())?[2,void e.resolve()]:((u=t.ko.get(o)||[]).push(e),t.ko.set(o,u),[3,4]);case 3:return f=g.sent(),h=Dl(f,"Initialization of waitForPendingWrites() operation failed"),e.reject(h),[3,4];case 4:return[2]}var _,E})})}function Oa(i,e){(i.ko.get(e)||[]).forEach(function(t){t.resolve()}),i.ko.delete(e)}function Sv(i,e,t){var o=Te(i),u=o.xo[o.currentUser.toKey()];if(u){var f=u.get(e);f&&(t?f.reject(t):f.resolve(),u=u.remove(e)),o.xo[o.currentUser.toKey()]=u}}function Il(i,e,t){void 0===t&&(t=null),i.sharedClientState.removeLocalQueryTarget(e);for(var o=0,u=i.Vo.get(e);o<u.length;o++){var f=u[o];i.Po.delete(f),t&&i.vo.Mo(f,t)}i.Vo.delete(e),i.isPrimaryClient&&i.No.Zn(e).forEach(function(h){i.No.containsKey(h)||cC(i,h)})}function cC(i,e){i.So.delete(e.path.canonicalString());var t=i.Do.get(e);null!==t&&(Af(i.remoteStore,t),i.Do=i.Do.remove(e),i.Co.delete(t),Iv(i))}function fC(i,e,t){for(var o=0,u=t;o<u.length;o++){var f=u[o];f instanceof Tp?(i.No.addReference(f.key,e),zN(i,f)):f instanceof Tv?(Ce("SyncEngine","Document no longer in limbo: "+f.key),i.No.removeReference(f.key,e),i.No.containsKey(f.key)||cC(i,f.key)):Le()}}function zN(i,e){var t=e.key,o=t.path.canonicalString();i.Do.get(t)||i.So.has(o)||(Ce("SyncEngine","New document in limbo: "+t),i.So.add(o),Iv(i))}function Iv(i){for(;i.So.size>0&&i.Do.size<i.maxConcurrentLimboResolutions;){var e=i.So.values().next().value;i.So.delete(e);var t=new Ve(St.fromString(e)),o=i.Fo.next();i.Co.set(o,new Sp(t)),i.Do=i.Do.insert(t,o),If(i.remoteStore,new hl(Mr(Xu(t.path)),o,2,ri.o))}}function zt(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u,f,h;return(0,M.Jh)(this,function(g){switch(g.label){case 0:return o=Te(i),u=[],f=[],h=[],o.Po.isEmpty()?[3,3]:(o.Po.forEach(function(_,E){h.push(o.Oo(E,e,t).then(function(C){if(C){o.isPrimaryClient&&o.sharedClientState.updateQueryState(E.targetId,C.fromCache?"not-current":"current"),u.push(C);var T=VN.Pn(E.targetId,C);f.push(T)}}))}),[4,Promise.all(h)]);case 1:return g.sent(),o.vo._r(u),[4,function(_,E){return(0,M.mG)(this,void 0,void 0,function(){var C,T,I,N,P,j,Q,_e;return(0,M.Jh)(this,function(we){switch(we.label){case 0:C=Te(_),we.label=1;case 1:return we.trys.push([1,3,,4]),[4,C.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(Re){return Ee.forEach(E,function(Ne){return Ee.forEach(Ne.bn,function(ut){return C.persistence.referenceDelegate.addReference(Re,Ne.targetId,ut)}).next(function(){return Ee.forEach(Ne.vn,function(ut){return C.persistence.referenceDelegate.removeReference(Re,Ne.targetId,ut)})})})})];case 2:return we.sent(),[3,4];case 3:if(!wa(T=we.sent()))throw T;return Ce("LocalStore","Failed to update sequence numbers: "+T),[3,4];case 4:for(I=0,N=E;I<N.length;I++)j=(P=N[I]).targetId,P.fromCache||(Q=C.kn.get(j),_e=Q.withLastLimboFreeSnapshotVersion(Q.snapshotVersion),C.kn=C.kn.insert(j,_e));return[2]}})})}(o.localStore,f)];case 2:g.sent(),g.label=3;case 3:return[2]}})})}function BI(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o;return(0,M.Jh)(this,function(u){switch(u.label){case 0:return(t=Te(i)).currentUser.isEqual(e)?[3,3]:(Ce("SyncEngine","User change. New user:",e.toKey()),[4,gp(t.localStore,e)]);case 1:return o=u.sent(),t.currentUser=e,(f=t).ko.forEach(function(g){g.forEach(function(_){_.reject(new ye(te.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),f.ko.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),[4,zt(t,o.Ln)];case 2:u.sent(),u.label=3;case 3:return[2]}var f})})}function GI(i,e){var t=Te(i),o=t.Co.get(e);if(o&&o.bo)return Rt().add(o.key);var u=Rt(),f=t.Vo.get(e);if(!f)return u;for(var h=0,g=f;h<g.length;h++){var E=t.Po.get(g[h]);u=u.unionWith(E.view.wo)}return u}function Av(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return[4,yp((t=Te(i)).localStore,e.query,!0)];case 1:return o=f.sent(),u=e.view.Ao(o),[2,(t.isPrimaryClient&&fC(t,e.targetId,u.To),u)]}})})}function HI(i){return(0,M.mG)(this,void 0,void 0,function(){var e;return(0,M.Jh)(this,function(t){return[2,pv((e=Te(i)).localStore).then(function(o){return zt(e,o)})]})})}function $I(i,e,t,o){return(0,M.mG)(this,void 0,void 0,function(){var u,f;return(0,M.Jh)(this,function(h){switch(h.label){case 0:return[4,(g=(u=Te(i)).localStore,_=e,E=Te(g),C=Te(E._n),E.persistence.runTransaction("Lookup mutation documents","readonly",function(T){return C.jt(T,_).next(function(I){return I?E.Mn.pn(T,I):Ee.resolve(null)})}))];case 1:return null===(f=h.sent())?[3,6]:"pending"!==t?[3,3]:[4,ao(u.remoteStore)];case 2:return h.sent(),[3,4];case 3:"acknowledged"===t||"rejected"===t?(Sv(u,e,o||null),Oa(u,e),function(g,_){Te(Te(g)._n).Gt(_)}(u.localStore,e)):Le(),h.label=4;case 4:return[4,zt(u,f)];case 5:return h.sent(),[3,7];case 6:Ce("SyncEngine","Cannot apply mutation batch with id: "+e),h.label=7;case 7:return[2]}var g,_,E,C})})}function qI(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u,f,h,_,E;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return Nv(t=Te(i)),Rp(t),!0!==e||!0===t.$o?[3,3]:(o=t.sharedClientState.getAllActiveQueryTargets(),[4,dC(t,o.toArray())]);case 1:return u=C.sent(),t.$o=!0,[4,Cp(t.remoteStore,!0)];case 2:for(C.sent(),f=0,h=u;f<h.length;f++)If(t.remoteStore,h[f]);return[3,7];case 3:return!1!==e||!1===t.$o?[3,7]:(_=[],E=Promise.resolve(),t.Vo.forEach(function(T,I){t.sharedClientState.isLocalQueryTarget(I)?_.push(I):E=E.then(function(){return Il(t,I),wl(t.localStore,I,!0)}),Af(t.remoteStore,I)}),[4,E]);case 4:return C.sent(),[4,dC(t,_)];case 5:return C.sent(),(I=Te(t)).Co.forEach(function(N,P){Af(I.remoteStore,P)}),I.No.ts(),I.Co=new Map,I.Do=new er(Ve.comparator),t.$o=!1,[4,Cp(t.remoteStore,!1)];case 6:C.sent(),C.label=7;case 7:return[2]}var I})})}function dC(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u,f,h,g,_,E,C,T,I,P,j,Q;return(0,M.Jh)(this,function(ce){switch(ce.label){case 0:o=Te(i),u=[],f=[],h=0,g=e,ce.label=1;case 1:return h<g.length?(E=void 0,(C=o.Vo.get(_=g[h]))&&0!==C.length?[4,El(o.localStore,Mr(C[0]))]:[3,7]):[3,13];case 2:E=ce.sent(),T=0,I=C,ce.label=3;case 3:return T<I.length?(P=o.Po.get(I[T]),[4,Av(o,P)]):[3,6];case 4:(j=ce.sent()).snapshot&&f.push(j.snapshot),ce.label=5;case 5:return T++,[3,3];case 6:return[3,11];case 7:return[4,hv(o.localStore,_)];case 8:return Q=ce.sent(),[4,El(o.localStore,Q)];case 9:return E=ce.sent(),[4,Ip(o,hC(Q),_,!1)];case 10:ce.sent(),ce.label=11;case 11:u.push(E),ce.label=12;case 12:return h++,[3,1];case 13:return[2,(o.vo._r(f),u)]}})})}function hC(i){return ba(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function zI(i){var e=Te(i);return Te(Te(e.localStore).persistence).fn()}function Mv(i,e,t,o){return(0,M.mG)(this,void 0,void 0,function(){var u,f,h;return(0,M.Jh)(this,function(g){switch(g.label){case 0:return(u=Te(i)).$o?(Ce("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!u.Vo.has(e))return[3,8];switch(t){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,pv(u.localStore)];case 3:return f=g.sent(),h=ap.createSynthesizedRemoteEventForCurrentChange(e,"current"===t),[4,zt(u,f,h)];case 4:return g.sent(),[3,8];case 5:return[4,wl(u.localStore,e,!0)];case 6:return g.sent(),Il(u,e,o),[3,8];case 7:Le(),g.label=8;case 8:return[2]}})})}function WI(i,e,t){return(0,M.mG)(this,void 0,void 0,function(){var o,u,f,h,g,_,E,C,T;return(0,M.Jh)(this,function(N){switch(N.label){case 0:if(!(o=Nv(i)).$o)return[3,10];u=0,f=e,N.label=1;case 1:return u<f.length?o.Vo.has(h=f[u])?(Ce("SyncEngine","Adding an already active target "+h),[3,5]):[4,hv(o.localStore,h)]:[3,6];case 2:return g=N.sent(),[4,El(o.localStore,g)];case 3:return _=N.sent(),[4,Ip(o,hC(g),_.targetId,!1)];case 4:N.sent(),If(o.remoteStore,_),N.label=5;case 5:return u++,[3,1];case 6:E=function(P){return(0,M.Jh)(this,function(j){switch(j.label){case 0:return o.Vo.has(P)?[4,wl(o.localStore,P,!1).then(function(){Af(o.remoteStore,P),Il(o,P)}).catch(Da)]:[3,2];case 1:j.sent(),j.label=2;case 2:return[2]}})},C=0,T=t,N.label=7;case 7:return C<T.length?[5,E(T[C])]:[3,10];case 8:N.sent(),N.label=9;case 9:return C++,[3,7];case 10:return[2]}})})}function Nv(i){var e=Te(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=GI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HN.bind(null,e),e.vo._r=Tl.bind(null,e.eventManager),e.vo.Mo=Of.bind(null,e.eventManager),e}function Rp(i){var e=Te(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$N.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nt.bind(null,e),e}var pC=function(){function i(){this.synchronizeTabs=!1}return i.prototype.initialize=function(e){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(t){switch(t.label){case 0:return this.R=Sf(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}})})},i.prototype.Uo=function(e){return null},i.prototype.Ko=function(e){return Hw(this.persistence,new Gw,e.initialUser,this.R)},i.prototype.qo=function(e){return new AI(jN.bs,this.R)},i.prototype.Bo=function(e){return new tC},i.prototype.terminate=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}})})},i}(),KI=function(i){function e(t,o,u){var f=this;return(f=i.call(this)||this).Qo=t,f.cacheSizeBytes=o,f.forceOwnership=u,f.synchronizeTabs=!1,f}return(0,M.ZT)(e,i),e.prototype.initialize=function(t){return(0,M.mG)(this,void 0,void 0,function(){var o=this;return(0,M.Jh)(this,function(u){switch(u.label){case 0:return[4,i.prototype.initialize.call(this,t)];case 1:return u.sent(),[4,Ww(this.localStore)];case 2:return u.sent(),[4,this.Qo.initialize(this,t)];case 3:return u.sent(),[4,Rp(this.Qo.syncEngine)];case 4:return u.sent(),[4,ao(this.Qo.remoteStore)];case 5:return u.sent(),[4,this.persistence.He(function(){return o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()})];case 6:return u.sent(),[2]}})})},e.prototype.Ko=function(t){return Hw(this.persistence,new Gw,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Vw(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var o=bl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?io.withCacheSize(this.cacheSizeBytes):io.DEFAULT;return new so(this.synchronizeTabs,o,t.clientId,u,t.asyncQueue,Cs(),Tf(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new tC},e}(pC),QI=function(i){function e(t,o){var u=this;return(u=i.call(this,t,o,!1)||this).Qo=t,u.cacheSizeBytes=o,u.synchronizeTabs=!0,u}return(0,M.ZT)(e,i),e.prototype.initialize=function(t){return(0,M.mG)(this,void 0,void 0,function(){var o,u=this;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return[4,i.prototype.initialize.call(this,t)];case 1:return f.sent(),o=this.Qo.syncEngine,this.sharedClientState instanceof eC?(this.sharedClientState.syncEngine={ui:$I.bind(null,o),ai:Mv.bind(null,o),hi:WI.bind(null,o),fn:zI.bind(null,o),ci:HI.bind(null,o)},[4,this.sharedClientState.start()]):[3,3];case 2:f.sent(),f.label=3;case 3:return[4,this.persistence.He(function(h){return(0,M.mG)(u,void 0,void 0,function(){return(0,M.Jh)(this,function(g){switch(g.label){case 0:return[4,qI(this.Qo.syncEngine,h)];case 1:return g.sent(),this.gcScheduler&&(h&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):h||this.gcScheduler.stop()),[2]}})})})];case 4:return f.sent(),[2]}})})},e.prototype.Bo=function(t){var o=Cs();if(!eC.yt(o))throw new ye(te.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var u=bl(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new eC(o,t.asyncQueue,u,t.clientId,t.initialUser)},e}(KI),Ov=function(){function i(){}return i.prototype.initialize=function(e,t){return(0,M.mG)(this,void 0,void 0,function(){var o=this;return(0,M.Jh)(this,function(u){switch(u.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(f){return Np(o.syncEngine,f,1)},this.remoteStore.remoteSyncer.handleCredentialChange=BI.bind(null,this.syncEngine),[4,Cp(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:u.sent(),u.label=2;case 2:return[2]}})})},i.prototype.createEventManager=function(e){return new LI},i.prototype.createDatastore=function(e){var o=Sf(e.databaseInfo.databaseId),u=new bp(e.databaseInfo);return new xI(e.credentials,u,o)},i.prototype.createRemoteStore=function(e){var t,o,u,f,h,g=this;return t=this.localStore,o=this.datastore,u=e.asyncQueue,f=function(_){return Np(g.syncEngine,_,0)},h=nC.yt()?new nC:new Df,new sC(t,o,u,f,h)},i.prototype.createSyncEngine=function(e,t){return E=t,C=new uC(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions),E&&(C.$o=!0),C;var E,C},i.prototype.terminate=function(){return function(e){return(0,M.mG)(this,void 0,void 0,function(){var t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return t=Te(e),Ce("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Sa(t)];case 1:return o.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}})})}(this.remoteStore)},i}(),Op=function(){function i(e){this.observer=e,this.muted=!1}return i.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},i.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},i.prototype.Wo=function(){this.muted=!0},i.prototype.jo=function(e,t){var o=this;this.muted||setTimeout(function(){o.muted||e(t)},0)},i}(),ZI=(function(){function i(e,t){var o=this;this.Go=e,this.R=t,this.metadata=new rr,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(u){u&&u.io()?o.metadata.resolve(u.payload.metadata):o.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==u?void 0:u.payload)))},function(u){return o.metadata.reject(u)})}i.prototype.close=function(){return this.Go.cancel()},i.prototype.getMetadata=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return[2,this.metadata.promise]})})},i.prototype.Lo=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}})})},i.prototype.Ho=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t,o,u;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return[4,this.Jo()];case 1:return null===(e=f.sent())?[2,null]:(t=this.zo.decode(e),o=Number(t),isNaN(o)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(o)]);case 2:return u=f.sent(),[2,new VI(JSON.parse(u),e.length+o)]}})})},i.prototype.Zo=function(){return this.buffer.findIndex(function(e){return e==="{".charCodeAt(0)})},i.prototype.Jo=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(o.sent())return[3,3];o.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}})})},i.prototype.Xo=function(e){return(0,M.mG)(this,void 0,void 0,function(){var t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:o.sent()&&this.Yo("Reached the end of bundle when more is expected."),o.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}})})},i.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},i.prototype.tc=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return[4,this.Go.read()];case 1:return(e=o.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}})})}}(),function(){function i(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return i.prototype.lookup=function(e){return(0,M.mG)(this,void 0,void 0,function(){var t,o=this;return(0,M.Jh)(this,function(u){switch(u.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new ye(te.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(f,h){return(0,M.mG)(this,void 0,void 0,function(){var g,_,E,C,T,I;return(0,M.Jh)(this,function(N){switch(N.label){case 0:return g=Te(f),_=cp(g.R)+"/documents",E={documents:h.map(function(P){return mf(g.R,P)})},[4,g.$i("BatchGetDocuments",_,E)];case 1:return C=N.sent(),T=new Map,C.forEach(function(P){var Q,ce,j=(Q=g.R,"found"in(ce=P)?function(_e,we){qe(!!we.found);var Re=Gr(_e,we.found.name),Ne=Fn(we.found.updateTime),ut=new Br({mapValue:{fields:we.found.fields}});return Sn.newFoundDocument(Re,Ne,ut)}(Q,ce):"missing"in ce?function(_e,we){qe(!!we.missing),qe(!!we.readTime);var Re=Gr(_e,we.missing),Ne=Fn(we.readTime);return Sn.newNoDocument(Re,Ne)}(Q,ce):Le());T.set(j.key.toString(),j)}),I=[],[2,(h.forEach(function(P){var j=T.get(P.toString());qe(!!j),I.push(j)}),I)]}})})}(this.datastore,e)];case 1:return[2,((t=u.sent()).forEach(function(f){return o.recordVersion(f)}),t)]}})})},i.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},i.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())},i.prototype.delete=function(e){this.write(new ff(e,this.precondition(e))),this.writtenDocs.add(e.toString())},i.prototype.commit=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t=this;return(0,M.Jh)(this,function(o){switch(o.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach(function(u){e.delete(u.key.toString())}),e.forEach(function(u,f){var h=Ve.fromPath(f);t.mutations.push(new qy(h,t.precondition(h)))}),[4,function(u,f){return(0,M.mG)(this,void 0,void 0,function(){var h,g,_;return(0,M.Jh)(this,function(E){switch(E.label){case 0:return h=Te(u),g=cp(h.R)+"/documents",_={writes:f.map(function(C){return yf(h.R,C)})},[4,h.Ni("Commit",g,_)];case 1:return E.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return o.sent(),this.committed=!0,[2]}})})},i.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Le();t=dt.min()}var o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new ye(te.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},i.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?xn.updateTime(t):xn.none()},i.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(dt.min()))throw new ye(te.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return xn.updateTime(t)}return xn.exists(!0)},i.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},i.prototype.ensureCommitNotCalled=function(){},i}()),Pf=function(){function i(e,t,o,u){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=u,this.ec=5,this.Zi=new rC(this.asyncQueue,"transaction_retry")}return i.prototype.run=function(){this.ec-=1,this.nc()},i.prototype.nc=function(){var e=this;this.Zi.ji(function(){return(0,M.mG)(e,void 0,void 0,function(){var t,o,u=this;return(0,M.Jh)(this,function(f){return t=new ZI(this.datastore),(o=this.sc(t))&&o.then(function(h){u.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){u.deferred.resolve(h)}).catch(function(g){u.ic(g)})})}).catch(function(h){u.ic(h)}),[2]})})})},i.prototype.sc=function(e){try{var t=this.updateFunction(e);return!Qu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(o){return this.deferred.reject(o),null}},i.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return t.nc(),Promise.resolve()})):this.deferred.reject(e)},i.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!ow(t)}return!1},i}(),JI=function(){function i(e,t,o){var u=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=o,this.user=Gn.UNAUTHENTICATED,this.clientId=LE.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,function(f){return(0,M.mG)(u,void 0,void 0,function(){return(0,M.Jh)(this,function(h){switch(h.label){case 0:return Ce("FirestoreClient","Received user=",f.uid),[4,this.credentialListener(f)];case 1:return h.sent(),this.user=f,[2]}})})})}return i.prototype.getConfiguration=function(){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]})})},i.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},i.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new ye(te.FAILED_PRECONDITION,"The client has already been terminated.")},i.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new rr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,M.mG)(e,void 0,void 0,function(){var o,u;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return f.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:f.sent(),f.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:f.sent(),f.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return o=f.sent(),u=Dl(o,"Failed to shutdown persistence"),t.reject(u),[3,6];case 6:return[2]}})})}),t.promise},i}();function mC(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o,u=this;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return i.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider"),[4,i.getConfiguration()];case 1:return t=f.sent(),[4,e.initialize(t)];case 2:return f.sent(),o=t.initialUser,i.setCredentialChangeListener(function(h){return(0,M.mG)(u,void 0,void 0,function(){return(0,M.Jh)(this,function(g){switch(g.label){case 0:return o.isEqual(h)?[3,2]:[4,gp(e.localStore,h)];case 1:g.sent(),o=h,g.label=2;case 2:return[2]}})})}),e.persistence.setDatabaseDeletedListener(function(){return i.terminate()}),i.offlineComponents=e,[2]}})})}function Pv(i,e){return(0,M.mG)(this,void 0,void 0,function(){var t,o;return(0,M.Jh)(this,function(u){switch(u.label){case 0:return i.asyncQueue.verifyOperationInProgress(),[4,Pa(i)];case 1:return t=u.sent(),Ce("FirestoreClient","Initializing OnlineComponentProvider"),[4,i.getConfiguration()];case 2:return o=u.sent(),[4,e.initialize(t,o)];case 3:return u.sent(),i.setCredentialChangeListener(function(f){return function(h,g){return(0,M.mG)(this,void 0,void 0,function(){var _,E;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return(_=Te(h)).asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials"),E=Ri(_),_.Or.add(3),[4,Sa(_)];case 1:return C.sent(),E&&_.Br.set("Unknown"),[4,_.remoteSyncer.handleCredentialChange(g)];case 2:return C.sent(),_.Or.delete(3),[4,Ta(_)];case 3:return C.sent(),[2]}})})}(e.remoteStore,f)}),i.onlineComponents=e,[2]}})})}function Pa(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return i.offlineComponents?[3,2]:(Ce("FirestoreClient","Using default OfflineComponentProvider"),[4,mC(i,new pC)]);case 1:e.sent(),e.label=2;case 2:return[2,i.offlineComponents]}})})}function xv(i){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(e){switch(e.label){case 0:return i.onlineComponents?[3,2]:(Ce("FirestoreClient","Using default OnlineComponentProvider"),[4,Pv(i,new Ov)]);case 1:e.sent(),e.label=2;case 2:return[2,i.onlineComponents]}})})}function Fv(i){return Pa(i).then(function(e){return e.persistence})}function kv(i){return Pa(i).then(function(e){return e.localStore})}function yC(i){return xv(i).then(function(e){return e.remoteStore})}function Lv(i){return xv(i).then(function(e){return e.syncEngine})}function Al(i){return(0,M.mG)(this,void 0,void 0,function(){var e,t;return(0,M.Jh)(this,function(o){switch(o.label){case 0:return[4,xv(i)];case 1:return e=o.sent(),[2,((t=e.eventManager).onListen=lC.bind(null,e.syncEngine),t.onUnlisten=Ap.bind(null,e.syncEngine),t)]}})})}function vC(i,e,t){var o=this;void 0===t&&(t={});var u=new rr;return i.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(o,void 0,void 0,function(){var f;return(0,M.Jh)(this,function(h){switch(h.label){case 0:return f=function(g,_,E,C,T){var I=new Op({next:function(P){_.enqueueAndForget(function(){return Rf(g,N)});var j=P.docs.has(E);!j&&P.fromCache?T.reject(new ye(te.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&P.fromCache&&C&&"server"===C.source?T.reject(new ye(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):T.resolve(P)},error:function(P){return T.reject(P)}}),N=new xo(Xu(E.path),I,{includeMetadataChanges:!0,so:!0});return Dp(g,N)},[4,Al(i)];case 1:return[2,f.apply(void 0,[h.sent(),i.asyncQueue,e,t,u])]}})})}),u.promise}function Vv(i,e,t){var o=this;void 0===t&&(t={});var u=new rr;return i.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(o,void 0,void 0,function(){var f;return(0,M.Jh)(this,function(h){switch(h.label){case 0:return f=function(g,_,E,C,T){var I=new Op({next:function(P){_.enqueueAndForget(function(){return Rf(g,N)}),P.fromCache&&"server"===C.source?T.reject(new ye(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):T.resolve(P)},error:function(P){return T.reject(P)}}),N=new xo(E,I,{includeMetadataChanges:!0,so:!0});return Dp(g,N)},[4,Al(i)];case 1:return[2,f.apply(void 0,[h.sent(),i.asyncQueue,e,t,u])]}})})}),u.promise}var XI=function(i,e,t,o,u,f,h,g){this.databaseId=i,this.appId=e,this.persistenceKey=t,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=h,this.useFetchStreams=g},Pp=function(){function i(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(i.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return e instanceof i&&e.projectId===this.projectId&&e.database===this.database},i}(),eA=new Map,tA=function(i,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+i},nA=function(){function i(){this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(null)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable(function(){return t(Gn.UNAUTHENTICATED)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),Uv=function(){function i(e){this.token=e,this.changeListener=null}return i.prototype.getToken=function(){return Promise.resolve(this.token)},i.prototype.invalidateToken=function(){},i.prototype.setChangeListener=function(e,t){var o=this;this.changeListener=t,e.enqueueRetryable(function(){return t(o.token.user)})},i.prototype.removeChangeListener=function(){this.changeListener=null},i}(),rA=function(){function i(e){var t=this;this.currentUser=Gn.UNAUTHENTICATED,this.oc=new rr,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable(function(){return t.changeListener(t.currentUser)})};var o=function(u){Ce("FirebaseCredentialsProvider","Auth detected"),t.auth=u,t.auth.addAuthTokenListener(t.uc)};e.onInit(function(u){return o(u)}),setTimeout(function(){if(!t.auth){var u=e.getImmediate({optional:!0});u?o(u):(Ce("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}},0)}return i.prototype.getToken=function(){var e=this,t=this.cc,o=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(o).then(function(u){return e.cc!==t?(Ce("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):u?(qe("string"==typeof u.accessToken),new tA(u.accessToken,e.currentUser)):null}):Promise.resolve(null)},i.prototype.invalidateToken=function(){this.forceRefresh=!0},i.prototype.setChangeListener=function(e,t){var o=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable(function(){return(0,M.mG)(o,void 0,void 0,function(){return(0,M.Jh)(this,function(u){switch(u.label){case 0:return[4,this.oc.promise];case 1:return u.sent(),[4,t(this.currentUser)];case 2:return u.sent(),this.changeListener=t,[2]}})})})},i.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},i.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return qe(null===e||"string"==typeof e),new Gn(e)},i}(),iA=function(){function i(e,t,o){this.hc=e,this.lc=t,this.fc=o,this.type="FirstParty",this.user=Gn.FIRST_PARTY}return Object.defineProperty(i.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),i}(),oA=function(){function i(e,t,o){this.hc=e,this.lc=t,this.fc=o}return i.prototype.getToken=function(){return Promise.resolve(new iA(this.hc,this.lc,this.fc))},i.prototype.setChangeListener=function(e,t){e.enqueueRetryable(function(){return t(Gn.FIRST_PARTY)})},i.prototype.removeChangeListener=function(){},i.prototype.invalidateToken=function(){},i}();function jv(i,e,t){if(!t)throw new ye(te.INVALID_ARGUMENT,"Function "+i+"() cannot be called with an empty "+e+".")}function Bv(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ye(te.INVALID_ARGUMENT,"Invalid options passed to function "+i+'(): You cannot specify both "merge" and "mergeFields".');return e}function _C(i,e,t,o){if(!0===e&&!0===o)throw new ye(te.INVALID_ARGUMENT,i+" and "+t+" cannot be used together.")}function Gv(i){if(!Ve.isDocumentKey(i))throw new ye(te.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+i+" has "+i.length+".")}function xp(i){if(Ve.isDocumentKey(i))throw new ye(te.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+i+" has "+i.length+".")}function Fp(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=i.substring(0,20)+"..."),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";var e=function(t){if(t.constructor){var o=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(o&&o.length>1)return o[1]}return null}(i);return e?"a custom "+e+" object":"an object"}return"function"==typeof i?"a function":Le()}function pt(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ye(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var t=Fp(i);throw new ye(te.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+t)}return i}function Hn(i,e){if(e<=0)throw new ye(te.INVALID_ARGUMENT,"Function "+i+"() requires a positive number, but it was: "+e+".")}var Hv=function(){function i(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new ye(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ye(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,_C("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return i.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},i}(),pr=function(){function i(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,e instanceof Pp?(this._databaseId=e,this._credentials=new nA):(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new ye(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pp(o.options.projectId)}(e),this._credentials=new rA(t))}return Object.defineProperty(i.prototype,"app",{get:function(){if(!this._app)throw new ye(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),i.prototype._setSettings=function(e){if(this._settingsFrozen)throw new ye(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new nA;switch(t.type){case"gapi":var o=t.client;return qe(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new oA(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ye(te.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},i.prototype._getSettings=function(){return this._settings},i.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},i.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},i.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},i.prototype._terminate=function(){return(t=eA.get(this))&&(Ce("ComponentProvider","Removing Datastore"),eA.delete(this),t.terminate()),Promise.resolve();var t},i}(),Bt=function(){function i(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}return Object.defineProperty(i.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new Fo(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),i.prototype.withConverter=function(e){return new i(this.firestore,e,this._key)},i}(),Pr=function(){function i(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}return i.prototype.withConverter=function(e){return new i(this.firestore,e,this._query)},i}(),Fo=function(i){function e(t,o,u){var f=this;return(f=i.call(this,t,o,Xu(u))||this)._path=u,f.type="collection",f}return(0,M.ZT)(e,i),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Bt(this.firestore,null,new Ve(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Pr);function $v(i,e){for(var t,o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];if(i=(0,Tt.m9)(i),jv("collection","path",e),i instanceof pr)return xp(t=St.fromString.apply(St,(0,M.ev)([e],o))),new Fo(i,null,t);if(!(i instanceof Bt||i instanceof Fo))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return xp(t=St.fromString.apply(St,(0,M.ev)([i.path],o)).child(St.fromString(e))),new Fo(i.firestore,null,t)}function xf(i,e){for(var t,o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];if(i=(0,Tt.m9)(i),1===arguments.length&&(e=LE.u()),jv("doc","path",e),i instanceof pr)return Gv(t=St.fromString.apply(St,(0,M.ev)([e],o))),new Bt(i,null,new Ve(t));if(!(i instanceof Bt||i instanceof Fo))throw new ye(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gv(t=i._path.child(St.fromString.apply(St,(0,M.ev)([e],o)))),new Bt(i.firestore,i instanceof Fo?i.converter:null,new Ve(t))}function bC(i,e){return i=(0,Tt.m9)(i),e=(0,Tt.m9)(e),(i instanceof Bt||i instanceof Fo)&&(e instanceof Bt||e instanceof Fo)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function EC(i,e){return i=(0,Tt.m9)(i),e=(0,Tt.m9)(e),i instanceof Pr&&e instanceof Pr&&i.firestore===e.firestore&&uf(i._query,e._query)&&i.converter===e.converter}var sA=function(){function i(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new rC(this,"async_queue_retry"),this.Ic=function(){var o=Tf();o&&Ce("AsyncQueue","Visibility state changed to "+o.visibilityState),e.Zi.Gi()};var t=Tf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(i.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),i.prototype.enqueueAndForget=function(e){this.enqueue(e)},i.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},i.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Tf();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},i.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise(function(){});var o=new rr;return this.Rc(function(){return t._c&&t.Ec?Promise.resolve():(e().then(o.resolve,o.reject),o.promise)}).then(function(){return o.promise})},i.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget(function(){return t.wc.push(e),t.bc()})},i.prototype.bc=function(){return(0,M.mG)(this,void 0,void 0,function(){var e,t=this;return(0,M.Jh)(this,function(o){switch(o.label){case 0:if(0===this.wc.length)return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return o.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!wa(e=o.sent()))throw e;return Ce("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji(function(){return t.bc()}),o.label=5;case 5:return[2]}})})},i.prototype.Rc=function(e){var t=this,o=this.dc.then(function(){return t.gc=!0,e().catch(function(u){throw t.yc=u,t.gc=!1,vn("INTERNAL UNHANDLED ERROR: ",(h=(f=u).message||"",f.stack&&(h=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),h)),u;var f,h}).then(function(u){return t.gc=!1,u})});return this.dc=o,o},i.prototype.enqueueAfterDelay=function(e,t,o){var u=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var f=kI.createAndSchedule(this,e,t,o,function(h){return u.vc(h)});return this.mc.push(f),f},i.prototype.Ac=function(){this.yc&&Le()},i.prototype.verifyOperationInProgress=function(){},i.prototype.Pc=function(){return(0,M.mG)(this,void 0,void 0,function(){var e;return(0,M.Jh)(this,function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}})})},i.prototype.Vc=function(e){for(var t=0,o=this.mc;t<o.length;t++)if(o[t].timerId===e)return!0;return!1},i.prototype.Sc=function(e){var t=this;return this.Pc().then(function(){t.mc.sort(function(h,g){return h.targetTimeMs-g.targetTimeMs});for(var o=0,u=t.mc;o<u.length;o++){var f=u[o];if(f.skipDelay(),"all"!==e&&f.timerId===e)break}return t.Pc()})},i.prototype.Dc=function(e){this.Tc.push(e)},i.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},i}();function xa(i){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var o=e,u=0,f=["next","error","complete"];u<f.length;u++){var h=f[u];if(h in o&&"function"==typeof o[h])return!0}return!1}(i)}!function(){function i(){this._progressObserver={},this._taskCompletionResolver=new rr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}i.prototype.onProgress=function(e,t,o){this._progressObserver={next:e,error:t,complete:o}},i.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},i.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},i.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},i.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},i.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}();var dn=function(i){function e(t,o){var u=this;return(u=i.call(this,t,o)||this).type="firestore",u._queue=new sA,u._persistenceKey="name"in t?t.name:"[DEFAULT]",u}return(0,M.ZT)(e,i),e.prototype._terminate=function(){return this._firestoreClient||Fa(this),this._firestoreClient.terminate()},e}(pr);function Ln(i){return i._firestoreClient||Fa(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Fa(i){var e,f,g,t=i._freezeSettings(),o=(f=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new XI(i._databaseId,f,i._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));i._firestoreClient=new JI(i._credentials,i._queue,o)}function uA(i,e,t){var o=this,u=new rr;return i.asyncQueue.enqueue(function(){return(0,M.mG)(o,void 0,void 0,function(){var f;return(0,M.Jh)(this,function(h){switch(h.label){case 0:return h.trys.push([0,3,,4]),[4,mC(i,t)];case 1:return h.sent(),[4,Pv(i,e)];case 2:return h.sent(),u.resolve(),[3,4];case 3:if(!("FirebaseError"===(g=f=h.sent()).name?g.code===te.FAILED_PRECONDITION||g.code===te.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw f;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+f),u.reject(f),[3,4];case 4:return[2]}var g})})}).then(function(){return u.promise})}function qv(i){if(i._initialized||i._terminated)throw new ye(te.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var uo=function(){function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var o=0;o<e.length;++o)if(0===e[o].length)throw new ye(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ai(e)}return i.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},i}(),Ml=function(){function i(e){this._byteString=e}return i.fromBase64String=function(e){try{return new i(Tn.fromBase64String(e))}catch(t){throw new ye(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},i.fromUint8Array=function(e){return new i(Tn.fromUint8Array(e))},i.prototype.toBase64=function(){return this._byteString.toBase64()},i.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},i.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},i.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},i}(),Ds=function(i){this._methodName=i},kp=function(){function i(e,t){if(!isFinite(e)||e<-90||e>90)throw new ye(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ye(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(i.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),i.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},i.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},i.prototype._compareTo=function(e){return _t(this._lat,e._lat)||_t(this._long,e._long)},i}(),zv=/^__.*__$/,lA=function(){function i(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}return i.prototype.toMutation=function(e,t){return null!==this.fieldMask?new ps(e,this.data,this.fieldMask,t,this.fieldTransforms):new rl(e,this.data,t,this.fieldTransforms)},i}(),wC=function(){function i(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}return i.prototype.toMutation=function(e,t){return new ps(e,this.data,this.fieldMask,t,this.fieldTransforms)},i}();function CC(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}var DC=function(){function i(e,t,o,u,f,h){this.settings=e,this.databaseId=t,this.R=o,this.ignoreUndefinedProperties=u,void 0===f&&this.Cc(),this.fieldTransforms=f||[],this.fieldMask=h||[]}return Object.defineProperty(i.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),i.prototype.xc=function(e){return new i(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},i.prototype.kc=function(e){var t,o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.xc({path:o,Fc:!1});return u.$c(e),u},i.prototype.Oc=function(e){var t,o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.xc({path:o,Fc:!1});return u.Cc(),u},i.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},i.prototype.Lc=function(e){return Ss(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},i.prototype.contains=function(e){return void 0!==this.fieldMask.find(function(t){return e.isPrefixOf(t)})||void 0!==this.fieldTransforms.find(function(t){return e.isPrefixOf(t.field)})},i.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},i.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(CC(this.Nc)&&zv.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},i}(),cA=function(){function i(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=o||Sf(e)}return i.prototype.Uc=function(e,t,o,u){return void 0===u&&(u=!1),new DC({Nc:e,methodName:t,qc:o,path:Ai.emptyPath(),Fc:!1,Bc:u},this.databaseId,this.R,this.ignoreUndefinedProperties)},i}();function ka(i){var e=i._freezeSettings(),t=Sf(i._databaseId);return new cA(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Lp(i,e,t,o,u,f){void 0===f&&(f={});var h=i.Uc(f.merge||f.mergeFields?2:0,e,t,u);Yv("Data must be an object, but it was:",h,o);var g,_,E=AC(o,h);if(f.merge)g=new ef(h.fieldMask),_=h.fieldTransforms;else if(f.mergeFields){for(var C=[],T=0,I=f.mergeFields;T<I.length;T++){var N=Zv(e,I[T],t);if(!h.contains(N))throw new ye(te.INVALID_ARGUMENT,"Field '"+N+"' is specified in your field mask but missing from your input data.");Nl(C,N)||C.push(N)}g=new ef(C),_=h.fieldTransforms.filter(function(P){return g.covers(P.field)})}else g=null,_=h.fieldTransforms;return new lA(new Br(E),g,_)}var Wv=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw t.Lc(1===t.Nc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Ds);function TC(i,e,t){return new DC({Nc:3,qc:e.settings.qc,methodName:i._methodName,Fc:t},e.databaseId,e.R,e.ignoreUndefinedProperties)}var fA=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){return new nl(t.path,new tl)},e.prototype.isEqual=function(t){return t instanceof e},e}(Ds),Ff=function(i){function e(t,o){var u=this;return(u=i.call(this,t)||this).Kc=o,u}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){var o=TC(this,t,!0),u=this.Kc.map(function(h){return Ts(h,o)}),f=new ds(u);return new nl(t.path,f)},e.prototype.isEqual=function(t){return this===t},e}(Ds),SC=function(i){function e(t,o){var u=this;return(u=i.call(this,t)||this).Kc=o,u}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){var o=TC(this,t,!0),u=this.Kc.map(function(h){return Ts(h,o)}),f=new hs(u);return new nl(t.path,f)},e.prototype.isEqual=function(t){return this===t},e}(Ds),IC=function(i){function e(t,o){var u=this;return(u=i.call(this,t)||this).Qc=o,u}return(0,M.ZT)(e,i),e.prototype._toFieldTransform=function(t){var o=new Ao(t.R,ZE(t.R,this.Qc));return new nl(t.path,o)},e.prototype.isEqual=function(t){return this===t},e}(Ds);function Vp(i,e,t,o){var u=i.Uc(1,e,t);Yv("Data must be an object, but it was:",u,o);var f=[],h=Br.empty();fs(o,function(_,E){var C=Jv(e,_,t);E=(0,Tt.m9)(E);var T=u.Oc(C);if(E instanceof Wv)f.push(C);else{var I=Ts(E,T);null!=I&&(f.push(C),h.set(C,I))}});var g=new ef(f);return new wC(h,g,u.fieldTransforms)}function Up(i,e,t,o,u,f){var h=i.Uc(1,e,t),g=[Zv(e,o,t)],_=[u];if(f.length%2!=0)throw new ye(te.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var E=0;E<f.length;E+=2)g.push(Zv(e,f[E])),_.push(f[E+1]);for(var C=[],T=Br.empty(),I=g.length-1;I>=0;--I)if(!Nl(C,g[I])){var N=g[I],P=_[I];P=(0,Tt.m9)(P);var j=h.Oc(N);if(P instanceof Wv)C.push(N);else{var Q=Ts(P,j);null!=Q&&(C.push(N),T.set(N,Q))}}var ce=new ef(C);return new wC(T,ce,h.fieldTransforms)}function Kv(i,e,t,o){return void 0===o&&(o=!1),Ts(t,i.Uc(o?4:3,e))}function Ts(i,e){if(Qv(i=(0,Tt.m9)(i)))return Yv("Unsupported field value:",e,i),AC(i,e);if(i instanceof Ds)return function(t,o){if(!CC(o.Nc))throw o.Lc(t._methodName+"() can only be used with update() and set()");if(!o.path)throw o.Lc(t._methodName+"() is not currently supported inside arrays");var u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,o){for(var u=[],f=0,h=0,g=t;h<g.length;h++){var _=Ts(g[h],o.Mc(f));null==_&&(_={nullValue:"NULL_VALUE"}),u.push(_),f++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,Tt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ZE(o.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var u=Ir.fromDate(t);return{timestampValue:lp(o.R,u)}}if(t instanceof Ir)return u=new Ir(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:lp(o.R,u)};if(t instanceof kp)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ml)return{bytesValue:Ge(o.R,t._byteString)};if(t instanceof Bt){var f=t.firestore._databaseId;if(!f.isEqual(u=o.databaseId))throw o.Lc("Document reference is for database "+f.projectId+"/"+f.database+" but should be for database "+u.projectId+"/"+u.database);return{referenceValue:Wy(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.Lc("Unsupported field value: "+Fp(t))}(i,e)}function AC(i,e){var t={};return Ry(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(i,function(o,u){var f=Ts(u,e.kc(o));null!=f&&(t[o]=f)}),{mapValue:{fields:t}}}function Qv(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Ir||i instanceof kp||i instanceof Ml||i instanceof Bt||i instanceof Ds)}function Yv(i,e,t){if(!Qv(t)||"object"!=typeof(u=t)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){var o=Fp(t);throw e.Lc("an object"===o?i+" a custom object":i+" "+o)}var u}function Zv(i,e,t){if((e=(0,Tt.m9)(e))instanceof uo)return e._internalPath;if("string"==typeof e)return Jv(i,e);throw Ss("Field path arguments must be of type string or FieldPath.",i,!1,void 0,t)}var dA=new RegExp("[~\\*/\\[\\]]");function Jv(i,e,t){if(e.search(dA)>=0)throw Ss("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",i,!1,void 0,t);try{return(new(uo.bind.apply(uo,(0,M.ev)([void 0],e.split(".")))))._internalPath}catch(o){throw Ss("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",i,!1,void 0,t)}}function Ss(i,e,t,o,u){var f=o&&!o.isEmpty(),h=void 0!==u,g="Function "+e+"() called with invalid data";t&&(g+=" (via `toFirestore()`)");var _="";return(f||h)&&(_+=" (found",f&&(_+=" in field "+o),h&&(_+=" in document "+u),_+=")"),new ye(te.INVALID_ARGUMENT,(g+=". ")+i+_)}function Nl(i,e){return i.some(function(t){return t.isEqual(e)})}var kf=function(){function i(e,t,o,u,f){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=f}return Object.defineProperty(i.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"ref",{get:function(){return new Bt(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),i.prototype.exists=function(){return null!==this._document},i.prototype.data=function(){if(this._document){if(this._converter){var e=new Xv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},i.prototype.get=function(e){if(this._document){var t=this._document.data.field(qr("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},i}(),Xv=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.data=function(){return i.prototype.data.call(this)},e}(kf);function qr(i,e){return"string"==typeof e?Jv(i,e):e instanceof uo?e._internalPath:e._delegate._internalPath}var La=function(){function i(e,t){this.hasPendingWrites=e,this.fromCache=t}return i.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},i}(),ci=function(i){function e(t,o,u,f,h,g){var _=this;return(_=i.call(this,t,o,u,f,g)||this)._firestore=t,_._firestoreImpl=t,_.metadata=h,_}return(0,M.ZT)(e,i),e.prototype.exists=function(){return i.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var o=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(o,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,o){if(void 0===o&&(o={}),this._document){var u=this._document.data.field(qr("DocumentSnapshot.get",t));if(null!==u)return this._userDataWriter.convertValue(u,o.serverTimestamps)}},e}(kf),Lf=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.data=function(t){return void 0===t&&(t={}),i.prototype.data.call(this,t)},e}(ci),Is=function(){function i(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new La(u.hasPendingWrites,u.fromCache),this.query=o}return Object.defineProperty(i.prototype,"docs",{get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),i.prototype.forEach=function(e,t){var o=this;this._snapshot.docs.forEach(function(u){e.call(t,new Lf(o._firestore,o._userDataWriter,u.key,u,new La(o._snapshot.mutatedKeys.has(u.key),o._snapshot.fromCache),o.query.converter))})},i.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ye(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){var f=0;return o._snapshot.docChanges.map(function(g){return{type:"added",doc:new Lf(o._firestore,o._userDataWriter,g.doc.key,g.doc,new La(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}})}var h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(function(g){return u||3!==g.type}).map(function(g){var _=new Lf(o._firestore,o._userDataWriter,g.doc.key,g.doc,new La(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter),E=-1,C=-1;return 0!==g.type&&(E=h.indexOf(g.doc.key),h=h.delete(g.doc.key)),1!==g.type&&(C=(h=h.add(g.doc)).indexOf(g.doc.key)),{type:KN(g.type),doc:_,oldIndex:E,newIndex:C}})}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},i}();function KN(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}function jp(i,e){return i instanceof ci&&e instanceof ci?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Is&&e instanceof Is&&i._firestore===e._firestore&&EC(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function Bp(i){if(af(i)&&0===i.explicitOrderBy.length)throw new ye(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Rl=function(){};function lo(i){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];for(var o=0,u=e;o<u.length;o++){var f=u[o];i=f._apply(i)}return i}var e_=function(i){function e(t,o,u){var f=this;return(f=i.call(this)||this).jc=t,f.Wc=o,f.Gc=u,f.type="where",f}return(0,M.ZT)(e,i),e.prototype._apply=function(t){var f,g,o=ka(t.firestore),u=function(f,h,g,_,E,C,T){var I;if(E.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new ye(te.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+C+"' queries on FieldPath.documentId().");if("in"===C||"not-in"===C){n_(T,C);for(var N=[],P=0,j=T;P<j.length;P++)N.push(Gp(_,f,j[P]));I={arrayValue:{values:N}}}else I=Gp(_,f,T)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||n_(T,C),I=Kv(g,"where",T,"in"===C||"not-in"===C);var ce=Ar.create(E,C,I);return function(_e,we){if(we.g()){var Re=np(_e);if(null!==Re&&!Re.isEqual(we.field))throw new ye(te.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+Re.toString()+"' and '"+we.field.toString()+"'");var Ne=Ly(_e);null!==Ne&&OC(0,we.field,Ne)}var ut=function(It,Li){for(var Wr=0,po=It.filters;Wr<po.length;Wr++){var s0=po[Wr];if(Li.indexOf(s0.op)>=0)return s0.op}return null}(_e,function(It){switch(It){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(we.op));if(null!==ut)throw new ye(te.INVALID_ARGUMENT,ut===we.op?"Invalid query. You cannot use more than one '"+we.op.toString()+"' filter.":"Invalid query. You cannot use '"+we.op.toString()+"' filters with '"+ut.toString()+"' filters.")}(f,ce),ce}(t._query,0,o,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Pr(t.firestore,t.converter,(g=(f=t._query).filters.concat([u]),new ro(f.path,f.collectionGroup,f.explicitOrderBy.slice(),g,f.limit,f.limitType,f.startAt,f.endAt)))},e}(Rl),hA=function(i){function e(t,o){var u=this;return(u=i.call(this)||this).jc=t,u.zc=o,u.type="orderBy",u}return(0,M.ZT)(e,i),e.prototype._apply=function(t){var u,h,o=function(u,f,h){if(null!==u.startAt)throw new ye(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new ye(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var g=new Ju(f,h);return function(_,E){if(null===Ly(_)){var C=np(_);null!==C&&OC(0,C,E.field)}}(u,g),g}(t._query,this.jc,this.zc);return new Pr(t.firestore,t.converter,(h=(u=t._query).explicitOrderBy.concat([o]),new ro(u.path,u.collectionGroup,h,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)))},e}(Rl),MC=function(i){function e(t,o,u){var f=this;return(f=i.call(this)||this).type=t,f.Hc=o,f.Jc=u,f}return(0,M.ZT)(e,i),e.prototype._apply=function(t){return new Pr(t.firestore,t.converter,Ni(t._query,this.Hc,this.Jc))},e}(Rl),NC=function(i){function e(t,o,u){var f=this;return(f=i.call(this)||this).type=t,f.Yc=o,f.Xc=u,f}return(0,M.ZT)(e,i),e.prototype._apply=function(t){var u,f,o=t_(t,this.type,this.Yc,this.Xc);return new Pr(t.firestore,t.converter,(f=o,new ro((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,f,u.endAt)))},e}(Rl),RC=function(i){function e(t,o,u){var f=this;return(f=i.call(this)||this).type=t,f.Yc=o,f.Xc=u,f}return(0,M.ZT)(e,i),e.prototype._apply=function(t){var u,f,o=t_(t,this.type,this.Yc,this.Xc);return new Pr(t.firestore,t.converter,(f=o,new ro((u=t._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,f)))},e}(Rl);function t_(i,e,t,o){if(t[0]=(0,Tt.m9)(t[0]),t[0]instanceof kf)return function(f,h,g,_,E){if(!_)throw new ye(te.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+g+"().");for(var C=[],T=0,I=Ea(f);T<I.length;T++){var N=I[T];if(N.field.isKeyField())C.push(Kh(h,_.key));else{var P=_.data.field(N.field);if(tf(P))throw new ye(te.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+N.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===P){var j=N.field.canonicalString();throw new ye(te.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+j+"' (used as the orderBy) does not exist.")}C.push(P)}}return new Zu(C,E)}(i._query,i.firestore._databaseId,e,t[0]._document,o);var u=ka(i.firestore);return function(f,h,g,_,E,C){var T=f.explicitOrderBy;if(E.length>T.length)throw new ye(te.INVALID_ARGUMENT,"Too many arguments provided to "+_+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var I=[],N=0;N<E.length;N++){var P=E[N];if(T[N].field.isKeyField()){if("string"!=typeof P)throw new ye(te.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+_+"(), but got a "+typeof P);if(!WE(f)&&-1!==P.indexOf("/"))throw new ye(te.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+_+"() must be a plain document ID, but '"+P+"' contains a slash.");var j=f.path.child(St.fromString(P));if(!Ve.isDocumentKey(j))throw new ye(te.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+_+"() must result in a valid document path, but '"+j+"' is not because it contains an odd number of segments.");var Q=new Ve(j);I.push(Kh(h,Q))}else{var ce=Kv(g,_,P);I.push(ce)}}return new Zu(I,C)}(i._query,i.firestore._databaseId,u,e,t,o)}function Gp(i,e,t){if("string"==typeof(t=(0,Tt.m9)(t))){if(""===t)throw new ye(te.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!WE(e)&&-1!==t.indexOf("/"))throw new ye(te.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+t+"' contains a '/' character.");var o=e.path.child(St.fromString(t));if(!Ve.isDocumentKey(o))throw new ye(te.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+o+"' is not because it has an odd number of segments ("+o.length+").");return Kh(i,new Ve(o))}if(t instanceof Bt)return Kh(i,t._key);throw new ye(te.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Fp(t)+".")}function n_(i,e){if(!Array.isArray(i)||0===i.length)throw new ye(te.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(i.length>10)throw new ye(te.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function OC(i,e,t){if(!t.isEqual(e))throw new ye(te.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+t.toString()+"' instead.")}var Hp=function(){function i(){}return i.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Le()}},i.prototype.convertObject=function(e,t){var o=this,u={};return fs(e.fields,function(f,h){u[f]=o.convertValue(h,t)}),u},i.prototype.convertGeoPoint=function(e){return new kp(an(e.latitude),an(e.longitude))},i.prototype.convertArray=function(e,t){var o=this;return(e.values||[]).map(function(u){return o.convertValue(u,t)})},i.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var o=$h(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Ku(e));default:return null}},i.prototype.convertTimestamp=function(e){var t=no(e);return new Ir(t.seconds,t.nanos)},i.prototype.convertDocumentKey=function(e,t){var o=St.fromString(e);qe(Cw(o));var u=new Pp(o.get(1),o.get(3)),f=new Ve(o.popFirst(5));return u.isEqual(t)||vn("Document "+f+" contains a document reference within a different database ("+u.projectId+"/"+u.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),f},i}();function Vf(i,e,t){return i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e}var pA=function(i){function e(t){var o=this;return(o=i.call(this)||this).firestore=t,o}return(0,M.ZT)(e,i),e.prototype.convertBytes=function(t){return new Ml(t)},e.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return new Bt(this.firestore,null,o)},e}(Hp),PC=function(){function i(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=ka(e)}return i.prototype.set=function(e,t,o){this._verifyNotCommitted();var u=ko(e,this._firestore),f=Vf(u.converter,t,o),h=Lp(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,o);return this._mutations.push(h.toMutation(u._key,xn.none())),this},i.prototype.update=function(e,t,o){for(var u=[],f=3;f<arguments.length;f++)u[f-3]=arguments[f];this._verifyNotCommitted();var h,g=ko(e,this._firestore);return h="string"==typeof(t=(0,Tt.m9)(t))||t instanceof uo?Up(this._dataReader,"WriteBatch.update",g._key,t,o,u):Vp(this._dataReader,"WriteBatch.update",g._key,t),this._mutations.push(h.toMutation(g._key,xn.exists(!0))),this},i.prototype.delete=function(e){this._verifyNotCommitted();var t=ko(e,this._firestore);return this._mutations=this._mutations.concat(new ff(t._key,xn.none())),this},i.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},i.prototype._verifyNotCommitted=function(){if(this._committed)throw new ye(te.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},i}();function ko(i,e){if((i=(0,Tt.m9)(i)).firestore!==e)throw new ye(te.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}var Va=function(i){function e(t){var o=this;return(o=i.call(this)||this).firestore=t,o}return(0,M.ZT)(e,i),e.prototype.convertBytes=function(t){return new Ml(t)},e.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return new Bt(this.firestore,null,o)},e}(Hp);function r_(i,e,t){for(var o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];i=pt(i,Bt);var f=pt(i.firestore,dn),h=ka(f);return $p(f,[("string"==typeof(e=(0,Tt.m9)(e))||e instanceof uo?Up(h,"updateDoc",i._key,e,t,o):Vp(h,"updateDoc",i._key,e)).toMutation(i._key,xn.exists(!0))])}function i_(i){for(var e,t,o,u=[],f=1;f<arguments.length;f++)u[f-1]=arguments[f];i=(0,Tt.m9)(i);var h={includeMetadataChanges:!1},g=0;"object"!=typeof u[g]||xa(u[g])||(h=u[g],g++);var _,E,C,T={includeMetadataChanges:h.includeMetadataChanges};if(xa(u[g])){var I=u[g];u[g]=null===(e=I.next)||void 0===e?void 0:e.bind(I),u[g+1]=null===(t=I.error)||void 0===t?void 0:t.bind(I),u[g+2]=null===(o=I.complete)||void 0===o?void 0:o.bind(I)}if(i instanceof Bt)E=pt(i.firestore,dn),C=Xu(i._key.path),_={next:function(j){u[g]&&u[g]($n(E,i,j))},error:u[g+1],complete:u[g+2]};else{var N=pt(i,Pr);E=pt(N.firestore,dn),C=N._query;var P=new Va(E);_={next:function(j){u[g]&&u[g](new Is(E,P,N,j))},error:u[g+1],complete:u[g+2]},Bp(i._query)}return function(j,Q,ce,_e){var we=this,Re=new Op(_e),Ne=new xo(Q,Re,ce);return j.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(we,void 0,void 0,function(){var ut;return(0,M.Jh)(this,function(It){switch(It.label){case 0:return ut=Dp,[4,Al(j)];case 1:return[2,ut.apply(void 0,[It.sent(),Ne])]}})})}),function(){Re.Wo(),j.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(we,void 0,void 0,function(){var ut;return(0,M.Jh)(this,function(It){switch(It.label){case 0:return ut=Rf,[4,Al(j)];case 1:return[2,ut.apply(void 0,[It.sent(),Ne])]}})})})}}(Ln(E),C,T,_)}function $p(i,e){return function(t,o){var u=this,f=new rr;return t.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(u,void 0,void 0,function(){var h;return(0,M.Jh)(this,function(g){switch(g.label){case 0:return h=jI,[4,Lv(t)];case 1:return[2,h.apply(void 0,[g.sent(),o,f])]}})})}),f.promise}(Ln(i),e)}function $n(i,e,t){var o=t.docs.get(e._key),u=new Va(i);return new ci(i,u,e._key,o,new La(t.hasPendingWrites,t.fromCache),e.converter)}var Ol=function(i){function e(t,o){var u=this;return(u=i.call(this,t,o)||this)._firestore=t,u}return(0,M.ZT)(e,i),e.prototype.get=function(t){var o=this,u=ko(t,this._firestore),f=new Va(this._firestore);return i.prototype.get.call(this,t).then(function(h){return new ci(o._firestore,f,u._key,h._document,new La(!1,!1),u.converter)})},e}(function(){function i(e,t){this._firestore=e,this._transaction=t,this._dataReader=ka(e)}return i.prototype.get=function(e){var t=this,o=ko(e,this._firestore),u=new pA(this._firestore);return this._transaction.lookup([o._key]).then(function(f){if(!f||1!==f.length)return Le();var h=f[0];if(h.isFoundDocument())return new kf(t._firestore,u,h.key,h,o.converter);if(h.isNoDocument())return new kf(t._firestore,u,o._key,null,o.converter);throw Le()})},i.prototype.set=function(e,t,o){var u=ko(e,this._firestore),f=Vf(u.converter,t,o),h=Lp(this._dataReader,"Transaction.set",u._key,f,null!==u.converter,o);return this._transaction.set(u._key,h),this},i.prototype.update=function(e,t,o){for(var u=[],f=3;f<arguments.length;f++)u[f-3]=arguments[f];var h,g=ko(e,this._firestore);return h="string"==typeof(t=(0,Tt.m9)(t))||t instanceof uo?Up(this._dataReader,"Transaction.update",g._key,t,o,u):Vp(this._dataReader,"Transaction.update",g._key,t),this._transaction.update(g._key,h),this},i.prototype.delete=function(e){var t=ko(e,this._firestore);return this._transaction.delete(t._key),this},i}());function xC(){if("undefined"==typeof Uint8Array)throw new ye(te.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function FC(){if("undefined"==typeof atob)throw new ye(te.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var gA=function(){function i(e){this._delegate=e}return i.fromBase64String=function(e){return FC(),new i(Ml.fromBase64String(e))},i.fromUint8Array=function(e){return xC(),new i(Ml.fromUint8Array(e))},i.prototype.toBase64=function(){return FC(),this._delegate.toBase64()},i.prototype.toUint8Array=function(){return xC(),this._delegate.toUint8Array()},i.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},i.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},i}(),Uf=function(){function i(){}return i.prototype.enableIndexedDbPersistence=function(e,t){return function(o,u){qv(o=pt(o,dn));var f=Ln(o),h=o._freezeSettings(),g=new Ov;return uA(f,g,new KI(g,h.cacheSizeBytes,null==u?void 0:u.forceOwnership))}(e._delegate,{forceOwnership:t})},i.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(t){qv(t=pt(t,dn));var o=Ln(t),u=t._freezeSettings(),f=new Ov;return uA(o,f,new QI(f,u.cacheSizeBytes))}(e._delegate)},i.prototype.clearIndexedDbPersistence=function(e){return function(t){var o=this;if(t._initialized&&!t._terminated)throw new ye(te.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var u=new rr;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,M.mG)(o,void 0,void 0,function(){var f;return(0,M.Jh)(this,function(h){switch(h.label){case 0:return h.trys.push([0,2,,3]),[4,function(g){return(0,M.mG)(this,void 0,void 0,function(){return(0,M.Jh)(this,function(E){switch(E.label){case 0:return fl.yt()?[4,fl.delete(g+"main")]:[2,Promise.resolve()];case 1:return E.sent(),[2]}})})}(bl(t._databaseId,t._persistenceKey))];case 1:return h.sent(),u.resolve(),[3,3];case 2:return f=h.sent(),u.reject(f),[3,3];case 3:return[2]}})})}),u.promise}(e._delegate)},i}(),kC=function(){function i(e,t,o){var u=this;this._delegate=t,this.Zc=o,this.INTERNAL={delete:function(){return u.terminate()}},e instanceof Pp||(this.tu=e)}return Object.defineProperty(i.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),i.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||qu("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},i.prototype.useEmulator=function(e,t,o){void 0===o&&(o={}),function(u,f,h,g){var _;void 0===g&&(g={});var E=(u=pt(u,pr))._getSettings();if("firestore.googleapis.com"!==E.host&&E.host!==f&&qu("Host has been set in both settings() and useEmulator(), emulator host will be used"),u._setSettings(Object.assign(Object.assign({},E),{host:f+":"+h,ssl:!1})),g.mockUserToken){var C,T;if("string"==typeof g.mockUserToken)C=g.mockUserToken,T=Gn.MOCK_USER;else{C=(0,Tt.Sg)(g.mockUserToken,null===(_=u._app)||void 0===_?void 0:_.options.projectId);var I=g.mockUserToken.sub||g.mockUserToken.user_id;if(!I)throw new ye(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Gn(I)}u._credentials=new Uv(new tA(C,T))}}(this._delegate,e,t,o)},i.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,M.mG)(t,void 0,void 0,function(){var o,u;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return[4,Fv(e)];case 1:return o=f.sent(),[4,yC(e)];case 2:return u=f.sent(),[2,(o.setNetworkEnabled(!0),h=u,g=Te(h),g.Or.delete(0),Ta(g))]}var h,g})})})}(Ln(pt(this._delegate,dn)))},i.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue(function(){return(0,M.mG)(t,void 0,void 0,function(){var o,u;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return[4,Fv(e)];case 1:return o=f.sent(),[4,yC(e)];case 2:return u=f.sent(),[2,(o.setNetworkEnabled(!1),function(h){return(0,M.mG)(this,void 0,void 0,function(){var g;return(0,M.Jh)(this,function(_){switch(_.label){case 0:return(g=Te(h)).Or.add(0),[4,Sa(g)];case 1:return _.sent(),g.Br.set("Offline"),[2]}})})}(u))]}})})})}(Ln(pt(this._delegate,dn)))},i.prototype.enablePersistence=function(e){var t=!1,o=!1;return e&&_C("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",o=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,o)},i.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},i.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},i.prototype.waitForPendingWrites=function(){return function(e){var t=this,o=new rr;return e.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(t,void 0,void 0,function(){var u;return(0,M.Jh)(this,function(f){switch(f.label){case 0:return u=qN,[4,Lv(e)];case 1:return[2,u.apply(void 0,[f.sent(),o])]}})})}),o.promise}(Ln(pt(this._delegate,dn)))},i.prototype.onSnapshotsInSync=function(e){return o=e,function(u,f){var h=this,g=new Op(f);return u.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(h,void 0,void 0,function(){var _;return(0,M.Jh)(this,function(E){switch(E.label){case 0:return _=function(C,T){Te(C).Gr.add(T),T.next()},[4,Al(u)];case 1:return[2,_.apply(void 0,[E.sent(),g])]}})})}),function(){g.Wo(),u.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(h,void 0,void 0,function(){var _;return(0,M.Jh)(this,function(E){switch(E.label){case 0:return _=function(C,T){Te(C).Gr.delete(T)},[4,Al(u)];case 1:return[2,_.apply(void 0,[E.sent(),g])]}})})})}}(Ln(pt(this._delegate,dn)),xa(o)?o:{next:o});var o},Object.defineProperty(i.prototype,"app",{get:function(){if(!this.tu)throw new ye(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),i.prototype.collection=function(e){try{return new ja(this,$v(this._delegate,e))}catch(t){throw ir(t,"collection()","Firestore.collection()")}},i.prototype.doc=function(e){try{return new Lo(this,xf(this._delegate,e))}catch(t){throw ir(t,"doc()","Firestore.doc()")}},i.prototype.collectionGroup=function(e){try{return new xl(this,function(t,o){if(t=pt(t,pr),jv("collectionGroup","collection id",o),o.indexOf("/")>=0)throw new ye(te.INVALID_ARGUMENT,"Invalid collection ID '"+o+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Pr(t,null,(u=o,new ro(St.emptyPath(),u)));var u}(this._delegate,e))}catch(t){throw ir(t,"collectionGroup()","Firestore.collectionGroup()")}},i.prototype.runTransaction=function(e){var o,t=this;return function(f,h){var g=this,_=new rr;return f.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(g,void 0,void 0,function(){var E;return(0,M.Jh)(this,function(C){switch(C.label){case 0:return[4,(T=f,xv(T).then(function(I){return I.datastore}))];case 1:return E=C.sent(),new Pf(f.asyncQueue,E,h,_).run(),[2]}var T})})}),_.promise}(Ln(o=this._delegate),function(f){return function(o){return e(new o_(t,o))}(new Ol(o,f))})},i.prototype.batch=function(){var e=this;return Ln(this._delegate),new LC(new PC(this._delegate,function(t){return $p(e._delegate,t)}))},i.prototype.loadBundle=function(e){throw new ye(te.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},i.prototype.namedQuery=function(e){throw new ye(te.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},i}(),Pl=function(i){function e(t){var o=this;return(o=i.call(this)||this).firestore=t,o}return(0,M.ZT)(e,i),e.prototype.convertBytes=function(t){return new gA(new Ml(t))},e.prototype.convertReference=function(t){var o=this.convertDocumentKey(t,this.firestore._databaseId);return Lo.eu(o,this.firestore,null)},e}(Hp),o_=function(){function i(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Pl(e)}return i.prototype.get=function(e){var t=this,o=As(e);return this._delegate.get(o).then(function(u){return new Ua(t._firestore,new ci(t._firestore._delegate,t._userDataWriter,u._key,u._document,u.metadata,o.converter))})},i.prototype.set=function(e,t,o){var u=As(e);return o?(Bv("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this},i.prototype.update=function(e,t,o){for(var u,f=[],h=3;h<arguments.length;h++)f[h-3]=arguments[h];var g=As(e);return 2===arguments.length?this._delegate.update(g,t):(u=this._delegate).update.apply(u,(0,M.ev)([g,t,o],f)),this},i.prototype.delete=function(e){var t=As(e);return this._delegate.delete(t),this},i}(),LC=function(){function i(e){this._delegate=e}return i.prototype.set=function(e,t,o){var u=As(e);return o?(Bv("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this},i.prototype.update=function(e,t,o){for(var u,f=[],h=3;h<arguments.length;h++)f[h-3]=arguments[h];var g=As(e);return 2===arguments.length?this._delegate.update(g,t):(u=this._delegate).update.apply(u,(0,M.ev)([g,t,o],f)),this},i.prototype.delete=function(e){var t=As(e);return this._delegate.delete(t),this},i.prototype.commit=function(){return this._delegate.commit()},i}(),qp=function(){function i(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}return i.prototype.fromFirestore=function(e,t){var o=new Lf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zp(this._firestore,o),null!=t?t:{})},i.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},i.nu=function(e,t){var o=i.su,u=o.get(e);u||(u=new WeakMap,o.set(e,u));var f=u.get(t);return f||(f=new i(e,new Pl(e),t),u.set(t,f)),f},i}();qp.su=new WeakMap;var Lo=function(){function i(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Pl(e)}return i.iu=function(e,t,o){if(e.length%2!=0)throw new ye(te.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new i(t,new Bt(t._delegate,o,new Ve(e)))},i.eu=function(e,t,o){return new i(t,new Bt(t._delegate,o,e))},Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"parent",{get:function(){return new ja(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),i.prototype.collection=function(e){try{return new ja(this.firestore,$v(this._delegate,e))}catch(t){throw ir(t,"collection()","DocumentReference.collection()")}},i.prototype.isEqual=function(e){return(e=(0,Tt.m9)(e))instanceof Bt&&bC(this._delegate,e)},i.prototype.set=function(e,t){t=Bv("DocumentReference.set",t);try{return function(o,u,f){o=pt(o,Bt);var h=pt(o.firestore,dn),g=Vf(o.converter,u,f);return $p(h,[Lp(ka(h),"setDoc",o._key,g,null!==o.converter,f).toMutation(o._key,xn.none())])}(this._delegate,e,t)}catch(o){throw ir(o,"setDoc()","DocumentReference.set()")}},i.prototype.update=function(e,t){for(var o=[],u=2;u<arguments.length;u++)o[u-2]=arguments[u];try{return 1===arguments.length?r_(this._delegate,e):r_.apply(void 0,(0,M.ev)([this._delegate,e,t],o))}catch(f){throw ir(f,"updateDoc()","DocumentReference.update()")}},i.prototype.delete=function(){return $p(pt((e=this._delegate).firestore,dn),[new ff(e._key,xn.none())]);var e},i.prototype.onSnapshot=function(){for(var e=this,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var u=s_(t),f=jf(t,function(h){return new Ua(e.firestore,new ci(e.firestore._delegate,e._userDataWriter,h._key,h._document,h.metadata,e._delegate.converter))});return i_(this._delegate,u,f)},i.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(o){o=pt(o,Bt);var u=pt(o.firestore,dn),f=Ln(u),h=new Va(u);return function(g,_){var E=this,C=new rr;return g.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(E,void 0,void 0,function(){var T;return(0,M.Jh)(this,function(I){switch(I.label){case 0:return T=function(N,P,j){return(0,M.mG)(this,void 0,void 0,function(){var Q,ce;return(0,M.Jh)(this,function(_e){switch(_e.label){case 0:return _e.trys.push([0,2,,3]),[4,(we=N,Re=P,Ne=Te(we),Ne.persistence.runTransaction("read document","readonly",function(ut){return Ne.Mn.mn(ut,Re)}))];case 1:return(ce=_e.sent()).isFoundDocument()?j.resolve(ce):ce.isNoDocument()?j.resolve(null):j.reject(new ye(te.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return Q=_e.sent(),ce=Dl(Q,"Failed to get document '"+P+" from cache"),j.reject(ce),[3,3];case 3:return[2]}var we,Re,Ne})})},[4,kv(g)];case 1:return[2,T.apply(void 0,[I.sent(),_,C])]}})})}),C.promise}(f,o._key).then(function(g){return new ci(u,h,o._key,g,new La(null!==g&&g.hasLocalMutations,!0),o.converter)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(o){o=pt(o,Bt);var u=pt(o.firestore,dn);return vC(Ln(u),o._key,{source:"server"}).then(function(f){return $n(u,o,f)})}(this._delegate):function(o){o=pt(o,Bt);var u=pt(o.firestore,dn);return vC(Ln(u),o._key).then(function(f){return $n(u,o,f)})}(this._delegate)).then(function(o){return new Ua(t.firestore,new ci(t.firestore._delegate,t._userDataWriter,o._key,o._document,o.metadata,t._delegate.converter))})},i.prototype.withConverter=function(e){return new i(this.firestore,this._delegate.withConverter(e?qp.nu(this.firestore,e):null))},i}();function ir(i,e,t){return i.message=i.message.replace(e,t),i}function s_(i){for(var e=0,t=i;e<t.length;e++){var o=t[e];if("object"==typeof o&&!xa(o))return o}return{}}function jf(i,e){var t,o,u;return{next:function(f){u.next&&u.next(e(f))},error:null===(t=(u=xa(i[0])?i[0]:xa(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]}).error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}var Ua=function(){function i(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(i.prototype,"ref",{get:function(){return new Lo(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),i.prototype.data=function(e){return this._delegate.data(e)},i.prototype.get=function(e,t){return this._delegate.get(e,t)},i.prototype.isEqual=function(e){return jp(this._delegate,e._delegate)},i}(),zp=function(i){function e(){return null!==i&&i.apply(this,arguments)||this}return(0,M.ZT)(e,i),e.prototype.data=function(t){return this._delegate.data(t)},e}(Ua),xl=function(){function i(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Pl(e)}return i.prototype.where=function(e,t,o){try{return new i(this.firestore,lo(this._delegate,(h=o,g=t,_=qr("where",u=e),new e_(_,g,h))))}catch(u){throw ir(u,/(orderBy|where)\(\)/,"Query.$1()")}var u,h,g,_},i.prototype.orderBy=function(e,t){try{return new i(this.firestore,lo(this._delegate,function(o,u){void 0===u&&(u="asc");var f=u,h=qr("orderBy",o);return new hA(h,f)}(e,t)))}catch(o){throw ir(o,/(orderBy|where)\(\)/,"Query.$1()")}},i.prototype.limit=function(e){try{return new i(this.firestore,lo(this._delegate,(Hn("limit",t=e),new MC("limit",t,"F"))))}catch(t){throw ir(t,"limit()","Query.limit()")}var t},i.prototype.limitToLast=function(e){try{return new i(this.firestore,lo(this._delegate,(Hn("limitToLast",t=e),new MC("limitToLast",t,"L"))))}catch(t){throw ir(t,"limitToLast()","Query.limitToLast()")}var t},i.prototype.startAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,lo(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new NC("startAt",o,!0)}.apply(void 0,e)))}catch(o){throw ir(o,"startAt()","Query.startAt()")}},i.prototype.startAfter=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,lo(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new NC("startAfter",o,!1)}.apply(void 0,e)))}catch(o){throw ir(o,"startAfter()","Query.startAfter()")}},i.prototype.endBefore=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,lo(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new RC("endBefore",o,!0)}.apply(void 0,e)))}catch(o){throw ir(o,"endBefore()","Query.endBefore()")}},i.prototype.endAt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];try{return new i(this.firestore,lo(this._delegate,function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return new RC("endAt",o,!1)}.apply(void 0,e)))}catch(o){throw ir(o,"endAt()","Query.endAt()")}},i.prototype.isEqual=function(e){return EC(this._delegate,e._delegate)},i.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(o){o=pt(o,Pr);var u=pt(o.firestore,dn),f=Ln(u),h=new Va(u);return function(g,_){var E=this,C=new rr;return g.asyncQueue.enqueueAndForget(function(){return(0,M.mG)(E,void 0,void 0,function(){var T;return(0,M.Jh)(this,function(I){switch(I.label){case 0:return T=function(N,P,j){return(0,M.mG)(this,void 0,void 0,function(){var Q,ce,_e,we,Re;return(0,M.Jh)(this,function(Ne){switch(Ne.label){case 0:return Ne.trys.push([0,2,,3]),[4,yp(N,P,!0)];case 1:return Re=Ne.sent(),Q=new Ra(P,Re.Bn),ce=Q._o(Re.documents),_e=Q.applyChanges(ce,!1),j.resolve(_e.snapshot),[3,3];case 2:return we=Ne.sent(),Re=Dl(we,"Failed to execute query '"+P+" against cache"),j.reject(Re),[3,3];case 3:return[2]}})})},[4,kv(g)];case 1:return[2,T.apply(void 0,[I.sent(),_,C])]}})})}),C.promise}(f,o._query).then(function(g){return new Is(u,h,o,g)})}(this._delegate):"server"===(null==e?void 0:e.source)?function(o){o=pt(o,Pr);var u=pt(o.firestore,dn),f=Ln(u),h=new Va(u);return Vv(f,o._query,{source:"server"}).then(function(g){return new Is(u,h,o,g)})}(this._delegate):function(o){o=pt(o,Pr);var u=pt(o.firestore,dn),f=Ln(u),h=new Va(u);return Bp(o._query),Vv(f,o._query).then(function(g){return new Is(u,h,o,g)})}(this._delegate)).then(function(o){return new Wp(t.firestore,new Is(t.firestore._delegate,t._userDataWriter,t._delegate,o._snapshot))})},i.prototype.onSnapshot=function(){for(var e=this,t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];var u=s_(t),f=jf(t,function(h){return new Wp(e.firestore,new Is(e.firestore._delegate,e._userDataWriter,e._delegate,h._snapshot))});return i_(this._delegate,u,f)},i.prototype.withConverter=function(e){return new i(this.firestore,this._delegate.withConverter(e?qp.nu(this.firestore,e):null))},i}(),yA=function(){function i(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(i.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"doc",{get:function(){return new zp(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),i}(),Wp=function(){function i(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(i.prototype,"query",{get:function(){return new xl(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map(function(t){return new zp(e._firestore,t)})},enumerable:!1,configurable:!0}),i.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map(function(o){return new yA(t._firestore,o)})},i.prototype.forEach=function(e,t){var o=this;this._delegate.forEach(function(u){e.call(t,new zp(o._firestore,u))})},i.prototype.isEqual=function(e){return jp(this._delegate,e._delegate)},i}(),ja=function(i){function e(t,o){var u=this;return(u=i.call(this,t,o)||this).firestore=t,u._delegate=o,u}return(0,M.ZT)(e,i),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new Lo(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Lo(this.firestore,void 0===t?xf(this._delegate):xf(this._delegate,t))}catch(o){throw ir(o,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var u,f,h,g,_,o=this;return(u=this._delegate,f=t,h=pt(u.firestore,dn),g=xf(u),_=Vf(u.converter,f),$p(h,[Lp(ka(u.firestore),"addDoc",g._key,_,null!==u.converter,{}).toMutation(g._key,xn.exists(!1))]).then(function(){return g})).then(function(u){return new Lo(o.firestore,u)})},e.prototype.isEqual=function(t){return bC(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?qp.nu(this.firestore,t):null))},e}(xl);function As(i){return pt(i,Bt)}var vA=function(){function i(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(uo.bind.apply(uo,(0,M.ev)([void 0],e)))}return i.documentId=function(){return new i(Ai.keyField().canonicalString())},i.prototype.isEqual=function(e){return(e=(0,Tt.m9)(e))instanceof uo&&this._delegate._internalPath.isEqual(e._internalPath)},i}(),a_=function(){function i(e){this._delegate=e}return i.serverTimestamp=function(){var e=new fA("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new i(e)},i.delete=function(){var e=new Wv("deleteField");return e._methodName="FieldValue.delete",new i(e)},i.arrayUnion=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return new Ff("arrayUnion",u)}.apply(void 0,e);return o._methodName="FieldValue.arrayUnion",new i(o)},i.arrayRemove=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var o=function(){for(var u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];return new SC("arrayRemove",u)}.apply(void 0,e);return o._methodName="FieldValue.arrayRemove",new i(o)},i.increment=function(e){var t=new IC("increment",e);return t._methodName="FieldValue.increment",new i(t)},i.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},i}(),_A=x(6034),UC={Firestore:kC,GeoPoint:kp,Timestamp:Ir,Blob:gA,Transaction:o_,WriteBatch:LC,DocumentReference:Lo,DocumentSnapshot:Ua,Query:xl,QueryDocumentSnapshot:zp,QuerySnapshot:Wp,CollectionReference:ja,FieldPath:vA,FieldValue:a_,setLogLevel:function(i){to.setLogLevel(i)},CACHE_SIZE_UNLIMITED:-1};function GC(i,e){return function(i,e=DN.z){return new _i.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function Kp(i,e){return GC(i,e).pipe((0,it.U)(t=>({payload:t,type:"query"})))}function Qp(i,e){return Kp(i,e).pipe(Cd(void 0),Si(),(0,it.U)(([t,o])=>{const u=o.payload.docChanges(),f=u.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((h,g)=>{const _=u.find(C=>C.doc.ref.isEqual(h.ref)),E=null==t?void 0:t.payload.docs.find(C=>C.ref.isEqual(h.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(h.metadata)||!_&&E&&JSON.stringify(E.metadata)===JSON.stringify(h.metadata)||f.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:h}})}),f}))}function $C(i,e,t){return Qp(i,t).pipe(au((o,u)=>function(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return u_(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return u_(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return u_(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(f=>f.payload),e),[]),t=>t.lift(new TN(void 0,void 0)),(0,it.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function u_(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function l_(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}!function(i){i.INTERNAL.registerComponent(new _A.wA("firestore",function(o){return e=o.getProvider("app").getImmediate(),t=o.getProvider("auth-internal"),new kC(e,new dn(e,t),new Uf);var e,t},"PUBLIC").setServiceProps(Object.assign({},UC))),i.registerVersion("@firebase/firestore","2.4.0")}(Yb.Z);class c_{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=Qp(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,it.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe(Cd(void 0),Si(),Yo(([o,u])=>u.length>0||!o),(0,it.U)(([o,u])=>u),this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(au((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=l_(e);return $C(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return Kp(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,Wt.D)(this.query.get(e)).pipe((0,ts.QV)(this.afs.schedulers.insideAngular))}add(e){return this.ref.add(e)}doc(e){return new f_(this.ref.doc(e),this.afs)}}class f_{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:f}=wA(o,t);return new c_(u,f,this.afs)}snapshotChanges(){return function(i,e){return GC(i,e).pipe(Cd(void 0),Si(),(0,it.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return this.snapshotChanges().pipe((0,it.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Wt.D)(this.ref.get(e)).pipe((0,ts.QV)(this.afs.schedulers.insideAngular))}}class bA{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?Qp(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),Yo(t=>t.length>0),this.afs.keepUnstableUntilFirst):Qp(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(e){return this.stateChanges(e).pipe(au((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=l_(e);return $C(this.query,t,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(e={}){return Kp(this.query,this.afs.schedulers.outsideAngular).pipe((0,it.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),this.afs.keepUnstableUntilFirst)}get(e){return(0,Wt.D)(this.query.get(e)).pipe((0,ts.QV)(this.afs.schedulers.insideAngular))}}const d_=new y.OlP("angularfire2.enableFirestorePersistence"),h_=new y.OlP("angularfire2.firestore.persistenceSettings"),p_=new y.OlP("angularfire2.firestore.settings"),EA=new y.OlP("angularfire2.firestore.use-emulator");function wA(i,e=(t=>t)){return{query:e(i),ref:i}}let CA=(()=>{class i{constructor(t,o,u,f,h,g,_,E,C){this.schedulers=new Mt.HU(g),this.keepUnstableUntilFirst=(0,Mt.ss)(this.schedulers);const T=(0,Mt.on)(t,g,o);!$b.Z.auth&&C&&(0,Mt.yq)();const I=E;[this.firestore,this.persistenceEnabled$]=(0,Mt.sI)(`${T.name}.firestore`,"AngularFirestore",T,()=>{const N=g.runOutsideAngular(()=>T.firestore());if(f&&N.settings(f),I&&N.useEmulator(...I),u&&!Og(h)){const P=()=>{try{return(0,Wt.D)(N.enablePersistence(_||void 0).then(()=>!0,()=>!1))}catch(j){return"undefined"!=typeof console&&console.warn(j),(0,Je.of)(!1)}};return[N,g.runOutsideAngular(P)]}return[N,(0,Je.of)(!1)]},[f,I,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:f,query:h}=wA(u,o),g=this.schedulers.ngZone.run(()=>f);return new c_(g,h,this)}collectionGroup(t,o){const u=o||(h=>h),f=this.firestore.collectionGroup(t);return new bA(u(f),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new f_(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(Mt.Dh),y.LFG(Mt.xv,8),y.LFG(d_,8),y.LFG(p_,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(h_,8),y.LFG(EA,8),y.LFG(eh,8))},i.\u0275prov=y.Yz7({factory:function(){return new i(y.LFG(Mt.Dh),y.LFG(Mt.xv,8),y.LFG(d_,8),y.LFG(p_,8),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(h_,8),y.LFG(EA,8),y.LFG(eh,8))},token:i,providedIn:"any"}),i})(),YN=(()=>{class i{static enablePersistence(t){return{ngModule:i,providers:[{provide:d_,useValue:!0},{provide:h_,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({providers:[CA]}),i})(),WC=(()=>{class i{constructor(t,o){this.afAuth=t,this.afs=o,this.user$=this.afAuth.authState.pipe(Cn(u=>u?this.afs.doc(`users/${u.uid}`).valueChanges():(0,Je.of)(null)))}login(t,o){var u=this;return Su(function*(){try{const{user:f}=yield u.afAuth.signInWithEmailAndPassword(t,o);return u.updateLogUser(t),f}catch(f){console.log(f)}return null})()}registro(t,o){var u=this;return Su(function*(){try{const{user:f}=yield u.afAuth.createUserWithEmailAndPassword(t,o);return u.updateUserData(f),f}catch(f){console.log(f)}return null})()}logout(){var t=this;return Su(function*(){try{yield t.afAuth.signOut()}catch(o){console.log(o)}})()}getUsuario(){return this.afAuth.authState.pipe(Zo()).toPromise()}updateUserData(t){return this.afs.doc(`user/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,myCustomData:"lola"},{merge:!0})}updateLogUser(t){return this.afs.collection("userlog").add({email:t,fechaIngreso:$b.Z.firestore.FieldValue.serverTimestamp()})}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(Kb),y.LFG(CA))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ZN(i,e){if(1&i&&(y.TgZ(0,"li",11),y.TgZ(1,"span",14),y._uU(2),y.qZA(),y.qZA()),2&i){const t=y.oxw().ngIf;y.xp6(2),y.Oqu(null==t?null:t.email)}}function JN(i,e){if(1&i){const t=y.EpF();y.TgZ(0,"li",11),y.TgZ(1,"a",15),y.NdJ("click",function(){return y.CHM(t),y.oxw(2).logOut()}),y._uU(2,"Logout"),y.qZA(),y.qZA()}}function XN(i,e){if(1&i&&(y.TgZ(0,"ul",7),y.TgZ(1,"li",8),y.TgZ(2,"a",9),y._uU(3,"Home "),y.TgZ(4,"span",10),y._uU(5,"(current)"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(6,"li",11),y.TgZ(7,"a",12),y._uU(8,"\xbfQuien Soy?"),y.qZA(),y.qZA(),y.YNc(9,ZN,3,1,"li",13),y.YNc(10,JN,3,0,"li",13),y.qZA()),2&i){const t=e.ngIf;y.xp6(9),y.Q6J("ngIf",t),y.xp6(1),y.Q6J("ngIf",t)}}function e1(i,e){1&i&&(y.TgZ(0,"ul",7),y.TgZ(1,"li",11),y.TgZ(2,"a",16),y._uU(3,"Login"),y.qZA(),y.qZA(),y.TgZ(4,"li",11),y.TgZ(5,"a",17),y._uU(6,"Registro"),y.qZA(),y.qZA(),y.qZA())}let DA=(()=>{class i{constructor(t,o){this.authSvc=t,this.router=o,this.user$=this.authSvc.afAuth.user}ngOnInit(){}logOut(){var t=this;return Su(function*(){try{yield t.authSvc.logout(),t.router.navigate(["/"])}catch(o){console.log(o)}})()}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(WC),y.Y36(On))},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-menu"]],decls:10,vars:4,consts:[[1,"rosa","navbar","navbar-expand-lg"],["routerLink","/home",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarColor02","aria-controls","navbarColor02","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarColor02",1,"collapse","navbar-collapse"],["class","navbar-nav mr-auto",4,"ngIf","ngIfElse"],["login",""],[1,"navbar-nav","mr-auto"],[1,"nav-item","active"],["routerLink","/home",1,"nav-link"],[1,"sr-only"],[1,"nav-item"],["routerLink","/quiensoy",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"nav-link"],[1,"nav-link",3,"click"],["routerLink","/",1,"nav-link"],["routerLink","/registro",1,"nav-link"]],template:function(t,o){if(1&t&&(y.TgZ(0,"nav",0),y.TgZ(1,"a",1),y._uU(2,"Sala de Juegos"),y.qZA(),y.TgZ(3,"button",2),y._UZ(4,"span",3),y.qZA(),y.TgZ(5,"div",4),y.YNc(6,XN,11,2,"ul",5),y.ALo(7,"async"),y.YNc(8,e1,7,0,"ng-template",null,6,y.W1O),y.qZA(),y.qZA()),2&t){const u=y.MAs(9);y.xp6(6),y.Q6J("ngIf",y.lcZ(7,2,o.user$))("ngIfElse",u)}},directives:[ea,js],pipes:[h0],styles:[".rosa[_ngcontent-%COMP%]{background-color:#ffbfcf}"]}),i})(),t1=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-home"]],decls:6,vars:0,consts:[[1,"containerD"],[1,"hero-text"],["src","./assets/imagenes/sala.png","width","700"]],template:function(t,o){1&t&&(y._UZ(0,"app-menu"),y.TgZ(1,"div",0),y._UZ(2,"br"),y.TgZ(3,"div",1),y.TgZ(4,"div"),y._UZ(5,"img",2),y.qZA(),y.qZA(),y.qZA())},directives:[DA],styles:[""]}),i})();var n1=x(1555);function g_(i,e){return new _i.y(t=>{const o=i.length;if(0===o)return void t.complete();const u=new Array(o);let f=0,h=0;for(let g=0;g<o;g++){const _=(0,Wt.D)(i[g]);let E=!1;t.add(_.subscribe({next:C=>{E||(E=!0,h++),u[g]=C},error:C=>t.error(C),complete:()=>{f++,(f===o||!E)&&(h===o&&t.next(e?e.reduce((C,T,I)=>(C[T]=u[I],C),{}):u),t.complete())}}))}})}let TA=(()=>{class i{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(y.Qsj),y.Y36(y.SBq))},i.\u0275dir=y.lG2({type:i}),i})(),Fl=(()=>{class i extends TA{}return i.\u0275fac=function(){let e;return function(o){return(e||(e=y.n5z(i)))(o||i)}}(),i.\u0275dir=y.lG2({type:i,features:[y.qOj]}),i})();const Vo=new y.OlP("NgValueAccessor"),IA={provide:Vo,useExisting:(0,y.Gpc)(()=>Yp),multi:!0},o1=new y.OlP("CompositionEventMode");let Yp=(()=>{class i extends TA{constructor(t,o,u){super(t,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const i=he()?he().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(o1,8))},i.\u0275dir=y.lG2({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&y.NdJ("input",function(f){return o._handleInput(f.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(f){return o._compositionEnd(f.target.value)})},features:[y._Bn([IA]),y.qOj]}),i})();const or=new y.OlP("NgValidators"),Ba=new y.OlP("NgAsyncValidators");function Jp(i){return null!=i}function y_(i){const e=(0,y.QGY)(i)?(0,Wt.D)(i):i;return(0,y.CqO)(e),e}function v_(i){let e={};return i.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function __(i,e){return e.map(t=>t(i))}function b_(i){return i.map(e=>function(i){return!i.validate}(e)?e:t=>e.validate(t))}function Xp(i){return null!=i?function(i){if(!i)return null;const e=i.filter(Jp);return 0==e.length?null:function(t){return v_(__(t,e))}}(b_(i)):null}function XC(i){return null!=i?function(i){if(!i)return null;const e=i.filter(Jp);return 0==e.length?null:function(t){return function(...i){if(1===i.length){const e=i[0];if((0,ou.k)(e))return g_(e,null);if((0,n1.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return g_(t.map(o=>e[o]),t)}}if("function"==typeof i[i.length-1]){const e=i.pop();return g_(i=1===i.length&&(0,ou.k)(i[0])?i[0]:i,null).pipe((0,it.U)(t=>e(...t)))}return g_(i,null)}(__(t,e).map(y_)).pipe((0,it.U)(v_))}}(b_(i)):null}function RA(i,e){return null===i?[e]:Array.isArray(i)?[...i,e]:[i,e]}function eD(i){return i._rawValidators}function OA(i){return i._rawAsyncValidators}function kl(i){return i?Array.isArray(i)?i:[i]:[]}function eg(i,e){return Array.isArray(i)?i.includes(e):i===e}function PA(i,e){const t=kl(e);return kl(i).forEach(u=>{eg(t,u)||t.push(u)}),t}function xA(i,e){return kl(e).filter(t=>!eg(i,t))}let tg=(()=>{class i{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Xp(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=XC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,o){return!!this.control&&this.control.hasError(t,o)}getError(t,o){return this.control?this.control.getError(t,o):null}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=y.lG2({type:i}),i})(),gr=(()=>{class i extends tg{get formDirective(){return null}get path(){return null}}return i.\u0275fac=function(){let e;return function(o){return(e||(e=y.n5z(i)))(o||i)}}(),i.\u0275dir=y.lG2({type:i,features:[y.qOj]}),i})();class Ha extends tg{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class FA{constructor(e){this._cd=e}is(e){var t,o,u;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(u=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===u?void 0:u[e])}}let ng=(()=>{class i extends FA{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(Ha,2))},i.\u0275dir=y.lG2({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&y.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[y.qOj]}),i})(),E_=(()=>{class i extends FA{constructor(t){super(t)}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(gr,10))},i.\u0275dir=y.lG2({type:i,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,o){2&t&&y.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))("ng-submitted",o.is("submitted"))},features:[y.qOj]}),i})();function rg(i,e){return[...e.path,i]}function Gf(i,e){D_(i,e),e.valueAccessor.writeValue(i.value),function(i,e){e.valueAccessor.registerOnChange(t=>{i._pendingValue=t,i._pendingChange=!0,i._pendingDirty=!0,"change"===i.updateOn&&oD(i,e)})}(i,e),function(i,e){const t=(o,u)=>{e.valueAccessor.writeValue(o),u&&e.viewToModelUpdate(o)};i.registerOnChange(t),e._registerOnDestroy(()=>{i._unregisterOnChange(t)})}(i,e),function(i,e){e.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,"blur"===i.updateOn&&i._pendingChange&&oD(i,e),"submit"!==i.updateOn&&i.markAsTouched()})}(i,e),function(i,e){if(e.valueAccessor.setDisabledState){const t=o=>{e.valueAccessor.setDisabledState(o)};i.registerOnDisabledChange(t),e._registerOnDestroy(()=>{i._unregisterOnDisabledChange(t)})}}(i,e)}function Ll(i,e,t=!0){const o=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(o),e.valueAccessor.registerOnTouched(o)),$f(i,e),i&&(e._invokeOnDestroyCallbacks(),i._registerOnCollectionChange(()=>{}))}function Hf(i,e){i.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function D_(i,e){const t=eD(i);null!==e.validator?i.setValidators(RA(t,e.validator)):"function"==typeof t&&i.setValidators([t]);const o=OA(i);null!==e.asyncValidator?i.setAsyncValidators(RA(o,e.asyncValidator)):"function"==typeof o&&i.setAsyncValidators([o]);const u=()=>i.updateValueAndValidity();Hf(e._rawValidators,u),Hf(e._rawAsyncValidators,u)}function $f(i,e){let t=!1;if(null!==i){if(null!==e.validator){const u=eD(i);if(Array.isArray(u)&&u.length>0){const f=u.filter(h=>h!==e.validator);f.length!==u.length&&(t=!0,i.setValidators(f))}}if(null!==e.asyncValidator){const u=OA(i);if(Array.isArray(u)&&u.length>0){const f=u.filter(h=>h!==e.asyncValidator);f.length!==u.length&&(t=!0,i.setAsyncValidators(f))}}}const o=()=>{};return Hf(e._rawValidators,o),Hf(e._rawAsyncValidators,o),t}function oD(i,e){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function zr(i,e){if(!i.hasOwnProperty("model"))return!1;const t=i.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function I_(i,e){if(!e)return null;let t,o,u;return Array.isArray(e),e.forEach(f=>{f.constructor===Yp?t=f:function(i){return Object.getPrototypeOf(i.constructor)===Fl}(f)?o=f:u=f}),u||o||t||null}function A_(i,e){const t=i.indexOf(e);t>-1&&i.splice(t,1)}const qf="VALID",ig="INVALID",zf="PENDING",Wf="DISABLED";function M_(i){return(fD(i)?i.validators:i)||null}function lD(i){return Array.isArray(i)?Xp(i):i||null}function og(i,e){return(fD(e)?e.asyncValidators:i)||null}function cD(i){return Array.isArray(i)?XC(i):i||null}function fD(i){return null!=i&&!Array.isArray(i)&&"object"==typeof i}class sg{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=lD(this._rawValidators),this._composedAsyncValidatorFn=cD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===qf}get invalid(){return this.status===ig}get pending(){return this.status==zf}get disabled(){return this.status===Wf}get enabled(){return this.status!==Wf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=lD(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=cD(e)}addValidators(e){this.setValidators(PA(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(PA(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xA(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xA(e,this._rawAsyncValidators))}hasValidator(e){return eg(this._rawValidators,e)}hasAsyncValidator(e){return eg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=zf,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Wf,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=qf,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===qf||this.status===zf)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Wf:qf}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=zf,this._hasOwnPendingAsyncValidator=!0;const t=y_(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(i,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let o=i;return e.forEach(u=>{o=o instanceof Kf?o.controls.hasOwnProperty(u)?o.controls[u]:null:o instanceof GA&&o.at(u)||null}),o}(this,e)}getError(e,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?Wf:this.errors?ig:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(zf)?zf:this._anyControlsHaveStatus(ig)?ig:qf}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Uo extends sg{constructor(e=null,t,o){super(M_(t),og(o,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){A_(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){A_(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class Kf extends sg{constructor(e,t,o){super(M_(t),og(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,o={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,o={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((o,u)=>{o.reset(e[u],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,o)=>(e[o]=t instanceof Uo?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&e(o,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const o=this.controls[t];if(this.contains(t)&&e(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,o)=>((t.enabled||this.disabled)&&(e[o]=t.value),e))}_reduceChildren(e,t){let o=e;return this._forEachChild((u,f)=>{o=t(o,u,f)}),o}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,o)=>{if(void 0===e[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class GA extends sg{constructor(e,t,o){super(M_(t),og(o,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,o={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,o={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((o,u)=>{this._throwIfControlMissing(u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((o,u)=>{o.reset(e[u],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof Uo?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,o)=>{e(t,o)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,o)=>{if(void 0===e[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const HA={provide:Ha,useExisting:(0,y.Gpc)(()=>R_)},gD=(()=>Promise.resolve(null))();let R_=(()=>{class i extends Ha{constructor(t,o,u,f){super(),this.control=new Uo,this._registered=!1,this.update=new y.vpe,this._parent=t,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=I_(0,f)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),zr(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?rg(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Gf(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){gD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const o=t.isDisabled.currentValue,u=""===o||o&&"false"!==o;gD.then(()=>{u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable()})}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(gr,9),y.Y36(or,10),y.Y36(Ba,10),y.Y36(Vo,10))},i.\u0275dir=y.lG2({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([HA]),y.qOj,y.TTD]}),i})(),lg=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275dir=y.lG2({type:i,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),i})(),Mn=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({}),i})();const Vl=new y.OlP("NgModelWithFormControlWarning"),bD={provide:gr,useExisting:(0,y.Gpc)(()=>Pi)};let Pi=(()=>{class i extends gr{constructor(t,o){super(),this.validators=t,this.asyncValidators=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new y.vpe,this._setValidators(t),this._setAsyncValidators(o)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&($f(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const o=this.form.get(t.path);return Gf(o,t),o.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),o}getControl(t){return this.form.get(t.path)}removeControl(t){Ll(t.control||null,t,!1),A_(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,o){this.form.get(t.path).setValue(o)}onSubmit(t){return this.submitted=!0,function(i,e){i._syncPendingControls(),e.forEach(t=>{const o=t.control;"submit"===o.updateOn&&o._pendingChange&&(t.viewToModelUpdate(o._pendingValue),o._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const o=t.control,u=this.form.get(t.path);o!==u&&(Ll(o||null,t),u instanceof Uo&&(Gf(u,t),t.control=u))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const o=this.form.get(t.path);(function(i,e){D_(i,e)})(o,t),o.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const o=this.form.get(t.path);o&&function(i,e){return $f(i,e)}(o,t)&&o.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){D_(this.form,this),this._oldForm&&$f(this._oldForm,this)}_checkFormPresent(){}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(or,10),y.Y36(Ba,10))},i.\u0275dir=y.lG2({type:i,selectors:[["","formGroup",""]],hostBindings:function(t,o){1&t&&y.NdJ("submit",function(f){return o.onSubmit(f)})("reset",function(){return o.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([bD]),y.qOj,y.TTD]}),i})();const WA={provide:Ha,useExisting:(0,y.Gpc)(()=>Ul)};let Ul=(()=>{class i extends Ha{constructor(t,o,u,f,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new y.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=I_(0,f)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),zr(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return rg(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(gr,13),y.Y36(or,10),y.Y36(Ba,10),y.Y36(Vo,10),y.Y36(Vl,8))},i.\u0275dir=y.lG2({type:i,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[y._Bn([WA]),y.qOj,y.TTD]}),i._ngModelWarningSentOnce=!1,i})();const wD={provide:Vo,useExisting:(0,y.Gpc)(()=>cg),multi:!0};function Nn(i,e){return null==i?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${i}: ${e}`.slice(0,50))}let cg=(()=>{class i extends Fl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=this._getOptionId(t);null==o&&this.setProperty("selectedIndex",-1);const u=Nn(o,t);this.setProperty("value",u)}registerOnChange(t){this.onChange=o=>{this.value=this._getOptionValue(o),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),t))return o;return null}_getOptionValue(t){const o=function(i){return i.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o):t}}return i.\u0275fac=function(){let e;return function(o){return(e||(e=y.n5z(i)))(o||i)}}(),i.\u0275dir=y.lG2({type:i,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,o){1&t&&y.NdJ("change",function(f){return o.onChange(f.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([wD]),y.qOj]}),i})(),CD=(()=>{class i{constructor(t,o,u){this._element=t,this._renderer=o,this._select=u,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Nn(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(cg,9))},i.\u0275dir=y.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})();const _1={provide:Vo,useExisting:(0,y.Gpc)(()=>DD),multi:!0};function Zf(i,e){return null==i?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${i}: ${e}`.slice(0,50))}let DD=(()=>{class i extends Fl{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let o;if(this.value=t,Array.isArray(t)){const u=t.map(f=>this._getOptionId(f));o=(f,h)=>{f._setSelected(u.indexOf(h.toString())>-1)}}else o=(u,f)=>{u._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(t){this.onChange=o=>{const u=[];if(void 0!==o.selectedOptions){const f=o.selectedOptions;for(let h=0;h<f.length;h++){const g=f.item(h),_=this._getOptionValue(g.value);u.push(_)}}else{const f=o.options;for(let h=0;h<f.length;h++){const g=f.item(h);if(g.selected){const _=this._getOptionValue(g.value);u.push(_)}}}this.value=u,t(u)}}_registerOption(t){const o=(this._idCounter++).toString();return this._optionMap.set(o,t),o}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,t))return o;return null}_getOptionValue(t){const o=function(i){return i.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o)._value:t}}return i.\u0275fac=function(){let e;return function(o){return(e||(e=y.n5z(i)))(o||i)}}(),i.\u0275dir=y.lG2({type:i,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,o){1&t&&y.NdJ("change",function(f){return o.onChange(f.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[y._Bn([_1]),y.qOj]}),i})(),QA=(()=>{class i{constructor(t,o,u){this._element=t,this._renderer=o,this._select=u,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Zf(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Zf(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(y.SBq),y.Y36(y.Qsj),y.Y36(DD,9))},i.\u0275dir=y.lG2({type:i,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),i})(),iM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({imports:[[Mn]]}),i})(),oM=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({imports:[iM]}),i})(),sM=(()=>{class i{static withConfig(t){return{ngModule:i,providers:[{provide:Vl,useValue:t.warnOnNgModelWithFormControl}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({imports:[iM]}),i})();const S1=[{path:"",component:(()=>{class i{constructor(t,o){this.authSvc=t,this.router=o,this.loginForm=new Kf({email:new Uo(""),password:new Uo("")}),this.seleccion="",this.usuario="",this.clave=""}ngOnInit(){}onLogin(){var t=this;return Su(function*(){const{email:o,password:u}=t.loginForm.value;try{const f=t.authSvc.login(o,u);console.log(f),(yield f)&&t.router.navigate(["/home"])}catch(f){console.log(f)}})()}onChange(t){switch(console.log(t),t){case"admin":this.loginForm.setValue({email:"usuario@usuario.com",password:"123456"}),console.log(this.loginForm.value);break;case"fulanito":this.loginForm.setValue({email:"mail@hola.com",password:"clave123"})}}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(WC),y.Y36(On))},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-login"]],decls:30,vars:4,consts:[[1,"row"],[1,"col-md-6","mx-auto","mt-5"],[1,"car"],[1,"card-body"],[1,"tetx-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email",1,"form-control",3,"value"],["for","password"],["type","password","formControlName","password",1,"form-control",3,"value"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block"],[1,"form-group","mt-3"],["routerLink","/registro",1,"button"],["for","usuarios"],["value","seleccione","okText","Seleccionar","name","usuarios","cancelText","Cancelar",1,"form-control",3,"ngModel","ngModelChange","change"],["value","admin"],["value","fulanito"]],template:function(t,o){1&t&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"h1",4),y._uU(5,"Login"),y.qZA(),y.TgZ(6,"form",5),y.NdJ("ngSubmit",function(){return o.onLogin()}),y.TgZ(7,"div",6),y.TgZ(8,"label",7),y._uU(9,"Email"),y.qZA(),y._UZ(10,"input",8),y.qZA(),y.TgZ(11,"div",6),y.TgZ(12,"label",9),y._uU(13,"Clave"),y.qZA(),y._UZ(14,"input",10),y.qZA(),y.TgZ(15,"button",11),y._uU(16,"Ingresar"),y.qZA(),y.qZA(),y.TgZ(17,"div",12),y.TgZ(18,"p"),y._uU(19,"\xbfNo tienes una cuenta? "),y.TgZ(20,"a",13),y._uU(21,"Registro de usuario"),y.qZA(),y.qZA(),y.qZA(),y.TgZ(22,"div",12),y.TgZ(23,"label",14),y._uU(24,"Seleccione usuario "),y.qZA(),y.TgZ(25,"select",15),y.NdJ("ngModelChange",function(f){return o.seleccion=f})("change",function(){return o.onChange(o.seleccion)}),y.TgZ(26,"option",16),y._uU(27,"admin"),y.qZA(),y.TgZ(28,"option",17),y._uU(29,"Fulanito"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&t&&(y.xp6(6),y.Q6J("formGroup",o.loginForm),y.xp6(4),y.s9C("value",o.usuario),y.xp6(4),y.s9C("value",o.clave),y.xp6(11),y.Q6J("ngModel",o.seleccion))},directives:[lg,E_,Pi,Yp,ng,Ul,ea,cg,R_,CD,QA],styles:[""]}),i})()},{path:"home",component:t1},{path:"quiensoy",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-quien-soy"]],decls:40,vars:0,consts:[[1,"row"],["id","quiwn",1,"col-md-6","text-center"],[1,"margin"],["href","https://github.com/Vaninaquezada/SalaDeJuegos/tree/master","target","_blank"],[1,"fa","fa-github"],["src","./assets/imagenes/quiensoy.jpg","alt","Bird","width","350","height","350",1,"img-responsive","img-circle","margin",2,"display","inline"],["id","que",1,"col-md-6","text-center"],["id","donde",1,"container-fluid","bg-3","text-center"],[1,"col-sm-4"],["src","./assets/imagenes/quiensoy1.jpg","alt","Image",1,"img-responsive","margin","imagenDeQuienSoy"],["src","./assets/imagenes/quiensoy2.jpg","alt","Image",1,"img-responsive","margin","imagenDeQuienSoy"],["src","./assets/imagenes/quiensoy3.png","alt","Image",1,"img-responsive","margin","imagenDeQuienSoy"],[1,"container-fluid","bg-4","text-center"],["href","https://www.blablabla.com.ar"]],template:function(t,o){1&t&&(y._UZ(0,"app-menu"),y.TgZ(1,"div",0),y.TgZ(2,"div",1),y.TgZ(3,"h3",2),y._uU(4,"\xbfQui\xe9n Soy?"),y.qZA(),y.TgZ(5,"p"),y._uU(6,"Vanina Quezada"),y.qZA(),y.TgZ(7,"a",3),y._uU(8,"en GitHub "),y._UZ(9,"i",4),y.qZA(),y._UZ(10,"img",5),y.TgZ(11,"h3"),y._uU(12,"Soy Un alumno de la UTN FRA, Vanina Quezada"),y.qZA(),y.qZA(),y.TgZ(13,"div",6),y.TgZ(14,"h2",2),y._uU(15,"Juego: A seleccionar"),y.qZA(),y.TgZ(16,"p"),y._uU(17,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Quis sunt autem nesciunt, maxime ipsum, officiis sapiente voluptate, blanditiis aperiam iste nemo dolorum vel! Error neque est, facere modi cum perferendis. "),y.qZA(),y.qZA(),y.qZA(),y.TgZ(18,"div",7),y.TgZ(19,"h3",2),y._uU(20,"\xbfD\xf3nde Funciona?"),y.qZA(),y._UZ(21,"br"),y.TgZ(22,"div",0),y.TgZ(23,"div",8),y._UZ(24,"img",9),y.TgZ(25,"p"),y._uU(26,"Con las tecnologias WEB que permiten desarrollar aplicaciones multiplataforma"),y.qZA(),y.qZA(),y.TgZ(27,"div",8),y._UZ(28,"img",10),y.TgZ(29,"p"),y._uU(30,"Principalmente orientada a la experiencia del usuario, garantizando que su funcionamieto sea fluido y pensado en el comportamiento del usuario y en la funcionalidad."),y.qZA(),y.qZA(),y.TgZ(31,"div",8),y._UZ(32,"img",11),y.TgZ(33,"p"),y._uU(34,"Para los sistemas operativos lideres en el mercado del consumo masivo"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.TgZ(35,"footer",12),y.TgZ(36,"p"),y._uU(37,"Modificado por "),y.TgZ(38,"a",13),y._uU(39,"https://www.blablabla.com.ar"),y.qZA(),y.qZA(),y.qZA())},directives:[DA],styles:[".imagenDeQuienSoy[_ngcontent-%COMP%]{width:400px;height:250px}body[_ngcontent-%COMP%]{font:20px Montserrat,sans-serif;line-height:1.8;color:#f5f6f7}p[_ngcontent-%COMP%]{font-size:16px}.margin[_ngcontent-%COMP%]{margin-bottom:45px}.bg-1[_ngcontent-%COMP%]{background-color:#1abc9c;color:#fff}.bg-2[_ngcontent-%COMP%]{background-color:#474e5d;color:#fff}.bg-3[_ngcontent-%COMP%]{background-color:#fff;color:#555}.bg-4[_ngcontent-%COMP%]{background-color:#3a0447;color:#fff;height:20%}.container-fluid[_ngcontent-%COMP%]{padding-top:70px;padding-bottom:70px}.navbar[_ngcontent-%COMP%]{padding-top:15px;padding-bottom:15px;border:0;border-radius:0;margin-bottom:0;font-size:12px;letter-spacing:5px}.navbar-nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#1abc9c!important}nav[_ngcontent-%COMP%]{display:flex;background-color:#0e3aff;color:#fff}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:10px}.active[_ngcontent-%COMP%]{background-color:#f3f3f3;border:solid;border-radius:25px;border-color:#328afd;color:#fff}a[_ngcontent-%COMP%]{color:#fff}.row[_ngcontent-%COMP%]{background-color:#ace7ff;padding:30px;color:#fff}#que[_ngcontent-%COMP%]{margin-top:60px}.juego[_ngcontent-%COMP%]{height:250px}.flecha[_ngcontent-%COMP%]{height:80px;margin:15px}"]}),i})()},{path:"registro",component:(()=>{class i{constructor(t,o){this.authSvc=t,this.router=o,this.registerForm=new Kf({email:new Uo(""),password:new Uo("")})}ngOnInit(){}onRegister(){var t=this;return Su(function*(){const{email:o,password:u}=t.registerForm.value;try{(yield t.authSvc.registro(o,u))&&t.router.navigate(["/home"])}catch(f){}})()}}return i.\u0275fac=function(t){return new(t||i)(y.Y36(WC),y.Y36(On))},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-registro"]],decls:22,vars:1,consts:[[1,"row"],[1,"col-md-6","mx-auto","mt-5"],[1,"car"],[1,"card-body"],[1,"tetx-center"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","formControlName","email",1,"form-control"],["for","password"],["type","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-lg","btn-block"],[1,"form-group","mt-3"],["routerLink","/",1,"button"]],template:function(t,o){1&t&&(y.TgZ(0,"div",0),y.TgZ(1,"div",1),y.TgZ(2,"div",2),y.TgZ(3,"div",3),y.TgZ(4,"h1",4),y._uU(5,"Registro de Usuario"),y.qZA(),y.TgZ(6,"form",5),y.NdJ("ngSubmit",function(){return o.onRegister()}),y.TgZ(7,"div",6),y.TgZ(8,"label",7),y._uU(9,"Email"),y.qZA(),y._UZ(10,"input",8),y.qZA(),y.TgZ(11,"div",6),y.TgZ(12,"label",9),y._uU(13,"Clave"),y.qZA(),y._UZ(14,"input",10),y.qZA(),y.TgZ(15,"button",11),y._uU(16,"Registrar"),y.qZA(),y.qZA(),y.TgZ(17,"div",12),y.TgZ(18,"p"),y._uU(19,"\xbfYa tienes una cuenta? "),y.TgZ(20,"a",13),y._uU(21,"Login"),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA(),y.qZA()),2&t&&(y.xp6(6),y.Q6J("formGroup",o.registerForm))},directives:[lg,E_,Pi,Yp,ng,Ul,ea],styles:[""]}),i})()}];let I1=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({imports:[[Jd.forRoot(S1)],Jd]}),i})(),k_=(()=>{class i{constructor(){this.title="TpSalaDeJuego"}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=y.Xpm({type:i,selectors:[["app-root"]],decls:1,vars:0,template:function(t,o){1&t&&y._UZ(0,"router-outlet")},directives:[Zd],styles:[""]}),i})();class OD{}const jo="*";function PD(i,e=null){return{type:2,steps:i,options:e}}function di(i){return{type:6,styles:i,offset:null}}function dg(i){Promise.resolve(null).then(i)}class Bo{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){dg(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class Jf{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,o=0,u=0;const f=this.players.length;0==f?dg(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==f&&this._onFinish()}),h.onDestroy(()=>{++o==f&&this._onDestroy()}),h.onStart(()=>{++u==f&&this._onStart()})}),this.totalTime=this.players.reduce((h,g)=>Math.max(h,g.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(o=>{const u=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(u)})}getPosition(){const e=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}function L_(){return"undefined"!=typeof window&&void 0!==window.document}function V_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Rs(i){switch(i.length){case 0:return new Bo;case 1:return i[0];default:return new Jf(i)}}function U_(i,e,t,o,u={},f={}){const h=[],g=[];let _=-1,E=null;if(o.forEach(C=>{const T=C.offset,I=T==_,N=I&&E||{};Object.keys(C).forEach(P=>{let j=P,Q=C[P];if("offset"!==P)switch(j=e.normalizePropertyName(j,h),Q){case"!":Q=u[P];break;case jo:Q=f[P];break;default:Q=e.normalizeStyleValue(P,j,Q,h)}N[j]=Q}),I||g.push(N),E=N,_=T}),h.length){const C="\n - ";throw new Error(`Unable to animate due to the following errors:${C}${h.join(C)}`)}return g}function j_(i,e,t,o){switch(e){case"start":i.onStart(()=>o(t&&B_(t,"start",i)));break;case"done":i.onDone(()=>o(t&&B_(t,"done",i)));break;case"destroy":i.onDestroy(()=>o(t&&B_(t,"destroy",i)))}}function B_(i,e,t){const o=t.totalTime,f=G_(i.element,i.triggerName,i.fromState,i.toState,e||i.phaseName,null==o?i.totalTime:o,!!t.disabled),h=i._data;return null!=h&&(f._data=h),f}function G_(i,e,t,o,u="",f=0,h){return{element:i,triggerName:e,fromState:t,toState:o,phaseName:u,totalTime:f,disabled:!!h}}function mr(i,e,t){let o;return i instanceof Map?(o=i.get(e),o||i.set(e,o=t)):(o=i[e],o||(o=i[e]=t)),o}function kD(i){const e=i.indexOf(":");return[i.substring(1,e),i.substr(e+1)]}let qn=(i,e)=>!1,jl=(i,e)=>!1,Xf=(i,e,t)=>[];const H_=V_();(H_||"undefined"!=typeof Element)&&(qn=L_()?(i,e)=>{for(;e&&e!==document.documentElement;){if(e===i)return!0;e=e.parentNode||e.host}return!1}:(i,e)=>i.contains(e),jl=(()=>{if(H_||Element.prototype.matches)return(i,e)=>i.matches(e);{const i=Element.prototype,e=i.matchesSelector||i.mozMatchesSelector||i.msMatchesSelector||i.oMatchesSelector||i.webkitMatchesSelector;return e?(t,o)=>e.apply(t,[o]):jl}})(),Xf=(i,e,t)=>{let o=[];if(t){const u=i.querySelectorAll(e);for(let f=0;f<u.length;f++)o.push(u[f])}else{const u=i.querySelector(e);u&&o.push(u)}return o});let za=null,VD=!1;function $_(i){za||(za=("undefined"!=typeof document?document.body:null)||{},VD=!!za.style&&"WebkitAppearance"in za.style);let e=!0;return za.style&&!function(i){return"ebkit"==i.substring(1,6)}(i)&&(e=i in za.style,!e&&VD&&(e="Webkit"+i.charAt(0).toUpperCase()+i.substr(1)in za.style)),e}const mg=jl,q_=qn,z_=Xf;let Go=(()=>{class i{validateStyleProperty(t){return $_(t)}matchesElement(t,o){return mg(t,o)}containsElement(t,o){return q_(t,o)}query(t,o,u){return z_(t,o,u)}computeStyle(t,o,u){return u||""}animate(t,o,u,f,h,g=[],_){return new Bo(u,f)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();class Os{}Os.NOOP=new Go;const K_="ng-enter",Bl="ng-leave",ed="ng-trigger",yg=".ng-trigger",BD="ng-animating",Q_=".ng-animating";function yr(i){if("number"==typeof i)return i;const e=i.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Wa(parseFloat(e[1]),e[2])}function Wa(i,e){switch(e){case"s":return 1e3*i;default:return i}}function Ho(i,e,t){return i.hasOwnProperty("duration")?i:function(i,e,t){let u,f=0,h="";if("string"==typeof i){const g=i.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===g)return e.push(`The provided timing value "${i}" is invalid.`),{duration:0,delay:0,easing:""};u=Wa(parseFloat(g[1]),g[2]);const _=g[3];null!=_&&(f=Wa(parseFloat(_),g[4]));const E=g[5];E&&(h=E)}else u=i;if(!t){let g=!1,_=e.length;u<0&&(e.push("Duration values below 0 are not allowed for this animation step."),g=!0),f<0&&(e.push("Delay values below 0 are not allowed for this animation step."),g=!0),g&&e.splice(_,0,`The provided timing value "${i}" is invalid.`)}return{duration:u,delay:f,easing:h}}(i,e,t)}function Fi(i,e={}){return Object.keys(i).forEach(t=>{e[t]=i[t]}),e}function Ps(i,e,t={}){if(e)for(let o in i)t[o]=i[o];else Fi(i,t);return t}function HD(i,e,t){return t?e+":"+t+";":""}function Y_(i){let e="";for(let t=0;t<i.style.length;t++){const o=i.style.item(t);e+=HD(0,o,i.style.getPropertyValue(o))}for(const t in i.style)i.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=HD(0,yM(t),i.style[t]));i.setAttribute("style",e)}function ki(i,e,t){i.style&&(Object.keys(e).forEach(o=>{const u=e0(o);t&&!t.hasOwnProperty(o)&&(t[o]=i.style[u]),i.style[u]=e[o]}),V_()&&Y_(i))}function xs(i,e){i.style&&(Object.keys(e).forEach(t=>{const o=e0(t);i.style[o]=""}),V_()&&Y_(i))}function Gl(i){return Array.isArray(i)?1==i.length?i[0]:PD(i):i}const J_=new RegExp("{{\\s*(.+?)\\s*}}","g");function $D(i){let e=[];if("string"==typeof i){let t;for(;t=J_.exec(i);)e.push(t[1]);J_.lastIndex=0}return e}function td(i,e,t){const o=i.toString(),u=o.replace(J_,(f,h)=>{let g=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),g=""),g.toString()});return u==o?i:u}function co(i){const e=[];let t=i.next();for(;!t.done;)e.push(t.value),t=i.next();return e}const X_=/-+([a-z0-9])/g;function e0(i){return i.replace(X_,(...e)=>e[1].toUpperCase())}function yM(i){return i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function hi(i,e,t){switch(e.type){case 7:return i.visitTrigger(e,t);case 0:return i.visitState(e,t);case 1:return i.visitTransition(e,t);case 2:return i.visitSequence(e,t);case 3:return i.visitGroup(e,t);case 4:return i.visitAnimate(e,t);case 5:return i.visitKeyframes(e,t);case 6:return i.visitStyle(e,t);case 8:return i.visitReference(e,t);case 9:return i.visitAnimateChild(e,t);case 10:return i.visitAnimateRef(e,t);case 11:return i.visitQuery(e,t);case 12:return i.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function bM(i,e){const t=[];return"string"==typeof i?i.split(/\s*,\s*/).forEach(o=>function(i,e,t){if(":"==i[0]){const _=function(i,e){switch(i){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return e.push(`The transition alias value "${i}" is not supported`),"* => *"}}(i,t);if("function"==typeof _)return void e.push(_);i=_}const o=i.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(`The provided transition expression "${i}" is not supported`),e;const u=o[1],f=o[2],h=o[3];e.push(zD(u,h));"<"==f[0]&&!("*"==u&&"*"==h)&&e.push(zD(h,u))}(o,t,e)):t.push(i),t}const t0=new Set(["true","1"]),n0=new Set(["false","0"]);function zD(i,e){const t=t0.has(i)||n0.has(i),o=t0.has(e)||n0.has(e);return(u,f)=>{let h="*"==i||i==u,g="*"==e||e==f;return!h&&t&&"boolean"==typeof u&&(h=u?t0.has(i):n0.has(i)),!g&&o&&"boolean"==typeof f&&(g=f?t0.has(e):n0.has(e)),h&&g}}const x1=new RegExp("s*:selfs*,?","g");function WD(i,e,t){return new s(i).build(e,t)}class s{constructor(e){this._driver=e}build(e,t){const o=new c(t);return this._resetContextStyleTimingState(o),hi(this,Gl(e),o)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let o=t.queryCount=0,u=t.depCount=0;const f=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(g=>{if(this._resetContextStyleTimingState(t),0==g.type){const _=g,E=_.name;E.toString().split(/\s*,\s*/).forEach(C=>{_.name=C,f.push(this.visitState(_,t))}),_.name=E}else if(1==g.type){const _=this.visitTransition(g,t);o+=_.queryCount,u+=_.depCount,h.push(_)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:f,transitions:h,queryCount:o,depCount:u,options:null}}visitState(e,t){const o=this.visitStyle(e.styles,t),u=e.options&&e.options.params||null;if(o.containsDynamicStyles){const f=new Set,h=u||{};if(o.styles.forEach(g=>{if(p(g)){const _=g;Object.keys(_).forEach(E=>{$D(_[E]).forEach(C=>{h.hasOwnProperty(C)||f.add(C)})})}}),f.size){const g=co(f.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${g.join(", ")}`)}}return{type:0,name:e.name,style:o,options:u?{params:u}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const o=hi(this,Gl(e.animation),t);return{type:1,matchers:bM(e.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:v(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(o=>hi(this,o,t)),options:v(e.options)}}visitGroup(e,t){const o=t.currentTime;let u=0;const f=e.steps.map(h=>{t.currentTime=o;const g=hi(this,h,t);return u=Math.max(u,t.currentTime),g});return t.currentTime=u,{type:3,steps:f,options:v(e.options)}}visitAnimate(e,t){const o=function(i,e){let t=null;if(i.hasOwnProperty("duration"))t=i;else if("number"==typeof i)return b(Ho(i,e).duration,0,"");const o=i;if(o.split(/\s+/).some(f=>"{"==f.charAt(0)&&"{"==f.charAt(1))){const f=b(0,0,"");return f.dynamic=!0,f.strValue=o,f}return t=t||Ho(o,e),b(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=o;let u,f=e.styles?e.styles:di({});if(5==f.type)u=this.visitKeyframes(f,t);else{let h=e.styles,g=!1;if(!h){g=!0;const E={};o.easing&&(E.easing=o.easing),h=di(E)}t.currentTime+=o.duration+o.delay;const _=this.visitStyle(h,t);_.isEmptyStep=g,u=_}return t.currentAnimateTimings=null,{type:4,timings:o,style:u,options:null}}visitStyle(e,t){const o=this._makeStyleAst(e,t);return this._validateStyleAst(o,t),o}_makeStyleAst(e,t){const o=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==jo?o.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):o.push(h)}):o.push(e.styles);let u=!1,f=null;return o.forEach(h=>{if(p(h)){const g=h,_=g.easing;if(_&&(f=_,delete g.easing),!u)for(let E in g)if(g[E].toString().indexOf("{{")>=0){u=!0;break}}}),{type:6,styles:o,easing:f,offset:e.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(e,t){const o=t.currentAnimateTimings;let u=t.currentTime,f=t.currentTime;o&&f>0&&(f-=o.duration+o.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(g=>{if(!this._driver.validateStyleProperty(g))return void t.errors.push(`The provided animation property "${g}" is not a supported CSS property for animations`);const _=t.collectedStyles[t.currentQuerySelector],E=_[g];let C=!0;E&&(f!=u&&f>=E.startTime&&u<=E.endTime&&(t.errors.push(`The CSS property "${g}" that exists between the times of "${E.startTime}ms" and "${E.endTime}ms" is also being animated in a parallel animation between the times of "${f}ms" and "${u}ms"`),C=!1),f=E.startTime),C&&(_[g]={startTime:f,endTime:u}),t.options&&function(i,e,t){const o=e.params||{},u=$D(i);u.length&&u.forEach(f=>{o.hasOwnProperty(f)||t.push(`Unable to resolve the local animation param ${f} in the given list of values`)})}(h[g],t.options,t.errors)})})}visitKeyframes(e,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),o;let f=0;const h=[];let g=!1,_=!1,E=0;const C=e.steps.map(ce=>{const _e=this._makeStyleAst(ce,t);let we=null!=_e.offset?_e.offset:function(i){if("string"==typeof i)return null;let e=null;if(Array.isArray(i))i.forEach(t=>{if(p(t)&&t.hasOwnProperty("offset")){const o=t;e=parseFloat(o.offset),delete o.offset}});else if(p(i)&&i.hasOwnProperty("offset")){const t=i;e=parseFloat(t.offset),delete t.offset}return e}(_e.styles),Re=0;return null!=we&&(f++,Re=_e.offset=we),_=_||Re<0||Re>1,g=g||Re<E,E=Re,h.push(Re),_e});_&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),g&&t.errors.push("Please ensure that all keyframe offsets are in order");const T=e.steps.length;let I=0;f>0&&f<T?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==f&&(I=1/(T-1));const N=T-1,P=t.currentTime,j=t.currentAnimateTimings,Q=j.duration;return C.forEach((ce,_e)=>{const we=I>0?_e==N?1:I*_e:h[_e],Re=we*Q;t.currentTime=P+j.delay+Re,j.duration=Re,this._validateStyleAst(ce,t),ce.offset=we,o.styles.push(ce)}),o}visitReference(e,t){return{type:8,animation:hi(this,Gl(e.animation),t),options:v(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:v(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:v(e.options)}}visitQuery(e,t){const o=t.currentQuerySelector,u=e.options||{};t.queryCount++,t.currentQuery=e;const[f,h]=function(i){const e=!!i.split(/\s*,\s*/).find(t=>":self"==t);return e&&(i=i.replace(x1,"")),[i=i.replace(/@\*/g,yg).replace(/@\w+/g,t=>yg+"-"+t.substr(1)).replace(/:animating/g,Q_),e]}(e.selector);t.currentQuerySelector=o.length?o+" "+f:f,mr(t.collectedStyles,t.currentQuerySelector,{});const g=hi(this,Gl(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:f,limit:u.limit||0,optional:!!u.optional,includeSelf:h,animation:g,originalSelector:e.selector,options:v(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const o="full"===e.timings?{duration:0,delay:0,easing:"full"}:Ho(e.timings,t.errors,!0);return{type:12,animation:hi(this,Gl(e.animation),t),timings:o,options:null}}}class c{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function p(i){return!Array.isArray(i)&&"object"==typeof i}function v(i){return i?(i=Fi(i)).params&&(i.params=function(i){return i?Fi(i):null}(i.params)):i={},i}function b(i,e,t){return{duration:i,delay:e,easing:t}}function w(i,e,t,o,u,f,h=null,g=!1){return{type:1,element:i,keyframes:e,preStyleProps:t,postStyleProps:o,duration:u,delay:f,totalTime:u+f,easing:h,subTimeline:g}}class D{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let o=this._map.get(e);o||this._map.set(e,o=[]),o.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const F=new RegExp(":enter","g"),J=new RegExp(":leave","g");function H(i,e,t,o,u,f={},h={},g,_,E=[]){return(new be).buildKeyframes(i,e,t,o,u,f,h,g,_,E)}class be{buildKeyframes(e,t,o,u,f,h,g,_,E,C=[]){E=E||new D;const T=new Fe(e,t,E,u,f,C,[]);T.options=_,T.currentTimeline.setStyles([h],null,T.errors,_),hi(this,o,T);const I=T.timelines.filter(N=>N.containsAnimation());if(I.length&&Object.keys(g).length){const N=I[I.length-1];N.allowOnlyTimelineStyles()||N.setStyles([g],null,T.errors,_)}return I.length?I.map(N=>N.buildKeyframes()):[w(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const o=t.subInstructions.consume(t.element);if(o){const u=t.createSubContext(e.options),f=t.currentTimeline.currentTime,h=this._visitSubInstructions(o,u,u.options);f!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const o=t.createSubContext(e.options);o.transformIntoNewTimeline(),this.visitReference(e.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,o){let f=t.currentTimeline.currentTime;const h=null!=o.duration?yr(o.duration):null,g=null!=o.delay?yr(o.delay):null;return 0!==h&&e.forEach(_=>{const E=t.appendInstructionToTimeline(_,h,g);f=Math.max(f,E.duration+E.delay)}),f}visitReference(e,t){t.updateOptions(e.options,!0),hi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const o=t.subContextCount;let u=t;const f=e.options;if(f&&(f.params||f.delay)&&(u=t.createSubContext(f),u.transformIntoNewTimeline(),null!=f.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=ue);const h=yr(f.delay);u.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>hi(this,h,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>o&&u.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const o=[];let u=t.currentTimeline.currentTime;const f=e.options&&e.options.delay?yr(e.options.delay):0;e.steps.forEach(h=>{const g=t.createSubContext(e.options);f&&g.delayNextStep(f),hi(this,h,g),u=Math.max(u,g.currentTimeline.currentTime),o.push(g.currentTimeline)}),o.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(u),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const o=e.strValue;return Ho(t.params?td(o,t.params,t.errors):o,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const o=t.currentAnimateTimings=this._visitTiming(e.timings,t),u=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),u.snapshotCurrentStyles());const f=e.style;5==f.type?this.visitKeyframes(f,t):(t.incrementTime(o.duration),this.visitStyle(f,t),u.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const o=t.currentTimeline,u=t.currentAnimateTimings;!u&&o.getCurrentStyleProperties().length&&o.forwardFrame();const f=u&&u.easing||e.easing;e.isEmptyStep?o.applyEmptyStep(f):o.setStyles(e.styles,f,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const o=t.currentAnimateTimings,u=t.currentTimeline.duration,f=o.duration,g=t.createSubContext().currentTimeline;g.easing=o.easing,e.styles.forEach(_=>{g.forwardTime((_.offset||0)*f),g.setStyles(_.styles,_.easing,t.errors,t.options),g.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(g),t.transformIntoNewTimeline(u+f),t.previousNode=e}visitQuery(e,t){const o=t.currentTimeline.currentTime,u=e.options||{},f=u.delay?yr(u.delay):0;f&&(6===t.previousNode.type||0==o&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ue);let h=o;const g=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!u.optional,t.errors);t.currentQueryTotal=g.length;let _=null;g.forEach((E,C)=>{t.currentQueryIndex=C;const T=t.createSubContext(e.options,E);f&&T.delayNextStep(f),E===t.element&&(_=T.currentTimeline),hi(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,T.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const o=t.parentContext,u=t.currentTimeline,f=e.timings,h=Math.abs(f.duration),g=h*(t.currentQueryTotal-1);let _=h*t.currentQueryIndex;switch(f.duration<0?"reverse":f.easing){case"reverse":_=g-_;break;case"full":_=o.currentStaggerTime}const C=t.currentTimeline;_&&C.delayNextStep(_);const T=C.currentTime;hi(this,e.animation,t),t.previousNode=e,o.currentStaggerTime=u.currentTime-T+(u.startTime-o.currentTimeline.startTime)}}const ue={};class Fe{constructor(e,t,o,u,f,h,g,_){this._driver=e,this.element=t,this.subInstructions=o,this._enterClassName=u,this._leaveClassName=f,this.errors=h,this.timelines=g,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ue,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new $e(this._driver,t,0),g.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const o=e;let u=this.options;null!=o.duration&&(u.duration=yr(o.duration)),null!=o.delay&&(u.delay=yr(o.delay));const f=o.params;if(f){let h=u.params;h||(h=this.options.params={}),Object.keys(f).forEach(g=>{(!t||!h.hasOwnProperty(g))&&(h[g]=td(f[g],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const o=e.params={};Object.keys(t).forEach(u=>{o[u]=t[u]})}}return e}createSubContext(e=null,t,o){const u=t||this.element,f=new Fe(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,o||0));return f.previousNode=this.previousNode,f.currentAnimateTimings=this.currentAnimateTimings,f.options=this._copyOptions(),f.updateOptions(e),f.currentQueryIndex=this.currentQueryIndex,f.currentQueryTotal=this.currentQueryTotal,f.parentContext=this,this.subContextCount++,f}transformIntoNewTimeline(e){return this.previousNode=ue,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,o){const u={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+e.delay,easing:""},f=new gt(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,u,e.stretchStartingKeyframe);return this.timelines.push(f),u}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,o,u,f,h){let g=[];if(u&&g.push(this.element),e.length>0){e=(e=e.replace(F,"."+this._enterClassName)).replace(J,"."+this._leaveClassName);let E=this._driver.query(this.element,e,1!=o);0!==o&&(E=o<0?E.slice(E.length+o,E.length):E.slice(0,o)),g.push(...E)}return!f&&0==g.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),g}}class $e{constructor(e,t,o,u){this._driver=e,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=u,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new $e(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||jo,this._currentKeyframe[t]=jo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,o,u){t&&(this._previousKeyframe.easing=t);const f=u&&u.params||{},h=function(i,e){const t={};let o;return i.forEach(u=>{"*"===u?(o=o||Object.keys(e),o.forEach(f=>{t[f]=jo})):Ps(u,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(g=>{const _=td(h[g],f,o);this._pendingStyles[g]=_,this._localTimelineStyles.hasOwnProperty(g)||(this._backFill[g]=this._globalTimelineStyles.hasOwnProperty(g)?this._globalTimelineStyles[g]:jo),this._updateStyle(g,_)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(o=>{this._currentKeyframe[o]=e[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const o=this._styleSummary[t],u=e._styleSummary[t];(!o||u.time>o.time)&&this._updateStyle(t,u.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((g,_)=>{const E=Ps(g,!0);Object.keys(E).forEach(C=>{const T=E[C];"!"==T?e.add(C):T==jo&&t.add(C)}),o||(E.offset=_/this.duration),u.push(E)});const f=e.size?co(e.values()):[],h=t.size?co(t.values()):[];if(o){const g=u[0],_=Fi(g);g.offset=0,_.offset=1,u=[g,_]}return w(this.element,u,f,h,this.duration,this.startTime,this.easing,!1)}}class gt extends $e{constructor(e,t,o,u,f,h,g=!1){super(e,t,h.delay),this.keyframes=o,this.preStyleProps=u,this.postStyleProps=f,this._stretchStartingKeyframe=g,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:o,easing:u}=this.timings;if(this._stretchStartingKeyframe&&t){const f=[],h=o+t,g=t/h,_=Ps(e[0],!1);_.offset=0,f.push(_);const E=Ps(e[0],!1);E.offset=bn(g),f.push(E);const C=e.length-1;for(let T=1;T<=C;T++){let I=Ps(e[T],!1);I.offset=bn((t+I.offset*o)/h),f.push(I)}o=h,t=0,u="",e=f}return w(this.element,e,this.preStyleProps,this.postStyleProps,o,t,u,!0)}}function bn(i,e=3){const t=Math.pow(10,e-1);return Math.round(i*t)/t}class Fs{}class Hl extends Fs{normalizePropertyName(e,t){return e0(e)}normalizeStyleValue(e,t,o,u){let f="";const h=o.toString().trim();if(r0[t]&&0!==o&&"0"!==o)if("number"==typeof o)f="px";else{const g=o.match(/^[+-]?[\d\.]+([a-z]*)$/);g&&0==g[1].length&&u.push(`Please provide a CSS unit value for ${e}:${o}`)}return h+f}}const r0=(()=>function(i){const e={};return i.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Eg(i,e,t,o,u,f,h,g,_,E,C,T,I){return{type:0,element:i,triggerName:e,isRemovalTransition:u,fromState:t,fromStyles:f,toState:o,toStyles:h,timelines:g,queriedElements:_,preStyleProps:E,postStyleProps:C,totalTime:T,errors:I}}const rd={};class F1{constructor(e,t,o){this._triggerName=e,this.ast=t,this._stateStyles=o}match(e,t,o,u){return function(i,e,t,o,u){return i.some(f=>f(e,t,o,u))}(this.ast.matchers,e,t,o,u)}buildStyles(e,t,o){const u=this._stateStyles["*"],f=this._stateStyles[e],h=u?u.buildStyles(t,o):{};return f?f.buildStyles(t,o):h}build(e,t,o,u,f,h,g,_,E,C){const T=[],I=this.ast.options&&this.ast.options.params||rd,P=this.buildStyles(o,g&&g.params||rd,T),j=_&&_.params||rd,Q=this.buildStyles(u,j,T),ce=new Set,_e=new Map,we=new Map,Re="void"===u,Ne={params:Object.assign(Object.assign({},I),j)},ut=C?[]:H(e,t,this.ast.animation,f,h,P,Q,Ne,E,T);let It=0;if(ut.forEach(Wr=>{It=Math.max(Wr.duration+Wr.delay,It)}),T.length)return Eg(t,this._triggerName,o,u,Re,P,Q,[],[],_e,we,It,T);ut.forEach(Wr=>{const po=Wr.element,s0=mr(_e,po,{});Wr.preStyleProps.forEach(id=>s0[id]=!0);const a0=mr(we,po,{});Wr.postStyleProps.forEach(id=>a0[id]=!0),po!==t&&ce.add(po)});const Li=co(ce.values());return Eg(t,this._triggerName,o,u,Re,P,Q,ut,Li,_e,we,It)}}class AR{constructor(e,t,o){this.styles=e,this.defaultParams=t,this.normalizer=o}buildStyles(e,t){const o={},u=Fi(this.defaultParams);return Object.keys(e).forEach(f=>{const h=e[f];null!=h&&(u[f]=h)}),this.styles.styles.forEach(f=>{if("string"!=typeof f){const h=f;Object.keys(h).forEach(g=>{let _=h[g];_.length>1&&(_=td(_,u,t));const E=this.normalizer.normalizePropertyName(g,t);_=this.normalizer.normalizeStyleValue(g,E,_,t),o[E]=_})}}),o}}class NR{constructor(e,t,o){this.name=e,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states={},t.states.forEach(u=>{this.states[u.name]=new AR(u.style,u.options&&u.options.params||{},o)}),k1(this.states,"true","1"),k1(this.states,"false","0"),t.transitions.forEach(u=>{this.transitionFactories.push(new F1(e,u,this.states))}),this.fallbackTransition=function(i,e,t){return new F1(i,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,g)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,o,u){return this.transitionFactories.find(h=>h.match(e,t,o,u))||null}matchStyles(e,t,o){return this.fallbackTransition.buildStyles(e,t,o)}}function k1(i,e,t){i.hasOwnProperty(e)?i.hasOwnProperty(t)||(i[t]=i[e]):i.hasOwnProperty(t)&&(i[e]=i[t])}const OR=new D;class PR{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(e,t){const o=[],u=WD(this._driver,t,o);if(o.length)throw new Error(`Unable to build the animation due to the following errors: ${o.join("\n")}`);this._animations[e]=u}_buildPlayer(e,t,o){const u=e.element,f=U_(0,this._normalizer,0,e.keyframes,t,o);return this._driver.animate(u,f,e.duration,e.delay,e.easing,[],!0)}create(e,t,o={}){const u=[],f=this._animations[e];let h;const g=new Map;if(f?(h=H(this._driver,t,f,K_,Bl,{},{},o,OR,u),h.forEach(C=>{const T=mr(g,C.element,{});C.postStyleProps.forEach(I=>T[I]=null)})):(u.push("The requested animation doesn't exist or has already been destroyed"),h=[]),u.length)throw new Error(`Unable to create the animation due to the following errors: ${u.join("\n")}`);g.forEach((C,T)=>{Object.keys(C).forEach(I=>{C[I]=this._driver.computeStyle(T,I,jo)})});const E=Rs(h.map(C=>{const T=g.get(C.element);return this._buildPlayer(C,{},T)}));return this._playersById[e]=E,E.onDestroy(()=>this.destroy(e)),this.players.push(E),E}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,o,u){const f=G_(t,"","","");return j_(this._getPlayer(e),o,f,u),()=>{}}command(e,t,o,u){if("register"==o)return void this.register(e,u[0]);if("create"==o)return void this.create(e,t,u[0]||{});const f=this._getPlayer(e);switch(o){case"play":f.play();break;case"pause":f.pause();break;case"reset":f.reset();break;case"restart":f.restart();break;case"finish":f.finish();break;case"init":f.init();break;case"setPosition":f.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(e)}}}const L1="ng-animate-queued",V1="ng-animate-disabled",U1=".ng-animate-disabled",LR=[],j1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},VR={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fo="__ng_removed";class CM{constructor(e,t=""){this.namespaceId=t;const o=e&&e.hasOwnProperty("value");if(this.value=function(i){return null!=i?i:null}(o?e.value:e),o){const f=Fi(e);delete f.value,this.options=f}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const o=this.options.params;Object.keys(t).forEach(u=>{null==o[u]&&(o[u]=t[u])})}}}const o0="void",DM=new CM(o0);class UR{constructor(e,t,o){this.id=e,this.hostElement=t,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ho(t,this._hostClassName)}listen(e,t,o,u){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${o}" because the animation trigger "${t}" doesn't exist!`);if(null==o||0==o.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(i){return"start"==i||"done"==i}(o))throw new Error(`The provided animation trigger event "${o}" for the animation trigger "${t}" is not supported!`);const f=mr(this._elementListeners,e,[]),h={name:t,phase:o,callback:u};f.push(h);const g=mr(this._engine.statesByElement,e,{});return g.hasOwnProperty(t)||(ho(e,ed),ho(e,ed+"-"+t),g[t]=DM),()=>{this._engine.afterFlush(()=>{const _=f.indexOf(h);_>=0&&f.splice(_,1),this._triggers[t]||delete g[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,o,u=!0){const f=this._getTrigger(t),h=new TM(this.id,t,e);let g=this._engine.statesByElement.get(e);g||(ho(e,ed),ho(e,ed+"-"+t),this._engine.statesByElement.set(e,g={}));let _=g[t];const E=new CM(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&_&&E.absorbOptions(_.options),g[t]=E,_||(_=DM),E.value!==o0&&_.value===E.value){if(!function(i,e){const t=Object.keys(i),o=Object.keys(e);if(t.length!=o.length)return!1;for(let u=0;u<t.length;u++){const f=t[u];if(!e.hasOwnProperty(f)||i[f]!==e[f])return!1}return!0}(_.params,E.params)){const j=[],Q=f.matchStyles(_.value,_.params,j),ce=f.matchStyles(E.value,E.params,j);j.length?this._engine.reportError(j):this._engine.afterFlush(()=>{xs(e,Q),ki(e,ce)})}return}const I=mr(this._engine.playersByElement,e,[]);I.forEach(j=>{j.namespaceId==this.id&&j.triggerName==t&&j.queued&&j.destroy()});let N=f.matchTransition(_.value,E.value,e,E.params),P=!1;if(!N){if(!u)return;N=f.fallbackTransition,P=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:N,fromState:_,toState:E,player:h,isFallbackTransition:P}),P||(ho(e,L1),h.onStart(()=>{wg(e,L1)})),h.onDone(()=>{let j=this.players.indexOf(h);j>=0&&this.players.splice(j,1);const Q=this._engine.playersByElement.get(e);if(Q){let ce=Q.indexOf(h);ce>=0&&Q.splice(ce,1)}}),this.players.push(h),I.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,o)=>{delete t[e]}),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(u=>u.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const o=this._engine.driver.query(e,yg,!0);o.forEach(u=>{if(u[fo])return;const f=this._engine.fetchNamespacesByElement(u);f.size?f.forEach(h=>h.triggerLeaveAnimation(u,t,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(e,t,o,u){const f=this._engine.statesByElement.get(e);if(f){const h=[];if(Object.keys(f).forEach(g=>{if(this._triggers[g]){const _=this.trigger(e,g,o0,u);_&&h.push(_)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),o&&Rs(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),o=this._engine.statesByElement.get(e);if(t&&o){const u=new Set;t.forEach(f=>{const h=f.name;if(u.has(h))return;u.add(h);const _=this._triggers[h].fallbackTransition,E=o[h]||DM,C=new CM(o0),T=new TM(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:_,fromState:E,toState:C,player:T,isFallbackTransition:!0})})}}removeNode(e,t){const o=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let u=!1;if(o.totalAnimations){const f=o.players.length?o.playersByQueriedElement.get(e):[];if(f&&f.length)u=!0;else{let h=e;for(;h=h.parentNode;)if(o.statesByElement.get(h)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(e),u)o.markElementAsRemoved(this.id,e,!1,t);else{const f=e[fo];(!f||f===j1)&&(o.afterFlush(()=>this.clearElementCache(e)),o.destroyInnerAnimations(e),o._onRemovalComplete(e,t))}}insertNode(e,t){ho(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(o=>{const u=o.player;if(u.destroyed)return;const f=o.element,h=this._elementListeners.get(f);h&&h.forEach(g=>{if(g.name==o.triggerName){const _=G_(f,o.triggerName,o.fromState.value,o.toState.value);_._data=e,j_(o.player,g.phase,_,g.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):t.push(o)}),this._queue=[],t.sort((o,u)=>{const f=o.transition.ast.depCount,h=u.transition.ast.depCount;return 0==f||0==h?f-h:this._engine.driver.containsElement(o.element,u.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(o=>o.element===e)||t,t}}class jR{constructor(e,t,o){this.bodyNode=e,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(u,f)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&e.push(o)})}),e}createNamespace(e,t){const o=new UR(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[e]=o}_balanceNamespaceList(e,t){const o=this._namespaceList.length-1;if(o>=0){let u=!1;for(let f=o;f>=0;f--)if(this.driver.containsElement(this._namespaceList[f].hostElement,t)){this._namespaceList.splice(f+1,0,e),u=!0;break}u||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let o=this._namespaceLookup[e];return o||(o=this.createNamespace(e,t)),o}registerTrigger(e,t,o){let u=this._namespaceLookup[e];u&&u.register(t,o)&&this.totalAnimations++}destroy(e,t){if(!e)return;const o=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[e];const u=this._namespaceList.indexOf(o);u>=0&&this._namespaceList.splice(u,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,o=this.statesByElement.get(e);if(o){const u=Object.keys(o);for(let f=0;f<u.length;f++){const h=o[u[f]].namespaceId;if(h){const g=this._fetchNamespace(h);g&&t.add(g)}}}return t}trigger(e,t,o,u){if(QD(t)){const f=this._fetchNamespace(e);if(f)return f.trigger(t,o,u),!0}return!1}insertNode(e,t,o,u){if(!QD(t))return;const f=t[fo];if(f&&f.setForRemoval){f.setForRemoval=!1,f.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,o)}u&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ho(e,V1)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),wg(e,V1))}removeNode(e,t,o,u){if(QD(t)){const f=e?this._fetchNamespace(e):null;if(f?f.removeNode(t,u):this.markElementAsRemoved(e,t,!1,u),o){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,u)}}else this._onRemovalComplete(t,u)}markElementAsRemoved(e,t,o,u){this.collectedLeaveElements.push(t),t[fo]={namespaceId:e,setForRemoval:u,hasAnimation:o,removedBeforeQueried:!1}}listen(e,t,o,u,f){return QD(t)?this._fetchNamespace(e).listen(t,o,u,f):()=>{}}_buildInstruction(e,t,o,u,f){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,o,u,e.fromState.options,e.toState.options,t,f)}destroyInnerAnimations(e){let t=this.driver.query(e,yg,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Q_,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Rs(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[fo];if(t&&t.setForRemoval){if(e[fo]=j1,t.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(t.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,U1)&&this.markElementAsDisabled(e,!1),this.driver.query(e,U1,!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,u)=>this._balanceNamespaceList(o,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)ho(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,e)}finally{for(let u=0;u<o.length;u++)o[u]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?Rs(t).onDone(()=>{o.forEach(u=>u())}):o.forEach(u=>u())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const o=new D,u=[],f=new Map,h=[],g=new Map,_=new Map,E=new Map,C=new Set;this.disabledNodes.forEach(ke=>{C.add(ke);const ze=this.driver.query(ke,".ng-animate-queued",!0);for(let st=0;st<ze.length;st++)C.add(ze[st])});const T=this.bodyNode,I=Array.from(this.statesByElement.keys()),N=H1(I,this.collectedEnterElements),P=new Map;let j=0;N.forEach((ke,ze)=>{const st=K_+j++;P.set(ze,st),ke.forEach(At=>ho(At,st))});const Q=[],ce=new Set,_e=new Set;for(let ke=0;ke<this.collectedLeaveElements.length;ke++){const ze=this.collectedLeaveElements[ke],st=ze[fo];st&&st.setForRemoval&&(Q.push(ze),ce.add(ze),st.hasAnimation?this.driver.query(ze,".ng-star-inserted",!0).forEach(At=>ce.add(At)):_e.add(ze))}const we=new Map,Re=H1(I,Array.from(ce));Re.forEach((ke,ze)=>{const st=Bl+j++;we.set(ze,st),ke.forEach(At=>ho(At,st))}),e.push(()=>{N.forEach((ke,ze)=>{const st=P.get(ze);ke.forEach(At=>wg(At,st))}),Re.forEach((ke,ze)=>{const st=we.get(ze);ke.forEach(At=>wg(At,st))}),Q.forEach(ke=>{this.processLeaveNode(ke)})});const Ne=[],ut=[];for(let ke=this._namespaceList.length-1;ke>=0;ke--)this._namespaceList[ke].drainQueuedTransitions(t).forEach(st=>{const At=st.player,sr=st.element;if(Ne.push(At),this.collectedEnterElements.length){const Ls=sr[fo];if(Ls&&Ls.setForMove)return void At.destroy()}const ks=!T||!this.driver.containsElement(T,sr),Vi=we.get(sr),$l=P.get(sr),En=this._buildInstruction(st,o,$l,Vi,ks);if(En.errors&&En.errors.length)ut.push(En);else{if(ks)return At.onStart(()=>xs(sr,En.fromStyles)),At.onDestroy(()=>ki(sr,En.toStyles)),void u.push(At);if(st.isFallbackTransition)return At.onStart(()=>xs(sr,En.fromStyles)),At.onDestroy(()=>ki(sr,En.toStyles)),void u.push(At);En.timelines.forEach(Ls=>Ls.stretchStartingKeyframe=!0),o.append(sr,En.timelines),h.push({instruction:En,player:At,element:sr}),En.queriedElements.forEach(Ls=>mr(g,Ls,[]).push(At)),En.preStyleProps.forEach((Ls,u0)=>{const eT=Object.keys(Ls);if(eT.length){let od=_.get(u0);od||_.set(u0,od=new Set),eT.forEach(MM=>od.add(MM))}}),En.postStyleProps.forEach((Ls,u0)=>{const eT=Object.keys(Ls);let od=E.get(u0);od||E.set(u0,od=new Set),eT.forEach(MM=>od.add(MM))})}});if(ut.length){const ke=[];ut.forEach(ze=>{ke.push(`@${ze.triggerName} has failed due to:\n`),ze.errors.forEach(st=>ke.push(`- ${st}\n`))}),Ne.forEach(ze=>ze.destroy()),this.reportError(ke)}const It=new Map,Li=new Map;h.forEach(ke=>{const ze=ke.element;o.has(ze)&&(Li.set(ze,ze),this._beforeAnimationBuild(ke.player.namespaceId,ke.instruction,It))}),u.forEach(ke=>{const ze=ke.element;this._getPreviousPlayers(ze,!1,ke.namespaceId,ke.triggerName,null).forEach(At=>{mr(It,ze,[]).push(At),At.destroy()})});const Wr=Q.filter(ke=>q1(ke,_,E)),po=new Map;G1(po,this.driver,_e,E,jo).forEach(ke=>{q1(ke,_,E)&&Wr.push(ke)});const a0=new Map;N.forEach((ke,ze)=>{G1(a0,this.driver,new Set(ke),_,"!")}),Wr.forEach(ke=>{const ze=po.get(ke),st=a0.get(ke);po.set(ke,Object.assign(Object.assign({},ze),st))});const id=[],dR=[],hR={};h.forEach(ke=>{const{element:ze,player:st,instruction:At}=ke;if(o.has(ze)){if(C.has(ze))return st.onDestroy(()=>ki(ze,At.toStyles)),st.disabled=!0,st.overrideTotalTime(At.totalTime),void u.push(st);let sr=hR;if(Li.size>1){let Vi=ze;const $l=[];for(;Vi=Vi.parentNode;){const En=Li.get(Vi);if(En){sr=En;break}$l.push(Vi)}$l.forEach(En=>Li.set(En,sr))}const ks=this._buildAnimation(st.namespaceId,At,It,f,a0,po);if(st.setRealPlayer(ks),sr===hR)id.push(st);else{const Vi=this.playersByElement.get(sr);Vi&&Vi.length&&(st.parentPlayer=Rs(Vi)),u.push(st)}}else xs(ze,At.fromStyles),st.onDestroy(()=>ki(ze,At.toStyles)),dR.push(st),C.has(ze)&&u.push(st)}),dR.forEach(ke=>{const ze=f.get(ke.element);if(ze&&ze.length){const st=Rs(ze);ke.setRealPlayer(st)}}),u.forEach(ke=>{ke.parentPlayer?ke.syncPlayerEvents(ke.parentPlayer):ke.destroy()});for(let ke=0;ke<Q.length;ke++){const ze=Q[ke],st=ze[fo];if(wg(ze,Bl),st&&st.hasAnimation)continue;let At=[];if(g.size){let ks=g.get(ze);ks&&ks.length&&At.push(...ks);let Vi=this.driver.query(ze,Q_,!0);for(let $l=0;$l<Vi.length;$l++){let En=g.get(Vi[$l]);En&&En.length&&At.push(...En)}}const sr=At.filter(ks=>!ks.destroyed);sr.length?$R(this,ze,sr):this.processLeaveNode(ze)}return Q.length=0,id.forEach(ke=>{this.players.push(ke),ke.onDone(()=>{ke.destroy();const ze=this.players.indexOf(ke);this.players.splice(ze,1)}),ke.play()}),id}elementContainsData(e,t){let o=!1;const u=t[fo];return u&&u.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(e).elementContainsData(t)||o}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,o,u,f){let h=[];if(t){const g=this.playersByQueriedElement.get(e);g&&(h=g)}else{const g=this.playersByElement.get(e);if(g){const _=!f||f==o0;g.forEach(E=>{E.queued||!_&&E.triggerName!=u||h.push(E)})}}return(o||u)&&(h=h.filter(g=>!(o&&o!=g.namespaceId||u&&u!=g.triggerName))),h}_beforeAnimationBuild(e,t,o){const f=t.element,h=t.isRemovalTransition?void 0:e,g=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const E=_.element,C=E!==f,T=mr(o,E,[]);this._getPreviousPlayers(E,C,h,g,t.toState).forEach(N=>{const P=N.getRealPlayer();P.beforeDestroy&&P.beforeDestroy(),N.destroy(),T.push(N)})}xs(f,t.fromStyles)}_buildAnimation(e,t,o,u,f,h){const g=t.triggerName,_=t.element,E=[],C=new Set,T=new Set,I=t.timelines.map(P=>{const j=P.element;C.add(j);const Q=j[fo];if(Q&&Q.removedBeforeQueried)return new Bo(P.duration,P.delay);const ce=j!==_,_e=function(i){const e=[];return $1(i,e),e}((o.get(j)||LR).map(It=>It.getRealPlayer())).filter(It=>!!It.element&&It.element===j),we=f.get(j),Re=h.get(j),Ne=U_(0,this._normalizer,0,P.keyframes,we,Re),ut=this._buildPlayer(P,Ne,_e);if(P.subTimeline&&u&&T.add(j),ce){const It=new TM(e,g,j);It.setRealPlayer(ut),E.push(It)}return ut});E.forEach(P=>{mr(this.playersByQueriedElement,P.element,[]).push(P),P.onDone(()=>function(i,e,t){let o;if(i instanceof Map){if(o=i.get(e),o){if(o.length){const u=o.indexOf(t);o.splice(u,1)}0==o.length&&i.delete(e)}}else if(o=i[e],o){if(o.length){const u=o.indexOf(t);o.splice(u,1)}0==o.length&&delete i[e]}return o}(this.playersByQueriedElement,P.element,P))}),C.forEach(P=>ho(P,BD));const N=Rs(I);return N.onDestroy(()=>{C.forEach(P=>wg(P,BD)),ki(_,t.toStyles)}),T.forEach(P=>{mr(u,P,[]).push(N)}),N}_buildPlayer(e,t,o){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,o):new Bo(e.duration,e.delay)}}class TM{constructor(e,t,o){this.namespaceId=e,this.triggerName=t,this.element=o,this._player=new Bo,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(o=>j_(e,t,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){mr(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function QD(i){return i&&1===i.nodeType}function B1(i,e){const t=i.style.display;return i.style.display=null!=e?e:"none",t}function G1(i,e,t,o,u){const f=[];t.forEach(_=>f.push(B1(_)));const h=[];o.forEach((_,E)=>{const C={};_.forEach(T=>{const I=C[T]=e.computeStyle(E,T,u);(!I||0==I.length)&&(E[fo]=VR,h.push(E))}),i.set(E,C)});let g=0;return t.forEach(_=>B1(_,f[g++])),h}function H1(i,e){const t=new Map;if(i.forEach(g=>t.set(g,[])),0==e.length)return t;const u=new Set(e),f=new Map;function h(g){if(!g)return 1;let _=f.get(g);if(_)return _;const E=g.parentNode;return _=t.has(E)?E:u.has(E)?1:h(E),f.set(g,_),_}return e.forEach(g=>{const _=h(g);1!==_&&t.get(_).push(g)}),t}const YD="$$classes";function ho(i,e){if(i.classList)i.classList.add(e);else{let t=i[YD];t||(t=i[YD]={}),t[e]=!0}}function wg(i,e){if(i.classList)i.classList.remove(e);else{let t=i[YD];t&&delete t[e]}}function $R(i,e,t){Rs(t).onDone(()=>i.processLeaveNode(e))}function $1(i,e){for(let t=0;t<i.length;t++){const o=i[t];o instanceof Jf?$1(o.players,e):e.push(o)}}function q1(i,e,t){const o=t.get(i);if(!o)return!1;let u=e.get(i);return u?o.forEach(f=>u.add(f)):e.set(i,o),t.delete(i),!0}class ZD{constructor(e,t,o){this.bodyNode=e,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(u,f)=>{},this._transitionEngine=new jR(e,t,o),this._timelineEngine=new PR(e,t,o),this._transitionEngine.onRemovalComplete=(u,f)=>this.onRemovalComplete(u,f)}registerTrigger(e,t,o,u,f){const h=e+"-"+u;let g=this._triggerCache[h];if(!g){const _=[],E=WD(this._driver,f,_);if(_.length)throw new Error(`The animation trigger "${u}" has failed to build due to the following errors:\n - ${_.join("\n - ")}`);g=function(i,e,t){return new NR(i,e,t)}(u,E,this._normalizer),this._triggerCache[h]=g}this._transitionEngine.registerTrigger(t,u,g)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,o,u){this._transitionEngine.insertNode(e,t,o,u)}onRemove(e,t,o,u){this._transitionEngine.removeNode(e,t,u||!1,o)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,o,u){if("@"==o.charAt(0)){const[f,h]=kD(o);this._timelineEngine.command(f,t,h,u)}else this._transitionEngine.trigger(e,t,o,u)}listen(e,t,o,u,f){if("@"==o.charAt(0)){const[h,g]=kD(o);return this._timelineEngine.listen(h,t,g,f)}return this._transitionEngine.listen(e,t,o,u,f)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}class Cg{constructor(e,t,o){this._element=e,this._startStyles=t,this._endStyles=o,this._state=0;let u=Cg.initialStylesByElement.get(e);u||Cg.initialStylesByElement.set(e,u={}),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&ki(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ki(this._element,this._initialStyles),this._endStyles&&(ki(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(Cg.initialStylesByElement.delete(this._element),this._startStyles&&(xs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(xs(this._element,this._endStyles),this._endStyles=null),ki(this._element,this._initialStyles),this._state=3)}}Cg.initialStylesByElement=new WeakMap;let lO=(()=>{class i extends OD{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:y.ifc.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const u=Array.isArray(t)?PD(t):t;return iR(this._renderer,null,o,"register",[u]),new cO(o,this._renderer)}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(y.FYo),y.LFG(de))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();class cO extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new fO(this._id,e,t||{},this._renderer)}}class fO{constructor(e,t,o,u){this.id=e,this.element=t,this._renderer=u,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return iR(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function iR(i,e,t,o,u){return i.setProperty(e,`@@${t}:${o}`,u)}const oR="@.disabled";let dO=(()=>{class i{constructor(t,o,u){this.delegate=t,this.engine=o,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(f,h)=>{h&&h.parentNode(f)&&h.removeChild(f.parentNode,f)}}createRenderer(t,o){const f=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let C=this._rendererCache.get(f);return C||(C=new sR("",f,this.engine),this._rendererCache.set(f,C)),C}const h=o.id,g=o.id+"-"+this._currentId;this._currentId++,this.engine.register(g,t);const _=C=>{Array.isArray(C)?C.forEach(_):this.engine.registerTrigger(h,g,t,C.name,C)};return o.data.animation.forEach(_),new hO(this,g,f,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,u){t>=0&&t<this._microtaskId?this._zone.run(()=>o(u)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(f=>{const[h,g]=f;h(g)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,u]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(y.FYo),y.LFG(ZD),y.LFG(y.R0b))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();class sR{constructor(e,t,o){this.namespaceId=e,this.delegate=t,this.engine=o,this.destroyNode=this.delegate.destroyNode?u=>t.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,o,u=!0){this.delegate.insertBefore(e,t,o),this.engine.onInsert(this.namespaceId,t,e,u)}removeChild(e,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,o,u){this.delegate.setAttribute(e,t,o,u)}removeAttribute(e,t,o){this.delegate.removeAttribute(e,t,o)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,o,u){this.delegate.setStyle(e,t,o,u)}removeStyle(e,t,o){this.delegate.removeStyle(e,t,o)}setProperty(e,t,o){"@"==t.charAt(0)&&t==oR?this.disableAnimations(e,!!o):this.delegate.setProperty(e,t,o)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,o){return this.delegate.listen(e,t,o)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class hO extends sR{constructor(e,t,o,u){super(t,o,u),this.factory=e,this.namespaceId=t}setProperty(e,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==oR?this.disableAnimations(e,o=void 0===o||!!o):this.engine.process(this.namespaceId,e,t.substr(1),o):this.delegate.setProperty(e,t,o)}listen(e,t,o){if("@"==t.charAt(0)){const u=function(i){switch(i){case"body":return document.body;case"document":return document;case"window":return window;default:return i}}(e);let f=t.substr(1),h="";return"@"!=f.charAt(0)&&([f,h]=function(i){const e=i.indexOf(".");return[i.substring(0,e),i.substr(e+1)]}(f)),this.engine.listen(this.namespaceId,u,f,h,g=>{this.factory.scheduleListenerCallback(g._data||-1,o,g)})}return this.delegate.listen(e,t,o)}}let mO=(()=>{class i extends ZD{constructor(t,o,u){super(t.body,o,u)}ngOnDestroy(){this.flush()}}return i.\u0275fac=function(t){return new(t||i)(y.LFG(de),y.LFG(Os),y.LFG(Fs))},i.\u0275prov=y.Yz7({token:i,factory:i.\u0275fac}),i})();const cR=[{provide:Os,useClass:Go},{provide:new y.OlP("AnimationModuleType"),useValue:"NoopAnimations"},...[{provide:OD,useClass:lO},{provide:Fs,useFactory:function(){return new Hl}},{provide:ZD,useClass:mO},{provide:y.FYo,useFactory:function(i,e,t){return new dO(i,e,t)},deps:[Hs,ZD,y.R0b]}]];let bO=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=y.oAB({type:i}),i.\u0275inj=y.cJS({providers:cR,imports:[$s]}),i})();const fR_firebaseConfig={apiKey:"AIzaSyDaDxkZHkwvJy0N7o_DVcmMXIx_6vPSZ7I",authDomain:"tplab4-45942.firebaseapp.com",databaseURL:"https://tplab4-45942.firebaseio.com",projectId:"tplab4-45942",storageBucket:"tplab4-45942.appspot.com",messagingSenderId:"544089026720",appId:"1:544089026720:web:12140e7d4d8c437ea759c5"};let EO=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=y.oAB({type:i,bootstrap:[k_]}),i.\u0275inj=y.cJS({providers:[],imports:[[$s,I1,bO,Mt.hO.initializeApp(fR_firebaseConfig),Qb,Jd,YN,sM,oM]]}),i})();(0,y.G48)(),CT().bootstrapModule(EO).catch(i=>console.error(i))},4762:(je,me,x)=>{"use strict";x.d(me,{ZT:()=>ne,pi:()=>he,mG:()=>fe,Jh:()=>q,XA:()=>B,CR:()=>k,ev:()=>oe});var y=function(K,ee){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(W,Y){W.__proto__=Y}||function(W,Y){for(var ve in Y)Object.prototype.hasOwnProperty.call(Y,ve)&&(W[ve]=Y[ve])})(K,ee)};function ne(K,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Class extends value "+String(ee)+" is not a constructor or null");function W(){this.constructor=K}y(K,ee),K.prototype=null===ee?Object.create(ee):(W.prototype=ee.prototype,new W)}var he=function(){return(he=Object.assign||function(ee){for(var W,Y=1,ve=arguments.length;Y<ve;Y++)for(var Z in W=arguments[Y])Object.prototype.hasOwnProperty.call(W,Z)&&(ee[Z]=W[Z]);return ee}).apply(this,arguments)};function fe(K,ee,W,Y){return new(W||(W=Promise))(function(Z,xe){function Xe(Zt){try{Ue(Y.next(Zt))}catch(Ye){xe(Ye)}}function Yt(Zt){try{Ue(Y.throw(Zt))}catch(Ye){xe(Ye)}}function Ue(Zt){Zt.done?Z(Zt.value):function(Z){return Z instanceof W?Z:new W(function(xe){xe(Z)})}(Zt.value).then(Xe,Yt)}Ue((Y=Y.apply(K,ee||[])).next())})}function q(K,ee){var Y,ve,Z,xe,W={label:0,sent:function(){if(1&Z[0])throw Z[1];return Z[1]},trys:[],ops:[]};return xe={next:Xe(0),throw:Xe(1),return:Xe(2)},"function"==typeof Symbol&&(xe[Symbol.iterator]=function(){return this}),xe;function Xe(Ue){return function(Zt){return function(Ue){if(Y)throw new TypeError("Generator is already executing.");for(;W;)try{if(Y=1,ve&&(Z=2&Ue[0]?ve.return:Ue[0]?ve.throw||((Z=ve.return)&&Z.call(ve),0):ve.next)&&!(Z=Z.call(ve,Ue[1])).done)return Z;switch(ve=0,Z&&(Ue=[2&Ue[0],Z.value]),Ue[0]){case 0:case 1:Z=Ue;break;case 4:return W.label++,{value:Ue[1],done:!1};case 5:W.label++,ve=Ue[1],Ue=[0];continue;case 7:Ue=W.ops.pop(),W.trys.pop();continue;default:if(!(Z=(Z=W.trys).length>0&&Z[Z.length-1])&&(6===Ue[0]||2===Ue[0])){W=0;continue}if(3===Ue[0]&&(!Z||Ue[1]>Z[0]&&Ue[1]<Z[3])){W.label=Ue[1];break}if(6===Ue[0]&&W.label<Z[1]){W.label=Z[1],Z=Ue;break}if(Z&&W.label<Z[2]){W.label=Z[2],W.ops.push(Ue);break}Z[2]&&W.ops.pop(),W.trys.pop();continue}Ue=ee.call(K,W)}catch(Zt){Ue=[6,Zt],ve=0}finally{Y=Z=0}if(5&Ue[0])throw Ue[1];return{value:Ue[0]?Ue[1]:void 0,done:!0}}([Ue,Zt])}}}function B(K){var ee="function"==typeof Symbol&&Symbol.iterator,W=ee&&K[ee],Y=0;if(W)return W.call(K);if(K&&"number"==typeof K.length)return{next:function(){return K&&Y>=K.length&&(K=void 0),{value:K&&K[Y++],done:!K}}};throw new TypeError(ee?"Object is not iterable.":"Symbol.iterator is not defined.")}function k(K,ee){var W="function"==typeof Symbol&&K[Symbol.iterator];if(!W)return K;var ve,xe,Y=W.call(K),Z=[];try{for(;(void 0===ee||ee-- >0)&&!(ve=Y.next()).done;)Z.push(ve.value)}catch(Xe){xe={error:Xe}}finally{try{ve&&!ve.done&&(W=Y.return)&&W.call(Y)}finally{if(xe)throw xe.error}}return Z}function oe(K,ee,W){if(W||2===arguments.length)for(var Z,Y=0,ve=ee.length;Y<ve;Y++)(Z||!(Y in ee))&&(Z||(Z=Array.prototype.slice.call(ee,0,Y)),Z[Y]=ee[Y]);return K.concat(Z||Array.prototype.slice.call(ee))}}},je=>{je(je.s=8575)}]);